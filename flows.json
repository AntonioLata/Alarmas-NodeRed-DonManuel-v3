[
    {
        "id": "26dda74cf2221d09",
        "type": "tab",
        "label": "Configuraciones",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "1b3ea446545b02f2",
        "type": "tab",
        "label": "Historial de alarmas",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c0914591e7def14a",
        "type": "tab",
        "label": "Zona horaria",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "51ba17f126c92501",
        "type": "tab",
        "label": "Principal",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "cfb22f95d8f87cd7",
        "type": "tab",
        "label": "Alarmas Don Manuel v2",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5ca5ab6bbe6b937a",
        "type": "tab",
        "label": "Históricos de mediciones",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "d75a1bb19b0411c5",
        "type": "tab",
        "label": "Magnitudes de sensores para Alarmas",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6abaa9a193681e8a",
        "type": "tab",
        "label": "Mediciones Analógicas",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "c864711c6896ecb1",
        "type": "tab",
        "label": "Indice de mediciones analógicas",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "2878a8012f437808",
        "type": "tab",
        "label": "Inhibir sensores - Coral",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3c0951fce832df0e",
        "type": "tab",
        "label": "Delay",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "43ab60b9bd18089a",
        "type": "tab",
        "label": "Indices de alarmas",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "8894d7148034cca1",
        "type": "tab",
        "label": "Listado de Alarmas",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "a10ed2923bad1111",
        "type": "tab",
        "label": "Temperatura de cilindros",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "85254ca2957d3066",
        "type": "tab",
        "label": "Temperatura de gases de escape y cilindros",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "697a83d4f066a91e",
        "type": "tab",
        "label": "Listo para partir",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "6fa9f275ec13c6a3",
        "type": "subflow",
        "name": "Botón alarma - Caja reductora",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 160,
                "wires": [
                    {
                        "id": "d89e447a6498f938"
                    }
                ]
            }
        ],
        "out": [],
        "env": [
            {
                "name": "numeroAlarma",
                "type": "num",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#D8BFD8"
    },
    {
        "id": "3d86c7a5a86f5b83",
        "type": "subflow",
        "name": "Botón alarma - Sistema electrónico",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 160,
                "wires": [
                    {
                        "id": "5485ed97bf10bdda"
                    }
                ]
            }
        ],
        "out": [],
        "env": [
            {
                "name": "numeroAlarma",
                "type": "num",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#E9967A"
    },
    {
        "id": "4873a0a00a95bba6",
        "type": "subflow",
        "name": "Botón alarma - Incendio",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 140,
                "y": 160,
                "wires": [
                    {
                        "id": "3653bd0f801537fb"
                    }
                ]
            }
        ],
        "out": [],
        "env": [
            {
                "name": "numeroAlarma",
                "type": "num",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#FFCC66"
    },
    {
        "id": "12ad6fa0c258a0ae",
        "type": "subflow",
        "name": "Botón alarma - Toma fuerza frontal",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 60,
                "y": 160,
                "wires": [
                    {
                        "id": "9a37237b6b61af7d"
                    }
                ]
            }
        ],
        "out": [],
        "env": [
            {
                "name": "numeroAlarma",
                "type": "num",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#FDF0C2"
    },
    {
        "id": "5b2773813834fea0",
        "type": "subflow",
        "name": "Agregar alarma a listado",
        "info": "",
        "category": "",
        "in": [
            {
                "x": 220,
                "y": 80,
                "wires": [
                    {
                        "id": "1a567f25a5fd88ed"
                    }
                ]
            }
        ],
        "out": [
            {
                "x": 620,
                "y": 80,
                "wires": [
                    {
                        "id": "1a567f25a5fd88ed",
                        "port": 0
                    }
                ]
            }
        ],
        "env": [
            {
                "name": "numeroAlarma",
                "type": "str",
                "value": ""
            }
        ],
        "meta": {},
        "color": "#87A980",
        "icon": "node-red/debug.svg"
    },
    {
        "id": "6ee86910667a3881",
        "type": "group",
        "z": "5ca5ab6bbe6b937a",
        "name": "Guarda mediciones en base de datos",
        "style": {
            "label": true
        },
        "nodes": [
            "3e0a105aecb18d65",
            "f5a47150fa2e2f78"
        ],
        "x": 274,
        "y": 19,
        "w": 452,
        "h": 82
    },
    {
        "id": "d0812689b7e92b9c",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "COMB / LUB",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "5dcd88752ab7b574",
            "fc18f39b558cabf3",
            "3646b95cb5cee8d5",
            "19cb7f9fd0f7fc54",
            "7a8c954fe18a0970",
            "4e06d737abd9dcad",
            "140910463fb954da",
            "fdc6db8f890c9e30",
            "0a6a5ecb128398d0",
            "3de74c1f40a00ffc"
        ],
        "x": 474,
        "y": 19,
        "w": 972,
        "h": 222
    },
    {
        "id": "a187bd5f1659257a",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "AGUA ENFR.",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "4dc22aedcb73ddda",
            "32711843acd067ae",
            "7b1d3afd7d10d40f",
            "c02b1c412902a73a",
            "31655012c0ea625e",
            "8d98f7fd3a0d2a4f",
            "49e6c19e253270a6",
            "2b45f02caef3c86c",
            "4123270e4ddad19c",
            "1805f77a973f6a28"
        ],
        "x": 474,
        "y": 259,
        "w": 972,
        "h": 222
    },
    {
        "id": "2d3dca03dea1e687",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "AIRE DE CARGA",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "3307a1eca4b8188b",
            "69aa8be0fdbd7533",
            "4ac6fa9395df5436",
            "9954ae034fe8a256",
            "43477d22df71832f",
            "6faef45b72ac84c4",
            "8b638264a68954be",
            "db2c51fb15888232",
            "e2dc1653a11b694f",
            "27214594085f8847"
        ],
        "x": 474,
        "y": 499,
        "w": 972,
        "h": 222
    },
    {
        "id": "a4528126c4febae8",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "GASES ESCAPE",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "0ccba00b4938b3d4",
            "0af7e5c441c27cc1",
            "c2231f84b3c32712",
            "ce7a986041465108",
            "db3ff4caba611f03",
            "e792a90fac5d359b",
            "736bae57edbe6697",
            "88404ddbdf3a6358",
            "c8632427a4b9eb4f",
            "d3d454bafd00a994"
        ],
        "x": 474,
        "y": 739,
        "w": 972,
        "h": 222
    },
    {
        "id": "214324b62065e36c",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "CIGÜEÑAL",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "bfe0211863865699",
            "98b85948c33f2a5c",
            "a5dfa4a0895ab0cd",
            "e9d7794692c1d808",
            "e6203fe05782028e",
            "0abded2cb619e51a",
            "deec9a16810d3a78",
            "5bf44776d03578e2",
            "8175cbaae90117f9",
            "eb192ab25a5f1664"
        ],
        "x": 474,
        "y": 979,
        "w": 972,
        "h": 222
    },
    {
        "id": "3c784f294d07ec17",
        "type": "group",
        "z": "1b3ea446545b02f2",
        "name": "Guarda en base de datos",
        "style": {
            "label": true
        },
        "nodes": [
            "31c4347cac1aa4fc",
            "1e0f2c40800968e8",
            "1a84debc0d24a41d"
        ],
        "x": 14,
        "y": 19,
        "w": 792,
        "h": 82
    },
    {
        "id": "64005ba74d97e46a",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "BLOQUEO PARADA",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "4a7a54cfcbedab53",
            "c2dd592d2e2e3720",
            "a3160f437f41ea68",
            "02973a6a813434bc",
            "bd83f799e82ef211",
            "8277aae6afd0c680",
            "978268d29b907264",
            "596713f0f90addc4",
            "95699bec420b320a",
            "bf1ca30d84c14ed1"
        ],
        "x": 474,
        "y": 1459,
        "w": 972,
        "h": 222
    },
    {
        "id": "ba1765cc12a9c34d",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "MISCELÁNEOS",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "99b4648935270ef0",
            "46f2cc2016c915e2",
            "f2721a218d1c422c",
            "336a35548b926e1b",
            "b4ce4f48aac6361d",
            "26947267902d3f50",
            "26443391465b8eab",
            "084380d9a1ba3c52",
            "096a158e2c629137",
            "72f68abb49a87df6"
        ],
        "x": 474,
        "y": 1699,
        "w": 972,
        "h": 222
    },
    {
        "id": "cb1dd633b6bec734",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "CAJA Y THRUSTER",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "94a43dc7444ac1c1",
            "c7ca3faf827c6369",
            "a4106b393ec2f777",
            "9c4573110f2a7b1e",
            "d442d7a01c40e440",
            "6b36d629dda093a2",
            "d66135cf65c12edc",
            "b1651b45e90d3a14",
            "69a54ef9cfcf5b3f",
            "39f08fc3253d1b01"
        ],
        "x": 474,
        "y": 1939,
        "w": 972,
        "h": 222
    },
    {
        "id": "8eb09636907a3d22",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "SENTINAS",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "4406babdcbbb48bb",
            "9dc58635df9ae751",
            "3c92f4e6bf420da5",
            "a53a4daed20c9c02",
            "4f6397c394d79b8a",
            "8fb4d1b6fb1851c1",
            "3cc0c60b0ae79544",
            "5ba4850ad5dd7f7d",
            "df6d3086b1f89a74",
            "e13a40c206b1cf5c"
        ],
        "x": 474,
        "y": 2179,
        "w": 972,
        "h": 222
    },
    {
        "id": "9005198e12692a07",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "ESTANQUES",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "fb54dcd210a0e5bf",
            "384e58a5f2510872",
            "d12b57ac021ed554",
            "9e86976889c576ae",
            "cdf72a855bf1b199",
            "1c4f70fb4e1b4566",
            "f89b10f76160a58d",
            "4851d12d914693b1",
            "863fdbe568ef3f5e",
            "7a09b9f3df4888fa"
        ],
        "x": 474,
        "y": 2419,
        "w": 972,
        "h": 222
    },
    {
        "id": "a7665cdbd8e289a5",
        "type": "group",
        "z": "cfb22f95d8f87cd7",
        "name": "CILINDROS",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "adb1b691a3e69821",
            "a2ce4b3a06433c7d",
            "04e6cbef10cc5f4f",
            "8cb1e325e911148a",
            "1f8d69877c0ecfd3",
            "5c15ab92ddeb4ce3",
            "184c86f6d8e0f1d0",
            "f92391e00c91d140",
            "8981091cfb1a40a8",
            "b9f3557f69972aa8"
        ],
        "x": 474,
        "y": 1219,
        "w": 972,
        "h": 222
    },
    {
        "id": "a7396a5bdff36c60",
        "type": "group",
        "z": "43ab60b9bd18089a",
        "name": "Botones de índice de alarmas",
        "style": {
            "label": true,
            "color": "#777777"
        },
        "nodes": [
            "8cea39b44159d9a5",
            "eecfa5b1862ea559",
            "1ffd5fa67c91024b"
        ],
        "x": 234,
        "y": 99,
        "w": 612,
        "h": 82
    },
    {
        "id": "05ed3acac790581d",
        "type": "group",
        "z": "6abaa9a193681e8a",
        "name": "TEMPERATURAS CIGÜEÑAL",
        "style": {
            "label": true
        },
        "nodes": [
            "d4a030452e920221",
            "6c4cb88fd9495bfb"
        ],
        "x": 294,
        "y": 39,
        "w": 492,
        "h": 82
    },
    {
        "id": "35b66488e44a4285",
        "type": "group",
        "z": "6abaa9a193681e8a",
        "name": "TEMPERATURA GASES DE ESCAPE",
        "style": {
            "label": true
        },
        "nodes": [
            "18cdc8c5b55737d8",
            "f2f1fbc3baba4a6c"
        ],
        "x": 294,
        "y": 139,
        "w": 492,
        "h": 82
    },
    {
        "id": "2a0cc416539ec146",
        "type": "group",
        "z": "6abaa9a193681e8a",
        "name": "SISTEMA AGUA ENFRIAMIENTO ",
        "style": {
            "label": true
        },
        "nodes": [
            "26d11b07b876c853",
            "4f82dfd06e0ff8cc"
        ],
        "x": 294,
        "y": 239,
        "w": 492,
        "h": 82
    },
    {
        "id": "8917af49ccf6abe5",
        "type": "group",
        "z": "6abaa9a193681e8a",
        "name": "TEMPERATURA DE CILINDROS",
        "style": {
            "label": true
        },
        "nodes": [
            "66576e6a4fc9b51c",
            "a15cb879c4b12ae4"
        ],
        "x": 294,
        "y": 339,
        "w": 492,
        "h": 82
    },
    {
        "id": "afd5d1a4f3c9df93",
        "type": "group",
        "z": "6abaa9a193681e8a",
        "name": "COMBUSTIBLE Y LUBRICANTE",
        "style": {
            "label": true
        },
        "nodes": [
            "8a1453a9e93396f6",
            "f5b51defb0b79bda"
        ],
        "x": 294,
        "y": 439,
        "w": 492,
        "h": 82
    },
    {
        "id": "4f942fb7e1e2b895",
        "type": "group",
        "z": "6abaa9a193681e8a",
        "name": "DESEMPEÑO MOTOR ",
        "style": {
            "label": true
        },
        "nodes": [
            "fc72a6685667cc39",
            "a0bf12656a8d84df"
        ],
        "x": 294,
        "y": 539,
        "w": 492,
        "h": 82
    },
    {
        "id": "dcf2eeac0f48a3c7",
        "type": "group",
        "z": "6abaa9a193681e8a",
        "name": "VALORES ANÁLOGOS ALARMAS ",
        "style": {
            "label": true
        },
        "nodes": [
            "5443fa2c413ecfe4",
            "58f9096f8370a4c3"
        ],
        "x": 294,
        "y": 639,
        "w": 492,
        "h": 82
    },
    {
        "id": "a1923c0b93694b7c",
        "type": "group",
        "z": "26dda74cf2221d09",
        "name": "Lectura desde PLC39 de variables analógicas",
        "style": {
            "label": true
        },
        "nodes": [
            "f702aab0169e8fef",
            "dbfc72fe0c69d206",
            "28c5967091e3ed4e",
            "fac6d97535cf9aeb",
            "cebecf0f551b7ac1",
            "dfe36f09c9a19d2e",
            "f9acacfb66958bb2",
            "261a9c40dc2192aa",
            "ae5839d4758ddee4",
            "66b40814382899e9",
            "33d9e7733fb6aa23",
            "cc9530e001719a88",
            "7d70c24553ce852d"
        ],
        "x": 34,
        "y": 519,
        "w": 1052,
        "h": 262
    },
    {
        "id": "7cbecd5db4c0ea5d",
        "type": "group",
        "z": "26dda74cf2221d09",
        "name": "Lectura desde el PLC de variables discretas - PLC 39",
        "style": {
            "label": true
        },
        "nodes": [
            "8d9cf8888f53e308",
            "8db0595324d20795"
        ],
        "x": 34,
        "y": 19,
        "w": 532,
        "h": 82
    },
    {
        "id": "05399c94ea6fbd07",
        "type": "group",
        "z": "26dda74cf2221d09",
        "name": "Configuraciones",
        "style": {
            "label": true
        },
        "nodes": [
            "c7ae47c685bf80d6",
            "8ed4c86796e78e06",
            "8be5f93fb68afc47",
            "91c52ceeb29687a4",
            "f34e2d485426966e",
            "f97ba19b57416dba",
            "da92344fad045c23",
            "20d58bfe573e4a2d"
        ],
        "x": 34,
        "y": 119,
        "w": 732,
        "h": 322
    },
    {
        "id": "a64751ba65d4a629",
        "type": "group",
        "z": "26dda74cf2221d09",
        "name": "Lectura desde el PLC de variables discretas - PLC 40",
        "style": {
            "label": true
        },
        "nodes": [
            "5ddca14904fdc27c",
            "fbb0cace6ed624d4"
        ],
        "x": 614,
        "y": 19,
        "w": 532,
        "h": 82
    },
    {
        "id": "ee7384888020bf24",
        "type": "group",
        "z": "26dda74cf2221d09",
        "name": "Lectura desde PLC40 de variables analógicas",
        "style": {
            "label": true
        },
        "nodes": [
            "1218c7100e3e4163",
            "d3156383a4dc595b",
            "7adbfc71f6caab89",
            "378ffba55a593639",
            "85acd5e45ee21a7e",
            "96a8c762c955510b",
            "5778edad74842f41",
            "4b5f62ecde4fa656",
            "0b2cd73fcdacd9c1",
            "4209f2bb214fe290",
            "fac30a2e99ae6b6b",
            "82503762aa2843c9",
            "0e4c44f1cc7973b8"
        ],
        "x": 34,
        "y": 799,
        "w": 1052,
        "h": 262
    },
    {
        "id": "87a95b8a9fa0c789",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "COMBUSTIBLE / LUBRICACIÓN",
        "style": {
            "label": true
        },
        "nodes": [
            "f1a544fe7e848f40",
            "6ba4b0c9bd999d98",
            "2a840db536d3ef46",
            "928e748ee9bd46aa",
            "7637732a1c3be6a7",
            "dfc4226b7804da72"
        ],
        "x": 254,
        "y": 199,
        "w": 932,
        "h": 142
    },
    {
        "id": "2944a2cf9903dd38",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "AGUA ENFRIAMIENTO",
        "style": {
            "label": true
        },
        "nodes": [
            "f1294e644499ad38",
            "3f8f09c70aa95ab4",
            "aaac9a152500d9af",
            "2d3375058d183238",
            "d429e5b588bcb6ed",
            "fbeb57359aa84850"
        ],
        "x": 254,
        "y": 359,
        "w": 932,
        "h": 142
    },
    {
        "id": "df5e8c8146061a7b",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "AIRE DE CARGA",
        "style": {
            "label": true
        },
        "nodes": [
            "0d1f7134669b2aa9",
            "0410c90241966fb8",
            "52a1147c0bf188ed",
            "3afe2f23c1aeca8d",
            "3f242516aab2f4af",
            "534a8640c0ae6379"
        ],
        "x": 254,
        "y": 519,
        "w": 932,
        "h": 142
    },
    {
        "id": "90e7b7cf9377e783",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "GASES DE ESCAPE",
        "style": {
            "label": true
        },
        "nodes": [
            "d4e28a15a65fc006",
            "db1410d3bd19b296",
            "cab1dbdbcfa04feb",
            "0474199877d3352a",
            "04e6d0f97353a513",
            "51040507497f2c46"
        ],
        "x": 254,
        "y": 679,
        "w": 932,
        "h": 142
    },
    {
        "id": "ef52eddae808c7f9",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "CIGÜEÑAL",
        "style": {
            "label": true
        },
        "nodes": [
            "ab9a98c97b01e4f6",
            "ef0afa55bf732843",
            "3acd220afdb73fa4",
            "482d46316fe6e2a7",
            "12b45d0ee11ba8a8",
            "7a7b636afa2695b4"
        ],
        "x": 254,
        "y": 839,
        "w": 932,
        "h": 142
    },
    {
        "id": "c572b35755ff0be1",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "CILINDROS",
        "style": {
            "label": true
        },
        "nodes": [
            "e587a0230b75ec3a",
            "09b96f9ceaca3d95",
            "2edf5175f8531dbf",
            "2330c5292735455a",
            "39069a6f41304cb4",
            "16e7df0db101b38c"
        ],
        "x": 254,
        "y": 999,
        "w": 932,
        "h": 142
    },
    {
        "id": "496828fb8140a206",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "BLOQUEO PARADA",
        "style": {
            "label": true
        },
        "nodes": [
            "056742762f4476f4",
            "bce462a25a890422",
            "df46686712d61e7c",
            "2118cf1659c3b390",
            "6f3d6ab08041fae3",
            "06925a0f4e0b3b84"
        ],
        "x": 254,
        "y": 1159,
        "w": 932,
        "h": 142
    },
    {
        "id": "dba8e624ea6340cf",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "MISCELÁNEOS",
        "style": {
            "label": true
        },
        "nodes": [
            "f82828e2baa3e9e1",
            "768b28da110ccbe4",
            "904816d5b980f74c",
            "ab1a7d227acfaf96",
            "62bd6ffed1770e90",
            "a3c7b80822e44f04"
        ],
        "x": 254,
        "y": 1319,
        "w": 932,
        "h": 142
    },
    {
        "id": "11efa6e9ff5a39e1",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "CAJA Y THRUSTER",
        "style": {
            "label": true
        },
        "nodes": [
            "3614076b30df76b0",
            "3fed4ae2e6c168d6",
            "71d93ec4e7464e10",
            "a538a3ebc425682a",
            "a1326768fe5c879f",
            "57ec83d9c98a59ab"
        ],
        "x": 254,
        "y": 1479,
        "w": 932,
        "h": 142
    },
    {
        "id": "00c1c2c1f9c41935",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "SENTINA",
        "style": {
            "label": true
        },
        "nodes": [
            "b79fbbfd8e2e87b3",
            "731789840c95b238",
            "c4a3a586d485438c",
            "cffd6d6a75be2ebc",
            "c705c8a0ead2cf38",
            "0db1a964483ecd39"
        ],
        "x": 254,
        "y": 1639,
        "w": 932,
        "h": 142
    },
    {
        "id": "23cf907dd11064c0",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "ESTANQUES",
        "style": {
            "label": true
        },
        "nodes": [
            "4bad1dd52fbaad64",
            "bda105dc85bdb6d6",
            "34634f2c19f6e807",
            "82ae7fa2f376b5a2",
            "085bd6e30ae9706b",
            "403766296c61d80b"
        ],
        "x": 254,
        "y": 1799,
        "w": 932,
        "h": 142
    },
    {
        "id": "d484039333dba38d",
        "type": "group",
        "z": "2878a8012f437808",
        "name": "Clave de acceso",
        "style": {
            "label": true
        },
        "nodes": [
            "a4d2c7686c7dde09",
            "7f3adf89deb11373",
            "e01b9a4ef4d482f4",
            "9128d2dc95e7e1b1",
            "e3fd539aecd9b0b0",
            "475a1a4ac275dbe9"
        ],
        "x": 54,
        "y": 39,
        "w": 1092,
        "h": 142
    },
    {
        "id": "22a696cb54ebfde0",
        "type": "group",
        "z": "d75a1bb19b0411c5",
        "name": "TEMPERATURAS CIGÜEÑAL",
        "style": {
            "label": true
        },
        "nodes": [
            "68bf94faeae4462f",
            "7be9977f4e7b7845",
            "f2175f5e58f08294",
            "24558c1965d44978",
            "5c45ca4804217ffa",
            "e09745f0e5a45eb6"
        ],
        "x": 254,
        "y": 219,
        "w": 812,
        "h": 122
    },
    {
        "id": "45df333ac7e0546f",
        "type": "group",
        "z": "d75a1bb19b0411c5",
        "name": "TEMPERATURA GASES DE ESCAPE",
        "style": {
            "label": true
        },
        "nodes": [
            "e0f64f8f3ae911e5",
            "b7b4bcc504e0e291",
            "936008b6b72f8aae",
            "15942495e7640ce0",
            "e4d248aaf5358f41",
            "6cf88fb082f67e15"
        ],
        "x": 254,
        "y": 359,
        "w": 812,
        "h": 122
    },
    {
        "id": "7e601cf7793cddb0",
        "type": "group",
        "z": "d75a1bb19b0411c5",
        "name": "SISTEMA AGUA ENFRIAMIENTO ",
        "style": {
            "label": true
        },
        "nodes": [
            "2e9edc43ad914ca6",
            "fe391789424766fe",
            "27076c0ba25a5f65",
            "eaf99a7e66137e91",
            "1daa3d5bb279519c",
            "8ac02ce77dae4f6d"
        ],
        "x": 254,
        "y": 499,
        "w": 812,
        "h": 122
    },
    {
        "id": "d691a30b68ec28a2",
        "type": "group",
        "z": "d75a1bb19b0411c5",
        "name": "TEMPERATURA DE CILINDROS",
        "style": {
            "label": true
        },
        "nodes": [
            "0b98373c03ae5993",
            "02bbddfcc6916ce6",
            "7cb255d520245e81",
            "98c0cb9ae3597009",
            "3e11e9b8456343e1",
            "776911873d4920bd"
        ],
        "x": 254,
        "y": 639,
        "w": 812,
        "h": 122
    },
    {
        "id": "86fb72486cff3df3",
        "type": "group",
        "z": "d75a1bb19b0411c5",
        "name": "COMBUSTIBLE Y LUBRICANTE",
        "style": {
            "label": true
        },
        "nodes": [
            "de4b66b863915491",
            "74285b7cb930eb5e",
            "2c236be2d72d231a",
            "1ddc56d3b9cccc34",
            "b359e4394f2b996b",
            "cfe89f5c5fd17bd4"
        ],
        "x": 254,
        "y": 779,
        "w": 812,
        "h": 122
    },
    {
        "id": "ed15a5bc3ae1b8ae",
        "type": "group",
        "z": "d75a1bb19b0411c5",
        "name": "DESEMPEÑO MOTOR ",
        "style": {
            "label": true
        },
        "nodes": [
            "f2538964015403e5",
            "f8b7e9481cb1e050",
            "29b6fb2119d3059a",
            "b58eb0010dc44319",
            "b99f7228d0622801",
            "49dd0e0aa8c6dcea"
        ],
        "x": 254,
        "y": 919,
        "w": 812,
        "h": 122
    },
    {
        "id": "284bd515dfaa765a",
        "type": "group",
        "z": "d75a1bb19b0411c5",
        "name": "VALORES ANÁLOGOS ALARMAS ",
        "style": {
            "label": true
        },
        "nodes": [
            "da06fe307221cf3d",
            "ab0ad7996eebcc8d",
            "0dbe2c54f0d9b233",
            "b851a18aa7e55c85",
            "30dfea14d2c0a1d2",
            "33486a078306f3b2"
        ],
        "x": 254,
        "y": 1059,
        "w": 812,
        "h": 122
    },
    {
        "id": "27e2dd96b0ca886f",
        "type": "group",
        "z": "d75a1bb19b0411c5",
        "name": "Clave de acceso",
        "style": {
            "label": true
        },
        "nodes": [
            "6492b5073b2ccf94",
            "12965059435a6781",
            "76316b90704e1a0e",
            "84c820a401424ecb",
            "a877cc6b451b0fd0",
            "7f6bbcf628044354"
        ],
        "x": 34,
        "y": 39,
        "w": 1072,
        "h": 142
    },
    {
        "id": "126813add0aa1ca5",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "COMBUSTIBLE / LUBRICACIÓN",
        "style": {
            "label": true
        },
        "nodes": [
            "3ad1cda190d7bacd",
            "fdd4a657f8b883e4",
            "5adf8ffea4c9df99",
            "ed8964dd42f73e47",
            "2fc1a147e765d3b2",
            "a2a09ffb8f7e68d3"
        ],
        "x": 314,
        "y": 219,
        "w": 772,
        "h": 142
    },
    {
        "id": "53ab384629c7fde6",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "AGUA ENFRIAMIENTO",
        "style": {
            "label": true
        },
        "nodes": [
            "a4b980df006bacd1",
            "52ad4d023dfb917b",
            "05e635f323077e2d",
            "f1b24b5a4f779c82",
            "b0366bec4332c247",
            "f8230e58bc6d2e58"
        ],
        "x": 314,
        "y": 379,
        "w": 772,
        "h": 142
    },
    {
        "id": "aef27e39183d185e",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "AIRE DE CARGA",
        "style": {
            "label": true
        },
        "nodes": [
            "32911524885e7ea2",
            "bd877cc88bc1cba0",
            "5181f51f72b6915c",
            "473a1d2134e40289",
            "c915017c74817fd5",
            "e5c3d977223ef5a5"
        ],
        "x": 314,
        "y": 539,
        "w": 772,
        "h": 142
    },
    {
        "id": "b20c57dd3ce506a4",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "GASES DE ESCAPE",
        "style": {
            "label": true
        },
        "nodes": [
            "a578e8270a984a7d",
            "bc799aa5a9be84a2",
            "2394fbd67ff49e89",
            "d23c4dd0776dd4b4",
            "f86251cad1696ba6",
            "9fd2aeb492137e6c"
        ],
        "x": 314,
        "y": 699,
        "w": 772,
        "h": 142
    },
    {
        "id": "21ea7059c9368c6b",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "CIGÜEÑAL",
        "style": {
            "label": true
        },
        "nodes": [
            "96bcdf2ad91c6aa4",
            "7f2edf43a3894587",
            "1d4796e6ab15a78e",
            "a908d1bf93685135",
            "d52155f82967e139",
            "6c1e56b547646740"
        ],
        "x": 314,
        "y": 859,
        "w": 772,
        "h": 142
    },
    {
        "id": "a7eacc767a850ac7",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "CILINDROS",
        "style": {
            "label": true
        },
        "nodes": [
            "704c719a36f94304",
            "b8b8c039e67b2c24",
            "db05faf55602d28a",
            "bfddb396ce29e03f",
            "e173d1ad1d25b86a",
            "13df28bdb2f846fb"
        ],
        "x": 314,
        "y": 1019,
        "w": 772,
        "h": 142
    },
    {
        "id": "170552724c50f5a4",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "BLOQUEO PARADA",
        "style": {
            "label": true
        },
        "nodes": [
            "4c9848e87184cfe3",
            "4a3cc2ca8e90a92b",
            "f1e4fbd0e4b10bc2",
            "2c6ecf33b26fd462",
            "c619b366fdabd2ad",
            "d2cc84ddf6e0143c"
        ],
        "x": 314,
        "y": 1179,
        "w": 772,
        "h": 142
    },
    {
        "id": "21ef378f49526b77",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "MISCELÁNEOS",
        "style": {
            "label": true
        },
        "nodes": [
            "b0a98f8d4bf3b9ae",
            "d05379a09afd3bd6",
            "d9c69b0f2018da72",
            "18f2e15268a21016",
            "e63d3e28da11d951",
            "fd5f1cc0d19eebf5"
        ],
        "x": 314,
        "y": 1339,
        "w": 772,
        "h": 142
    },
    {
        "id": "a290d777da0e6e16",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "CAJA Y THRUSTER",
        "style": {
            "label": true
        },
        "nodes": [
            "09e3b215b96a88aa",
            "16144c3822c87fa1",
            "bdc80718965f0c81",
            "b54dad2b1ede46d8",
            "a8b26a28a53f25fc",
            "dbe35f087c490911"
        ],
        "x": 314,
        "y": 1499,
        "w": 772,
        "h": 142
    },
    {
        "id": "86052139343311da",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "SENTINA",
        "style": {
            "label": true
        },
        "nodes": [
            "f2ca6699df9c3b31",
            "de6d0da7b48fbab9",
            "7bdf4f457f6d11e6",
            "4bb5d8b3ddcfdd8f",
            "09ad9bf571cd95ec",
            "503f06152c85fd16"
        ],
        "x": 314,
        "y": 1659,
        "w": 772,
        "h": 142
    },
    {
        "id": "750854aa72820d38",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "ESTANQUES",
        "style": {
            "label": true
        },
        "nodes": [
            "4da568eb6ccdab3f",
            "9966f464b53c5817",
            "bcb1705ae8216680",
            "c565468488314c1d",
            "802afe4a48ef0cdd",
            "7d8d79fd2adf4f76"
        ],
        "x": 314,
        "y": 1819,
        "w": 772,
        "h": 142
    },
    {
        "id": "910b17b0febffb79",
        "type": "group",
        "z": "3c0951fce832df0e",
        "name": "Clave de acceso",
        "style": {
            "label": true
        },
        "nodes": [
            "7c39084dfd17b599",
            "51c8649802f559e9",
            "6754a9cbba6874a2",
            "d131ed53443edeea",
            "d9616dc40250bd6c",
            "e9c8cbd51c4063cf"
        ],
        "x": 54,
        "y": 39,
        "w": 1092,
        "h": 142
    },
    {
        "id": "1ea2a00cb5ec329a",
        "type": "group",
        "z": "51ba17f126c92501",
        "name": "DESCANSOS",
        "style": {
            "label": true
        },
        "nodes": [
            "d0892d00c0acbfce",
            "66826c67072b8725"
        ],
        "x": 374,
        "y": 339,
        "w": 492,
        "h": 82
    },
    {
        "id": "24d0122773a52c77",
        "type": "group",
        "z": "51ba17f126c92501",
        "name": "TEMPERATURA GASES DE ESCAPE",
        "style": {
            "label": true
        },
        "nodes": [
            "95f515754843ae11",
            "2e41122bf55c2ce2"
        ],
        "x": 374,
        "y": 239,
        "w": 492,
        "h": 82
    },
    {
        "id": "7885e21269c0071b",
        "type": "group",
        "z": "51ba17f126c92501",
        "name": "SISTEMA AGUA ENFRIAMIENTO ",
        "style": {
            "label": true
        },
        "nodes": [
            "0039062e2d962df9",
            "23913c791738e44c"
        ],
        "x": 374,
        "y": 439,
        "w": 492,
        "h": 82
    },
    {
        "id": "44ff8c4077ced9c5",
        "type": "group",
        "z": "51ba17f126c92501",
        "name": "TEMPERATURA DE CILINDROS",
        "style": {
            "label": true
        },
        "nodes": [
            "dee066e276582072",
            "c83ec7ced22f38dd"
        ],
        "x": 374,
        "y": 139,
        "w": 492,
        "h": 82
    },
    {
        "id": "8f68e38f0b2fdd7e",
        "type": "group",
        "z": "51ba17f126c92501",
        "name": "COMBUSTIBLE Y LUBRICANTE",
        "style": {
            "label": true
        },
        "nodes": [
            "e9929e947640750b",
            "e5aaee956ebc8388"
        ],
        "x": 374,
        "y": 639,
        "w": 492,
        "h": 82
    },
    {
        "id": "cf42430cd711ab5d",
        "type": "group",
        "z": "51ba17f126c92501",
        "name": "DESEMPEÑO MOTOR ",
        "style": {
            "label": true
        },
        "nodes": [
            "7a2545d8503898e8",
            "51f4979abd971fef"
        ],
        "x": 374,
        "y": 539,
        "w": 492,
        "h": 82
    },
    {
        "id": "0701cb08b8d94d3f",
        "type": "group",
        "z": "51ba17f126c92501",
        "name": "VALORES ANÁLOGOS ALARMAS ",
        "style": {
            "label": true
        },
        "nodes": [
            "341113adf0814795",
            "ad4a5cef08a952d1"
        ],
        "x": 374,
        "y": 739,
        "w": 492,
        "h": 82
    },
    {
        "id": "def9cbc59ff7be3a",
        "type": "group",
        "z": "51ba17f126c92501",
        "name": "Horómetro",
        "style": {
            "label": true
        },
        "nodes": [
            "b1911ff9575b672c",
            "f008f0b68cc84037"
        ],
        "x": 374,
        "y": 39,
        "w": 492,
        "h": 82
    },
    {
        "id": "c62453d9c3745640",
        "type": "group",
        "z": "c0914591e7def14a",
        "name": "Clave de acceso",
        "style": {
            "label": true
        },
        "nodes": [
            "71487fcbe0731f72",
            "571d5882902f6ba8",
            "6b3f090f157222fc",
            "3912876d09fc0104",
            "c6de63a3090dbff2",
            "74ac6bef6f93902e"
        ],
        "x": 94,
        "y": 199,
        "w": 1092,
        "h": 142
    },
    {
        "id": "4313157dab6a1726",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Sistema de Alarmas - PAM Don Manuel",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "true",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "f259d2800c9e053b",
        "type": "ui_tab",
        "name": "Alarmas",
        "icon": "notifications_active",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "750c67e0cdef708c",
        "type": "ui_tab",
        "name": "Listado de Alarmas",
        "icon": "notifications",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ui_tab_alarmas",
        "type": "ui_tab",
        "name": "Históricos de alarmas",
        "icon": "notifications_none",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "50c0360131b6068b",
        "type": "ui_tab",
        "name": "Históricos análogos",
        "icon": "timeline",
        "order": 8,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "dd11a32b9a86d6fe",
        "type": "ui_tab",
        "name": "Inhibir alarmas dashboard",
        "icon": "dashboard",
        "order": 9,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "3db7639d23178483",
        "type": "ui_tab",
        "name": "Tiempos retardo dashboard",
        "icon": "dashboard",
        "order": 10,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "19a96926054eeb5e",
        "type": "ui_tab",
        "name": "Magnitudes alarma dashboard",
        "icon": "dashboard",
        "order": 11,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "1dfa32c9d14426a1",
        "type": "ui_tab",
        "name": "Análogos",
        "icon": "timeline",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "6b5965399fdebbaf",
        "type": "ui_group",
        "name": "AIRE DE CARGA",
        "tab": "f259d2800c9e053b",
        "order": 4,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d28a388a67fdf864",
        "type": "ui_group",
        "name": "CIGÜEÑAL",
        "tab": "f259d2800c9e053b",
        "order": 6,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5b60b946729b98c8",
        "type": "ui_group",
        "name": "GASES DE ESCAPE",
        "tab": "f259d2800c9e053b",
        "order": 5,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c9cdb4137d96defa",
        "type": "ui_group",
        "name": "CILINDROS",
        "tab": "f259d2800c9e053b",
        "order": 7,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "93d1106f796f2a20",
        "type": "ui_group",
        "name": "Listado últimas 15 Alarmas",
        "tab": "750c67e0cdef708c",
        "order": 1,
        "disp": true,
        "width": "24",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ui_group_alarmas",
        "type": "ui_group",
        "name": "Consulta rápida",
        "tab": "ui_tab_alarmas",
        "order": 2,
        "disp": true,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5c2d78fc03f73ae9",
        "type": "ui_group",
        "name": "Consulta con selección de fecha y hora inicial y final",
        "tab": "ui_tab_alarmas",
        "order": 3,
        "disp": true,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f57b67db2f64ef2f",
        "type": "ui_group",
        "name": "Historial de eventos",
        "tab": "ui_tab_alarmas",
        "order": 4,
        "disp": true,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "acef4e0116dba067",
        "type": "ui_group",
        "name": "Históricos Análogos",
        "tab": "50c0360131b6068b",
        "order": 4,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a22bf5d31c371dd0",
        "type": "ui_group",
        "name": "Consulta rápida",
        "tab": "50c0360131b6068b",
        "order": 2,
        "disp": true,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "cbd92c8454a0288f",
        "type": "ui_group",
        "name": "Consulta con selección de fechas UTC 00",
        "tab": "50c0360131b6068b",
        "order": 3,
        "disp": true,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b1e487adb314c2ff",
        "type": "ui_group",
        "name": "Selección de sensores",
        "tab": "50c0360131b6068b",
        "order": 1,
        "disp": true,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "99aa54afc31c52a8",
        "type": "ui_group",
        "name": "TEMPERATURAS CIGÜEÑAL",
        "tab": "19a96926054eeb5e",
        "order": 1,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "94b5b6cc08aae104",
        "type": "ui_group",
        "name": "COMBUSTIBLE / LUBRICACIÓN",
        "tab": "f259d2800c9e053b",
        "order": 2,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4b90d7d19055fe04",
        "type": "ui_group",
        "name": "Indice",
        "tab": "f259d2800c9e053b",
        "order": 1,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": "indiceAlarmas"
    },
    {
        "id": "c34634162ffbe80a",
        "type": "ui_group",
        "name": "Indice Mediciones analógicas",
        "tab": "1dfa32c9d14426a1",
        "order": 1,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f7d320467fb60b47",
        "type": "ui_group",
        "name": "BLOQUEO PARADA",
        "tab": "f259d2800c9e053b",
        "order": 8,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "a6c5436f256ef7f0",
        "type": "ui_group",
        "name": "MISCELÁNEOS",
        "tab": "f259d2800c9e053b",
        "order": 9,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2f696d36c80b1901",
        "type": "ui_group",
        "name": "CAJA Y THRUSTER",
        "tab": "f259d2800c9e053b",
        "order": 10,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9078ebf5eaab329c",
        "type": "ui_group",
        "name": "SENTINA",
        "tab": "f259d2800c9e053b",
        "order": 11,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "24619f5607485066",
        "type": "ui_group",
        "name": "ESTANQUES",
        "tab": "f259d2800c9e053b",
        "order": 12,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "adc57ed5eaed0b32",
        "type": "ui_group",
        "name": "Temperaturas cigüeñal",
        "tab": "1dfa32c9d14426a1",
        "order": 3,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "67e2bb6ac86aea02",
        "type": "ui_group",
        "name": "Temperatura gases de escape",
        "tab": "1dfa32c9d14426a1",
        "order": 2,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9d82c5180b67c8f8",
        "type": "ui_group",
        "name": "Sistema agua enfriamiento",
        "tab": "1dfa32c9d14426a1",
        "order": 4,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "078730e96132fafb",
        "type": "ui_group",
        "name": "Temperatura de cilindros",
        "tab": "1dfa32c9d14426a1",
        "order": 5,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "56b86f0939e898cc",
        "type": "ui_group",
        "name": "Combustible y lubricante",
        "tab": "1dfa32c9d14426a1",
        "order": 6,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "79ac6eebc4f951a5",
        "type": "ui_group",
        "name": "Motor",
        "tab": "1dfa32c9d14426a1",
        "order": 7,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "5a035e033c5b1aad",
        "type": "ui_group",
        "name": "Análogos",
        "tab": "1dfa32c9d14426a1",
        "order": 8,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e63cf1ae4e1d823b",
        "type": "ui_group",
        "name": "AGUA ENFRIAMIENTO",
        "tab": "f259d2800c9e053b",
        "order": 3,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8608b53550c65f87",
        "type": "ui_group",
        "name": "COMBUSTIBLE / LUBRICACIÓN",
        "tab": "dd11a32b9a86d6fe",
        "order": 6,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ab5ac17bd0078074",
        "type": "ui_group",
        "name": "AGUA ENFRIAMIENTO",
        "tab": "dd11a32b9a86d6fe",
        "order": 7,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "72244bb7cc3234f8",
        "type": "ui_group",
        "name": "AIRE DE CARGA",
        "tab": "dd11a32b9a86d6fe",
        "order": 8,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e415d25fe68f8225",
        "type": "ui_group",
        "name": "GASES DE ESCAPE",
        "tab": "dd11a32b9a86d6fe",
        "order": 9,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "1cd6550702f29059",
        "type": "ui_group",
        "name": "CIGÜEÑAL",
        "tab": "dd11a32b9a86d6fe",
        "order": 10,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4eddf6fdd9ff6b53",
        "type": "ui_group",
        "name": "CILINDROS",
        "tab": "dd11a32b9a86d6fe",
        "order": 11,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "11d3e2e8c1534301",
        "type": "ui_group",
        "name": "BLOQUEO PARADA",
        "tab": "dd11a32b9a86d6fe",
        "order": 12,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2d17c75545a66962",
        "type": "ui_group",
        "name": "MISCELÁNEOS",
        "tab": "dd11a32b9a86d6fe",
        "order": 13,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "082c2d150878f725",
        "type": "ui_group",
        "name": "CAJA Y THRUSTER",
        "tab": "dd11a32b9a86d6fe",
        "order": 14,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "75bbc83f421cba83",
        "type": "ui_group",
        "name": "SENTINA",
        "tab": "dd11a32b9a86d6fe",
        "order": 15,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "f210dcae47c3fa91",
        "type": "ui_group",
        "name": "ESTANQUES",
        "tab": "dd11a32b9a86d6fe",
        "order": 16,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "192bcfb8fb527a2e",
        "type": "ui_group",
        "name": "COMBUSTIBLE / LUBRICACIÓN",
        "tab": "3db7639d23178483",
        "order": 1,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d8de786542e0aec2",
        "type": "ui_group",
        "name": "AGUA ENFRIAMIENTO",
        "tab": "3db7639d23178483",
        "order": 2,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6f8567cf467da09e",
        "type": "ui_group",
        "name": "AIRE DE CARGA",
        "tab": "3db7639d23178483",
        "order": 3,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "50fcc47d284d2d6a",
        "type": "ui_group",
        "name": "GASES DE ESCAPE",
        "tab": "3db7639d23178483",
        "order": 4,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "41f428f239d312dd",
        "type": "ui_group",
        "name": "CIGÜEÑAL",
        "tab": "3db7639d23178483",
        "order": 5,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "da1a9127c3fee288",
        "type": "ui_group",
        "name": "CILINDROS",
        "tab": "3db7639d23178483",
        "order": 6,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "98585b6553cef28f",
        "type": "ui_group",
        "name": "BLOQUEO PARADA",
        "tab": "3db7639d23178483",
        "order": 7,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "08cc1d255b153d6e",
        "type": "ui_group",
        "name": "MISCELÁNEOS",
        "tab": "3db7639d23178483",
        "order": 8,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "62e7023ba6d597ac",
        "type": "ui_group",
        "name": "CAJA Y THRUSTER",
        "tab": "3db7639d23178483",
        "order": 9,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3bca7cb0fa9a4f49",
        "type": "ui_group",
        "name": "SENTINA",
        "tab": "3db7639d23178483",
        "order": 10,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7ae441413e1211fb",
        "type": "ui_group",
        "name": "ESTANQUES",
        "tab": "3db7639d23178483",
        "order": 11,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "20a0dd1262b9cb8a",
        "type": "ui_group",
        "name": "TEMPERATURA GASES DE ESCAPE",
        "tab": "19a96926054eeb5e",
        "order": 2,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "116ec2966ba4d3ce",
        "type": "ui_group",
        "name": "SISTEMA AGUA ENFRIAMIENTO",
        "tab": "19a96926054eeb5e",
        "order": 3,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "327642d0f8eeb19c",
        "type": "ui_group",
        "name": "TEMPERATURA DE CILINDROS",
        "tab": "19a96926054eeb5e",
        "order": 4,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "142544f864cb2faa",
        "type": "ui_group",
        "name": "COMBUSTIBLE Y LUBRICANTE",
        "tab": "19a96926054eeb5e",
        "order": 5,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2173d4ec7cf7da70",
        "type": "ui_group",
        "name": "DESEMPEÑO MOTOR ",
        "tab": "19a96926054eeb5e",
        "order": 6,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4f2b4e669a2af82e",
        "type": "ui_group",
        "name": "VALORES ANÁLOGOS ALARMAS",
        "tab": "19a96926054eeb5e",
        "order": 7,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c78118c6621bf129",
        "type": "influxdb",
        "hostname": "127.0.0.1",
        "port": 8086,
        "protocol": "http",
        "database": "database",
        "name": "Influx2.0",
        "usetls": false,
        "tls": "",
        "influxdbVersion": "2.0",
        "url": "http://192.168.3.4:8086",
        "timeout": 10,
        "rejectUnauthorized": false
    },
    {
        "id": "88dbad058767608a",
        "type": "modbus-client",
        "name": "PLC 39",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.3.39",
        "tcpPort": "502",
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": "9600",
        "serialDatabits": "8",
        "serialStopbits": "1",
        "serialParity": "none",
        "serialConnectionDelay": "100",
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": 1,
        "commandDelay": 1,
        "clientTimeout": 1000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "e1f0f7d4395cef65",
        "type": "modbus-client",
        "name": "PLC 40",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.3.40",
        "tcpPort": 502,
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": 9600,
        "serialDatabits": 8,
        "serialStopbits": 1,
        "serialParity": "none",
        "serialConnectionDelay": 100,
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": 1,
        "commandDelay": 1,
        "clientTimeout": 1000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "6891f6d568a969c8",
        "type": "ui_tab",
        "name": "Inhibir Alarmas",
        "icon": "notifications_off",
        "order": 14,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "94f1b7f9f6ffd90e",
        "type": "ui_group",
        "name": "Clave de acceso",
        "tab": "6891f6d568a969c8",
        "order": 1,
        "disp": true,
        "width": 6,
        "collapse": false,
        "className": ""
    },
    {
        "id": "a9b5b0de2b9c5e12",
        "type": "ui_tab",
        "name": "Magnitudes alarmas",
        "icon": "timeline",
        "order": 12,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "11ecd32181e8c6c8",
        "type": "ui_group",
        "name": "Clave de acceso",
        "tab": "a9b5b0de2b9c5e12",
        "order": 1,
        "disp": true,
        "width": 6,
        "collapse": false,
        "className": ""
    },
    {
        "id": "345723b2977d56f2",
        "type": "ui_tab",
        "name": "Tiempos retardo",
        "icon": "access_time",
        "order": 13,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "4e2eccf43d683b89",
        "type": "ui_group",
        "name": "Clave de acceso",
        "tab": "345723b2977d56f2",
        "order": 1,
        "disp": true,
        "width": 6,
        "collapse": false,
        "className": ""
    },
    {
        "id": "727033d15cfbf88e",
        "type": "ui_tab",
        "name": "T° Cil",
        "icon": "graphic_eq",
        "order": 7,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "1b45975c904a214e",
        "type": "ui_group",
        "name": "TEMPERATURA DE CILINDROS [ °C ]",
        "tab": "727033d15cfbf88e",
        "order": 1,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "tab1",
        "type": "ui_tab",
        "name": "T° G. Esc.",
        "icon": "graphic_eq",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "grp1",
        "type": "ui_group",
        "name": "TEMPERATURA DE GASES DE ESCAPE  [ °C ]",
        "tab": "tab1",
        "order": 1,
        "disp": true,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "63f311f740a5526a",
        "type": "ui_tab",
        "name": "Principal",
        "icon": "account_balance",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ec62c02c10728fce",
        "type": "ui_group",
        "name": "DESCANSOS",
        "tab": "63f311f740a5526a",
        "order": 4,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "fdce09eedd4dd351",
        "type": "ui_group",
        "name": "GASES ESC",
        "tab": "63f311f740a5526a",
        "order": 3,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "b94b2ee54576393d",
        "type": "ui_group",
        "name": "ENFRIAMIENTO",
        "tab": "63f311f740a5526a",
        "order": 5,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "400ab932490e4ed0",
        "type": "ui_group",
        "name": "TEMP CIL",
        "tab": "63f311f740a5526a",
        "order": 2,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "20119fc2a8fa1c9a",
        "type": "ui_group",
        "name": "COMB/LUB",
        "tab": "63f311f740a5526a",
        "order": 7,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "8adb2c35d5a31098",
        "type": "ui_group",
        "name": "MOTOR",
        "tab": "63f311f740a5526a",
        "order": 6,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6257442a7c582971",
        "type": "ui_group",
        "name": "ANÁLOGOS",
        "tab": "63f311f740a5526a",
        "order": 8,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "676dd2ed92cff478",
        "type": "ui_group",
        "name": "Horómetro",
        "tab": "63f311f740a5526a",
        "order": 1,
        "disp": false,
        "width": "31",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e3c28e6efb0403e9",
        "type": "modbus-client",
        "name": "PLC40",
        "clienttype": "tcp",
        "bufferCommands": true,
        "stateLogEnabled": false,
        "queueLogEnabled": false,
        "failureLogEnabled": true,
        "tcpHost": "192.168.3.40",
        "tcpPort": 502,
        "tcpType": "DEFAULT",
        "serialPort": "/dev/ttyUSB",
        "serialType": "RTU-BUFFERD",
        "serialBaudrate": 9600,
        "serialDatabits": 8,
        "serialStopbits": 1,
        "serialParity": "none",
        "serialConnectionDelay": 100,
        "serialAsciiResponseStartDelimiter": "0x3A",
        "unit_id": 1,
        "commandDelay": 1,
        "clientTimeout": 1000,
        "reconnectOnTimeout": true,
        "reconnectTimeout": 2000,
        "parallelUnitIdsAllowed": true,
        "showErrors": false,
        "showWarnings": true,
        "showLogs": true
    },
    {
        "id": "2d675682676d85f1",
        "type": "ui_tab",
        "name": "Partida",
        "icon": "thumb_up",
        "order": 15,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "91aee51fc459fee6",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "2d675682676d85f1",
        "order": 1,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "aa12e198a4d8718e",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "2d675682676d85f1",
        "order": 2,
        "disp": false,
        "width": "20",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e3add164ca8805a5",
        "type": "ui_spacer",
        "z": "8894d7148034cca1",
        "name": "spacer",
        "group": "93d1106f796f2a20",
        "order": 2,
        "width": "15",
        "height": "1"
    },
    {
        "id": "38d3e903c93ab45f",
        "type": "ui_tab",
        "name": "Zona horaria dashboard",
        "icon": "access_time",
        "order": 16,
        "disabled": false,
        "hidden": true
    },
    {
        "id": "2c1fd392a0aa16b6",
        "type": "ui_group",
        "name": "Horario de invierono o verano",
        "tab": "38d3e903c93ab45f",
        "order": 1,
        "disp": true,
        "width": "7",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d1ae8b08c2abb00c",
        "type": "ui_tab",
        "name": "Zona horaria",
        "icon": "access_time",
        "order": 17,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "89e7b6586a338156",
        "type": "ui_group",
        "name": "Clave de acceso",
        "tab": "d1ae8b08c2abb00c",
        "order": 1,
        "disp": true,
        "width": 6,
        "collapse": false,
        "className": ""
    },
    {
        "id": "cc37c39a56ac860e",
        "type": "global-config",
        "env": []
    },
    {
        "id": "d89e447a6498f938",
        "type": "function",
        "z": "6fa9f275ec13c6a3",
        "name": "function alarma 1",
        "func": "var estado_alarma = global.get(\"global_alarma\" + env.get(\"numeroAlarma\"));\nvar estado_inhibicionAlarma = global.get(\"alarmaInhibida\"  + env.get(\"numeroAlarma\"));\nlet titulo = global.get(\"nombreAlarma\" + env.get(\"numeroAlarma\"));\nlet payload = {};\n\n\n\nif (estado_inhibicionAlarma == \"noInhibida\") {\n    if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\")  \n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_alarma\"),\n        blink: true\n        };\n    else if (estado_alarma == \"activa_reconocida\")\n        payload = {\n        text: titulo,\n            color: global.get(\"global_color_alarma\"),\n        blink: false\n        };  \n    else if (estado_alarma == \"inactiva_reconocida\") //normalizada\n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_normal\"),\n        blink: false        \n        };      \n   \n}\nelse if (estado_inhibicionAlarma == \"inhibida\")\n    payload = {\n        text: titulo,\n        color: global.get(\"global_color_inhibida\"),\n        blink: false\n    };\n\nmsg.payload = payload;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "5a61d5b670d52bc5",
        "type": "function",
        "z": "6fa9f275ec13c6a3",
        "name": "function 5",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = env.get(\"numeroAlarma\");\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 160,
        "wires": [
            [
                "695114f955e18db6",
                "d89e447a6498f938"
            ]
        ]
    },
    {
        "id": "768e8d4c29892641",
        "type": "delay",
        "z": "6fa9f275ec13c6a3",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 940,
        "y": 120,
        "wires": [
            [
                "695114f955e18db6"
            ]
        ]
    },
    {
        "id": "a2fcd792ee6c21a5",
        "type": "function",
        "z": "6fa9f275ec13c6a3",
        "name": "function 7",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = env.get(\"numeroAlarma\");\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 120,
        "wires": [
            [
                "768e8d4c29892641"
            ]
        ]
    },
    {
        "id": "695114f955e18db6",
        "type": "modbus-flex-write",
        "z": "6fa9f275ec13c6a3",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1190,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5485ed97bf10bdda",
        "type": "function",
        "z": "3d86c7a5a86f5b83",
        "name": "function alarma 1",
        "func": "var estado_alarma = global.get(\"global_alarma\" + env.get(\"numeroAlarma\"));\nvar estado_inhibicionAlarma = global.get(\"alarmaInhibida\"  + env.get(\"numeroAlarma\"));\nlet titulo = global.get(\"nombreAlarma\" + env.get(\"numeroAlarma\"));\nlet payload = {};\n\n\n\nif (estado_inhibicionAlarma == \"noInhibida\") {\n    if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") \n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_alarma\"),\n        blink: true\n        };\n    else if (estado_alarma == \"activa_reconocida\")\n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_alarma\"),\n        blink: false\n        };  \n    else if (estado_alarma == \"inactiva_reconocida\") //normalizada\n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_normal\"),\n        blink: false        \n        };      \n   \n}\nelse if (estado_inhibicionAlarma == \"inhibida\")\n    payload = {\n        text: titulo,\n        color: global.get(\"global_color_inhibida\"),\n        blink: false\n    };\n\nmsg.payload = payload;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "59db421698f8dc36",
        "type": "function",
        "z": "3d86c7a5a86f5b83",
        "name": "function 5",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = env.get(\"numeroAlarma\");\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 160,
        "wires": [
            [
                "3ad6d45aa16c24fd",
                "5485ed97bf10bdda"
            ]
        ]
    },
    {
        "id": "46ac2c0e29399847",
        "type": "delay",
        "z": "3d86c7a5a86f5b83",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 940,
        "y": 120,
        "wires": [
            [
                "3ad6d45aa16c24fd"
            ]
        ]
    },
    {
        "id": "590008c89c4f108e",
        "type": "function",
        "z": "3d86c7a5a86f5b83",
        "name": "function 7",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = env.get(\"numeroAlarma\");\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 120,
        "wires": [
            [
                "46ac2c0e29399847"
            ]
        ]
    },
    {
        "id": "3ad6d45aa16c24fd",
        "type": "modbus-flex-write",
        "z": "3d86c7a5a86f5b83",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1190,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3653bd0f801537fb",
        "type": "function",
        "z": "4873a0a00a95bba6",
        "name": "function alarma 1",
        "func": "var estado_alarma = global.get(\"global_alarma\" + env.get(\"numeroAlarma\"));\nvar estado_inhibicionAlarma = global.get(\"alarmaInhibida\"  + env.get(\"numeroAlarma\"));\nlet titulo = global.get(\"nombreAlarma\" + env.get(\"numeroAlarma\"));\nlet payload = {};\n\nif (estado_inhibicionAlarma == \"noInhibida\") {\n    if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") \n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_alarma\"),\n        blink: true\n        };\n    else if (estado_alarma == \"activa_reconocida\")\n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_alarma\"),\n        blink: false\n        };  \n    else if (estado_alarma == \"inactiva_reconocida\") //normalizada\n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_normal\"),\n        blink: false        \n        };      \n   \n}\nelse if (estado_inhibicionAlarma == \"inhibida\")\n    payload = {\n        text: titulo,\n        color: global.get(\"global_color_inhibida\"),\n        blink: false\n    };\n\nmsg.payload = payload;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "054e2215b0096795",
        "type": "function",
        "z": "4873a0a00a95bba6",
        "name": "function 5",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = env.get(\"numeroAlarma\");\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 160,
        "wires": [
            [
                "be635eace1e2632d",
                "3653bd0f801537fb"
            ]
        ]
    },
    {
        "id": "3c4b3d1dcb61b29b",
        "type": "delay",
        "z": "4873a0a00a95bba6",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 940,
        "y": 120,
        "wires": [
            [
                "be635eace1e2632d"
            ]
        ]
    },
    {
        "id": "3dd4671f1d57fc99",
        "type": "function",
        "z": "4873a0a00a95bba6",
        "name": "function 7",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = env.get(\"numeroAlarma\");\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 120,
        "wires": [
            [
                "3c4b3d1dcb61b29b"
            ]
        ]
    },
    {
        "id": "be635eace1e2632d",
        "type": "modbus-flex-write",
        "z": "4873a0a00a95bba6",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1190,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "9a37237b6b61af7d",
        "type": "function",
        "z": "12ad6fa0c258a0ae",
        "name": "function alarma 1",
        "func": "/*\nvar estado_alarma = global.get(\"global_alarma\" + env.get(\"numeroAlarma\"));\nvar estado_inhibicionAlarma = global.get(\"alarmaInhibida\"  + env.get(\"numeroAlarma\"));\nlet titulo = global.get(\"nombreAlarma\" + env.get(\"numeroAlarma\"));\nlet payload = {};\n\nlet botones = [];\n\n\n\n\nif (estado_inhibicionAlarma == \"noInhibida\") {\n    if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") \n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_alarma\"),\n        blink: true\n        };\n    else if (estado_alarma == \"activa_reconocida\")\n        payload = {\n        text: titulo,\n            color: global.get(\"global_color_alarma\"),\n        blink: false\n        };  \n    else if (estado_alarma == \"inactiva_reconocida\") //normalizada\n        payload = {\n        text: titulo,\n        color: global.get(\"global_color_normal\"),\n        blink: false        \n        };      \n   \n}\nelse if (estado_inhibicionAlarma == \"inhibida\")\n    payload = {\n        text: titulo,\n        color: global.get(\"global_color_inhibida\"),\n        blink: false\n    };\nbotones.push(payload);\n\n\n\nmsg.payload = botones;\nreturn msg;\n*/\n/*\nif(global.get(\"global_actualizarBotones\") == \"noActualizar\" && global.get(\"global_actualizarInhibidos\") == \"noActualizar\"){\n    return null;\n}*/\n\nlet botones = [];\n\nfor (let i = 56; i < 86; i++) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    let boton = {};\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice : i\n            };\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice : i\n            };\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice : i\n            };\n        }\n    } else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice : i\n        };\n    }\n\n    botones.push(boton);\n}\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 250,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "d48a4380278223fe",
        "type": "function",
        "z": "12ad6fa0c258a0ae",
        "name": "function 5",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 160,
        "wires": [
            [
                "dff93d66c699167a"
            ]
        ]
    },
    {
        "id": "891084e2c219a5b1",
        "type": "delay",
        "z": "12ad6fa0c258a0ae",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 780,
        "y": 120,
        "wires": [
            [
                "dff93d66c699167a"
            ]
        ]
    },
    {
        "id": "f764a38327a124d5",
        "type": "function",
        "z": "12ad6fa0c258a0ae",
        "name": "function 7",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 120,
        "wires": [
            [
                "891084e2c219a5b1"
            ]
        ]
    },
    {
        "id": "dff93d66c699167a",
        "type": "modbus-flex-write",
        "z": "12ad6fa0c258a0ae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 990,
        "y": 160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1a567f25a5fd88ed",
        "type": "function",
        "z": "5b2773813834fea0",
        "name": "function 1",
        "func": "var numeroAlarma = env.get(\"numeroAlarma\");\nvar nombreAlarma = global.get(\"nombreAlarma\" + numeroAlarma);\nvar estadoAnteriorAlarma = global.get(\"global_alarma_ea\" + numeroAlarma) || \"no\";\nvar estadoAlarma = global.get(\"global_alarma\" + numeroAlarma);\nvar estado_inhibicionAlarma = global.get(\"alarmaInhibida\"  + numeroAlarma);\n\n\nlet soloReemplazarDatos = false; //cuando no es necesario recontruir y evitamos que la tablase vaya a la posición inicial visualmente\nlet tabla = global.get(\"tabla_listadoAlarmasActivas\") || [];    \nif (estadoAlarma != estadoAnteriorAlarma){\n    // Buscar si ya existe una alarma con ese ID\n    let index = tabla.findIndex(item => item.id === numeroAlarma);\n    //let ahora = new Date();\n    //let fechaLegible = ahora.toLocaleString();  // formato local: dd/mm/yyyy hh:mm:ss\n\n    if (estadoAlarma == \"activa_noReconocida\" || estadoAlarma == \"inactiva_noReconocida\"){ \n        let color = global.get(\"global_color_alarma\"); \n        if (estadoAlarma == \"inactiva_noReconocida\")\n            color = global.get(\"global_color_inactivaNoReconocida\");\n        let blink = true;\n        let alarmaHtml = `<div class=\"alarm-cell ${color} ${blink ? 'blinking' : ''}\">${nombreAlarma}</div>`;\n \n        let elemento = {\n            \"id\": numeroAlarma,\n            \"alarma\": alarmaHtml,            \n            //\"fecha\": fechaLegible\n        }\n        if (index !== -1) {\n            // Ya existe → reemplazar\n            tabla[index] = elemento;\n            soloReemplazarDatos = true;     \n        }\n        else \n            tabla.unshift(elemento);            \n    }\n    else if (estadoAlarma == \"activa_reconocida\"){\n        let color = global.get(\"global_color_alarma\");\n        let blink = false;        \n        let alarmaHtml = `<div class=\"alarm-cell ${color} ${blink ? 'blinking' : ''}\">${nombreAlarma}</div>`;\n        let elemento = {\n            \"id\": numeroAlarma,\n            \"alarma\": alarmaHtml,            \n            //\"fecha\": fechaLegible\n        }\n        if (index !== -1){\n            // Ya existe → reemplazar\n            tabla[index] = elemento; \n            soloReemplazarDatos = true;\n            }\n        else\n            tabla.unshift(elemento);              \n    }\n    else if (estadoAlarma == \"inactiva_reconocida\"){ //se saca de la tabla\n        if (index !== -1) \n            // Ya existe → eliminar            \n            tabla.splice(index, 1);   \n            soloReemplazarDatos = true;                     \n    }\n}\nelse\n    return null;\n\nglobal.set(\"tabla_listadoAlarmasActivas\", tabla); \n\nif(soloReemplazarDatos){\n    msg.payload = {\n        command: \"replaceData\",\n        arguments: [tabla]  // tu array con datos actualizados\n    };\n}\nelse\n    msg.payload = [... tabla];\n\nglobal.set(\"global_alarma_ea\" + numeroAlarma, estadoAlarma);\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3f18b74d7d5f7e5c",
        "type": "ui_template",
        "z": "26dda74cf2221d09",
        "group": "4b90d7d19055fe04",
        "name": "Estilo general",
        "order": 4,
        "width": 0,
        "height": 0,
        "format": "<style>\n    md-toolbar {\n        min-height: 60px !important;\n        height: 60px !important;\n        padding-top: 2px !important;\n        padding-bottom: 2px !important;\n    }\n\n    .nr-dashboard-theme .md-toolbar-tools {\n        height: 60px !important;\n        min-height: 60px !important;\n        font-size: 18px !important;\n    }\n\n    md-tabs-wrapper,\n    md-tabs-canvas,\n    md-pagination-wrapper,\n    md-tab-item {\n        height: 60px !important;\n        min-height: 60px !important;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 880,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "5c8b4164c6c4c3d6",
        "type": "comment",
        "z": "26dda74cf2221d09",
        "name": "Revisión de Alarmas",
        "info": "Revisión de alarmas\n\n// COMBUSTIBLE / LUBRICACIÓN\nAlarma1\", \"PARTIDA BOMBA STBY FO\");\nAlarma2\", \"FALLA BOMBA ALIMENTACION FO 1\");\nAlarma3\", \"FALLA BOMBA ALIMENTACION FO 2\");\nAlarma4\", \"FALLA BOMBA PRELUB\");\nAlarma5\", \"PARTIDA BOMBA STBY LO\");\nAlarma6\", \"FALLA BOMBA STBY CAJA RED\");\nAlarma7\", \"ALARMA COMUN PURIF. ACEITE\");\nAlarma8\", \"ALARMA COMUN PURIF. PETROLEO\");\nAlarma9\", \"BOMBA PRELUB. TRIPEADA\");\nAlarma10\", \"FILTRO FINO FO TAPADO\");\nAlarma11\", \"LS103-FUGA COMBUSTIBLE, TUBO INYECCION\");\nAlarma12\", \"LS108A-FUGA COMBUSTIBLE COMB SUCIO LADO VOLANTE\");\nAlarma13\", \"PT101-PRESION DE COMBUSTIBLE ENTRADA MOTOR\");\nAlarma14\", \"PRELUB RUNNING MOTOR AUTO\");\nAlarma15\", \"LS204-NIVEL ACEITE LUBRICANTE\");\nAlarma16\", \"PT201-PRESION ACEITE LUB ENTRADA MOTOR\");\nAlarma17\", \"TE201-TEMP ACEITE LUB ENTRADA MOTOR\");\nAlarma18\", \"PT241-PRESION ACEITE LUB ENTRADA FILTRO\");\nAlarma19\", \"BBA PRELUB STBY CORRIENDO\");\nAlarma20\", \"FALLA BBA PRELUB STBY\");\n\n// AGUA ENFRIAMIENTO\nAlarma21\", \"PARTIDA BOMBA STBY LT\");\nAlarma22\", \"FALLA BOMBA STBY LT\");\nglobal.set(\"nombreAlarma23\", \"PARTIDA BOMBA STBY HT\");\nglobal.set(\"nombreAlarma24\", \"FALLA BOMBA STBY HT\");\nglobal.set(\"nombreAlarma25\", \"PT401-PRESION DE AGUA HT ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma26\", \"PT471-PRESION DE AGUA DE LT ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma27\", \"TE401-BAJA TEMP AGUA HT ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma28\", \"TE402-TEMP AGUA HT SALIDA MOTOR\");\nglobal.set(\"nombreAlarma29\", \"TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\");\nglobal.set(\"nombreAlarma30\", \"TE472-TEMP AGUA LT SALIDA REFRIGERADOR AIRE CARGA\");\nglobal.set(\"nombreAlarma31\", \"TE482-TEMP AGUA LT SALIDA REFRIGERADOR ACEITE\");\nglobal.set(\"nombreAlarma32\", \"HT WATER STBY RUNNING AUTO\");\nglobal.set(\"nombreAlarma33\", \"LT WATER STBY RUNNING AUTO\");\nglobal.set(\"nombreAlarma34\", \"LUB OIL STBY RUNNING AUTO\");\nglobal.set(\"nombreAlarma35\", \"FUEL OIL STBY RUNNING AUTO\");\nglobal.set(\"nombreAlarma36\", \"REDUCCION CARGA AGUA HT\");\n\n// AIRE DE CARGA\nglobal.set(\"nombreAlarma37\", \"PT301-PRESION AIRE ARRANQUE\");\nglobal.set(\"nombreAlarma38\", \"PT311-PRESION AIRE CONTROL\");\nglobal.set(\"nombreAlarma39\", \"PT622-PRESION AIRE DE CARGA\");\nglobal.set(\"nombreAlarma40\", \"PDT623-DIFERENCIA PRESION SOBRECARGA AIRE\");\nglobal.set(\"nombreAlarma41\", \"TE622-TEMP AIRE CARGA CAC SALIDA\");\n\n// GASES DE ESCAPE\nglobal.set(\"nombreAlarma42\", \"TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\");\nglobal.set(\"nombreAlarma43\", \"TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\");\nglobal.set(\"nombreAlarma44\", \"ALTA TEMP ESCAPE A1 C-500°\");\nglobal.set(\"nombreAlarma45\", \"ALTA TEMP ESCAPE A1 D-500°\");\nglobal.set(\"nombreAlarma46\", \"ALTA TEMP ESCAPE A2 C-500°\");\nglobal.set(\"nombreAlarma47\", \"ALTA TEMP ESCAPE A2 D-500°\");\nglobal.set(\"nombreAlarma48\", \"ALTA TEMP ESCAPE A3 C-500°\");\nglobal.set(\"nombreAlarma49\", \"ALTA TEMP ESCAPE A3 D-500°\");\nglobal.set(\"nombreAlarma50\", \"ALTA TEMP ESCAPE A4 C-500°\");\nglobal.set(\"nombreAlarma51\", \"ALTA TEMP ESCAPE A4 D-500°\");\nglobal.set(\"nombreAlarma52\", \"ALTA TEMP ESCAPE A5 C-500°\");\nglobal.set(\"nombreAlarma53\", \"ALTA TEMP ESCAPE A5 D-500°\");\nglobal.set(\"nombreAlarma54\", \"ALTA TEMP ESCAPE A6 C-500°\");\nglobal.set(\"nombreAlarma55\", \"ALTA TEMP ESCAPE A6 D-500°\");\n\nglobal.set(\"nombreAlarma149\",  \"DESVIACIÓN DE TEMP ESCAPE A1 C\");\nglobal.set(\"nombreAlarma150\",  \"DESVIACIÓN DE TEMP ESCAPE A1 D\");\nglobal.set(\"nombreAlarma151\",  \"DESVIACIÓN DE TEMP ESCAPE A2 C\");\nglobal.set(\"nombreAlarma152\",  \"DESVIACIÓN DE TEMP ESCAPE A2 D\");\nglobal.set(\"nombreAlarma153\",  \"DESVIACIÓN DE TEMP ESCAPE A3 C\");\nglobal.set(\"nombreAlarma154\",  \"DESVIACIÓN DE TEMP ESCAPE A3 D\");\nglobal.set(\"nombreAlarma155\",  \"DESVIACIÓN DE TEMP ESCAPE A4 C\");\nglobal.set(\"nombreAlarma156\",  \"DESVIACIÓN DE TEMP ESCAPE A4 D\");\nglobal.set(\"nombreAlarma157\",  \"DESVIACIÓN DE TEMP ESCAPE A5 C\");\nglobal.set(\"nombreAlarma158\",  \"DESVIACIÓN DE TEMP ESCAPE A5 D\");\nglobal.set(\"nombreAlarma159\",  \"DESVIACIÓN DE TEMP ESCAPE A6 C\");\nglobal.set(\"nombreAlarma160\",  \"DESVIACIÓN DE TEMP ESCAPE A6 D\");\n\n\nglobal.set(\"nombreAlarma56\", \"TY516A-TEMP VALVULA ESC.DIFERENCIA A1\");\nglobal.set(\"nombreAlarma57\", \"TY517A-TEMP GAS ESCAPE DESVIACION A1\");\nglobal.set(\"nombreAlarma58\", \"TY526A-TEMP VALVULA ESC.DIFERENCIA A2\");\nglobal.set(\"nombreAlarma59\", \"TY527A-TEMP GAS ESCAPE DESVIACION A2\");\nglobal.set(\"nombreAlarma60\", \"TY536A-TEMP VALVULA ESC.DIFERENCIA A3\");\nglobal.set(\"nombreAlarma61\", \"TY537A-TEMP GAS ESCAPE DESVIACION A3\");\nglobal.set(\"nombreAlarma62\", \"TY546A-TEMP VALVULA ESC.DIFERENCIA A4\");\nglobal.set(\"nombreAlarma63\", \"TY547A-TEMP GAS ESCAPE DESVIACION A4\");\nglobal.set(\"nombreAlarma64\", \"TY556A-TEMP VALVULA ESC.DIFERENCIA A5\");\nglobal.set(\"nombreAlarma65\", \"TY557A-TEMP GAS ESCAPE DESVIACION A5\");\nglobal.set(\"nombreAlarma66\", \"TY566A-TEMP VALVULA ESC.DIFERENCIA A5\");\nglobal.set(\"nombreAlarma67\", \"TY567A-TEMP GAS ESCAPE DESVIACION A5\");\nglobal.set(\"nombreAlarma68\", \"REDUCCION CARGA GASES ESCAPE\");\nglobal.set(\"nombreAlarma69\", \"REDUCCION DE CARGA DESVIACION GASES ESCAPE\");\n\n// CIGÜEÑAL\nglobal.set(\"nombreAlarma70\", \"REDUCCION DE CARGA OIL MIST DETECTOR\");\nglobal.set(\"nombreAlarma71\", \"FALLA OIL MIST DETECTOR\");\nglobal.set(\"nombreAlarma72\", \"PT701-PRESION CRANIKCASE\");\nglobal.set(\"nombreAlarma73\", \"ALTA TEMP MB0-110°\");\nglobal.set(\"nombreAlarma74\", \"ALTA TEMP MB1-110°\");\nglobal.set(\"nombreAlarma75\", \"ALTA TEMP MB2-110°\");\nglobal.set(\"nombreAlarma76\", \"ALTA TEMP MB3-110°\");\nglobal.set(\"nombreAlarma77\", \"ALTA TEMP MB4-110°\");\nglobal.set(\"nombreAlarma78\", \"ALTA TEMP MB5-110°\");\nglobal.set(\"nombreAlarma79\", \"ALTA TEMP MB6-110°\");\nglobal.set(\"nombreAlarma80\", \"ALTA TEMP MB7-110°\");\nglobal.set(\"nombreAlarma161\", \"AUTOPARADA ALTA CONCENTRACION GASES EN CARTER\");\n\n// CILINDROS\nglobal.set(\"nombreAlarma81\", \"TE711A-TEMP CILINDRO A1 1-160°\");\nglobal.set(\"nombreAlarma82\", \"TE712A-TEMP CILINDRO A1 2-160°\");\nglobal.set(\"nombreAlarma83\", \"TE721A-TEMP CILINDRO A2 1-160°\");\nglobal.set(\"nombreAlarma84\", \"TE722A-TEMP CILINDRO A2 2-160°\");\nglobal.set(\"nombreAlarma85\", \"TE731A-TEMP CILINDRO A3 1-160°\");\nglobal.set(\"nombreAlarma86\", \"TE732A-TEMP CILINDRO A3 2-160°\");\nglobal.set(\"nombreAlarma87\", \"TE741A-TEMP CILINDRO A4 1-160°\");\nglobal.set(\"nombreAlarma88\", \"TE742A-TEMP CILINDRO A4 2-160°\");\nglobal.set(\"nombreAlarma89\", \"TE751A-TEMP CILINDRO A5 1-160°\");\nglobal.set(\"nombreAlarma90\", \"TE752A-TEMP CILINDRO A5 2-160°\");\nglobal.set(\"nombreAlarma91\", \"TE761A-TEMP CILINDRO A6 1-160°\");\nglobal.set(\"nombreAlarma92\", \"TE762A-TEMP CILINDRO A6 2-160°\");\nglobal.set(\"nombreAlarma93\", \"REDUCCION POR CILINDRO\");\n\n// BLOQUEO PARADA\nglobal.set(\"nombreAlarma94\", \"AUTOPARADA AGUA HT\");\nglobal.set(\"nombreAlarma95\", \"AUTOPARADA SOBREVELOCIDAD\");\nglobal.set(\"nombreAlarma96\", \"AUTOPARADA BAJA PRESION ACEITE\");\nglobal.set(\"nombreAlarma97\", \"AUTOPARADA OIL MIST DETECTOR\");\n\n// MISCELÁNEOS\nglobal.set(\"nombreAlarma98\", \"FALLA ALIMENTACION TABLERO ALARMAS - SGM TITAN\");\nglobal.set(\"nombreAlarma99\", \"FALLA BOMBA AGUA MAR 2\");\nglobal.set(\"nombreAlarma100\", \"ALTO NIVEL SEPTICO\");\nglobal.set(\"nombreAlarma101\", \"ALARMA COMUN MOTOR AUX 3\");\nglobal.set(\"nombreAlarma102\", \"BAJA PRESION AIRE IP CONVERTER\");\nglobal.set(\"nombreAlarma103\", \"ALARMA COMUN MOTOR AUX 2\");\nglobal.set(\"nombreAlarma104\", \"FALLA PODER TARJETA PROTEX1000\");\nglobal.set(\"nombreAlarma105\", \"FALLA CRITICA TARJETA PROTEX1000\");\nglobal.set(\"nombreAlarma106\", \"FALLA CONTROL RSW TEKNOTHERM\");\nglobal.set(\"nombreAlarma107\", \"BAJO NIVEL COMB GENERADOR PROA\");\nglobal.set(\"nombreAlarma108\", \"FALLA PRECALENTADOR AGUA MPPAL\");\nglobal.set(\"nombreAlarma109\", \"FALLA BOMBA AGUA MAR 1\");\nglobal.set(\"nombreAlarma110\", \"FALLA UN1 PROPULSION RR\");\nglobal.set(\"nombreAlarma111\", \"FALLA UN1 PROPULSION RR BACKUP\");\nglobal.set(\"nombreAlarma112\", \"SS_174 FALLA PICKUP\");\nglobal.set(\"nombreAlarma113\", \"FALLA COMUNICACION PARALLEL LINK\");\nglobal.set(\"nombreAlarma114\", \"FALLA CONTROL RSW AQUATHERM\");\n\n// CAJA Y THRUSTER\nglobal.set(\"nombreAlarma115\", \"BAJO NIVEL TK GRAVED THRUSTER PROA\");\nglobal.set(\"nombreAlarma116\", \"BAJA PRESION LO RODAMIENTO\");\nglobal.set(\"nombreAlarma117\", \"BAJA PRES LO EMBR CAJA RED\");\nglobal.set(\"nombreAlarma118\", \"FILTRO LO CAJA TAPADO\");\nglobal.set(\"nombreAlarma119\", \"BAJO NIVEL ACEITE CAJA RED\");\nglobal.set(\"nombreAlarma120\", \"BAJO NIVEL TK GRAVED THRUSTER POPA\");\nglobal.set(\"nombreAlarma121\", \"BAJA PRESION ACEITE PPAL CAJA RED\");\nglobal.set(\"nombreAlarma122\", \"FILTRO TAPADO THRUSTER PROA\");\nglobal.set(\"nombreAlarma123\", \"FILTRO TAPADO THRUSTER POPA\");\nglobal.set(\"nombreAlarma124\", \"BAJA PRESION SERVO THRUSTER PROA\");\nglobal.set(\"nombreAlarma125\", \"BAJA PRESION SERVO THRUSTER POPA\");\nglobal.set(\"nombreAlarma126\", \"UN1 FALLA THRUSTER POPA\");\nglobal.set(\"nombreAlarma127\", \"UN1 FALLA THRUSTER POPA BACKUP\");\nglobal.set(\"nombreAlarma128\", \"UN1 FALLA THRUSTER PROA\");\nglobal.set(\"nombreAlarma129\", \"UN1 FALLA THRUSTER PROA BACKUP\");\n\n// SENTINAS\nglobal.set(\"nombreAlarma130\", \"ALTO NIVEL SENTINA SALA BOMBAS\");\nglobal.set(\"nombreAlarma131\", \"ALTO NIVEL SALA THRUSTER PROA\");\nglobal.set(\"nombreAlarma132\", \"ALTO NIVEL SENTINA SALA MAQUINA\");\nglobal.set(\"nombreAlarma133\", \"ALTO NIVEL SENTINA SALA TIMON\");\nglobal.set(\"nombreAlarma134\", \"ALTO NIVEL SENTINA SALA RSW\");\nglobal.set(\"nombreAlarma135\", \"ALTO NIVEL SENTINA SALA SONAR\");\nglobal.set(\"nombreAlarma136\", \"ALTO NIVEL SENTINA SALA DESCARGA\");\n\n// ESTANQUES\nglobal.set(\"nombreAlarma137\", \"BAJO NIVEL TK ACEITE HIDR PROA\");\nglobal.set(\"nombreAlarma138\", \"ALTO NIVEL TK DRENAJE FO\");\nglobal.set(\"nombreAlarma139\", \"ALTO NIVEL TK ACEITE SUCIO\");\nglobal.set(\"nombreAlarma140\", \"BAJO NIVEL TK ACEITE HIDR POPA\");\nglobal.set(\"nombreAlarma141\", \"BAJO NIVEL TK DIARIO COMBUSTIBLE\");\nglobal.set(\"nombreAlarma142\", \"BAJO NIVEL TK DIARIO PETROLEO\");\nglobal.set(\"nombreAlarma143\", \"BAJO NIVEL TK EXP MOTOR PPAL\");\n\n// LISTO PARA PARTIR\nglobal.set(\"nombreAlarma144\", \"PRESION ACEITE LUB MOTOR PRINCIPAL\");\nglobal.set(\"nombreAlarma145\", \"VIRADOR DEL EJE\");\nglobal.set(\"nombreAlarma146\", \"PALANCA POSICION\");\nglobal.set(\"nombreAlarma147\", \"MOTOR DETENIDO\");\nglobal.set(\"nombreAlarma148\", \"PRESION ACEITE LUB CAJA REDUCTORA\");",
        "x": 870,
        "y": 220,
        "wires": []
    },
    {
        "id": "f702aab0169e8fef",
        "type": "inject",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "Cada 1 segundo",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 600,
        "wires": [
            [
                "28c5967091e3ed4e",
                "cebecf0f551b7ac1",
                "ae5839d4758ddee4",
                "cc9530e001719a88"
            ]
        ]
    },
    {
        "id": "dbfc72fe0c69d206",
        "type": "modbus-flex-getter",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "88dbad058767608a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 610,
        "y": 560,
        "wires": [
            [
                "dfe36f09c9a19d2e"
            ],
            []
        ]
    },
    {
        "id": "28c5967091e3ed4e",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "function 2",
        "func": "msg.payload = {\n    \"unitid\" : 1,\n    \"fc\": 3,\n    \"address\": 0,\n    \"quantity\": 125\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 560,
        "wires": [
            [
                "dbfc72fe0c69d206"
            ]
        ]
    },
    {
        "id": "fac6d97535cf9aeb",
        "type": "modbus-flex-getter",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "88dbad058767608a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 610,
        "y": 620,
        "wires": [
            [
                "f9acacfb66958bb2"
            ],
            []
        ]
    },
    {
        "id": "cebecf0f551b7ac1",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "function 3",
        "func": "msg.payload = {\n    \"unitid\" : 1,\n    \"fc\": 3,\n    \"address\": 125,\n    \"quantity\": 125\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 620,
        "wires": [
            [
                "fac6d97535cf9aeb"
            ]
        ]
    },
    {
        "id": "dfe36f09c9a19d2e",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "Lectura PLC de 0 a 124, PLC 39",
        "func": "\n// Asegurarse de que msg.payload tenga al menos un valor\nif (!Array.isArray(msg.payload) || msg.payload.length < 1) {\n    return msg;\n}\n\n//Obtiene valores positivos o negativos desde el PLC: word signed\nfor(let i = 0; i < 125; i++){\n    if (msg.payload[i] > 32767) { //negativo\n            msg.payload[i] = msg.payload[i] - 65536;\n        }\n}\n//**************** Valores Delay de alarmas ******************\nlet listado = global.get(\"numAlarmasPLC39\");\nfor(let i of listado){\n    let dirDelay = global.get(\"direccionDelayAlarma\" + i);\n    if(dirDelay < 125){    \n        let valor = msg.payload[dirDelay];\n        //Negativo ?\n        if(valor > 32767){ //negativo\n            valor = valor - 65536;\n        }    \n        global.set(\"delayAlarma\" + i, valor)\n    }\n}    \n//***************************************************************\n\n\n//*************** Valores mediciones analógicas\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n//global.set(\"valorAnalogo34\", msg.payload[]); // TEMP. AGUA HT ENTRADA MOTOR\n//global.set(\"valorAnalogo36\", msg.payload[]); // TEMP. AGUA HT SALIDA TURBO\n//global.set(\"valorAnalogo39\", msg.payload[]); // TEMP. AGUA LT SALIDA AFTERCOOLER\n//global.set(\"valorAnalogo40\", msg.payload[]); // TEMP. LT SALIDA AFTERCOOLER ACEITE\n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n//global.set(\"valorAnalogo54\", msg.payload[]); // TEMP. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo58\", msg.payload[]); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n\n//*** DESEMPEÑO MOTOR \n//global.set(\"valorAnalogo61\", msg.payload[]); // FUEL RACK POS.\n//global.set(\"valorAnalogo62\", msg.payload[]); // VELOCIDAD TURBO\n//global.set(\"valorAnalogo65\", msg.payload[]); // TEMP. AIRE CARGA SALIDA\n//global.set(\"valorAnalogo66\", msg.payload[]); // TEMP. TURBO\n//global.set(\"valorAnalogo67\", msg.payload[]); // TEMP. EXH. TC IN 2\n//global.set(\"valorAnalogo68\", msg.payload[]); // TEMP. EXH. TC OUT\n\n\n//*** VALORES ANÁLOGOS ALARMAS \n//global.set(\"valorAnalogo70\", msg.payload[]); // TEMP. ACEITE CAJA REDUCTORA\n//*****************************************************\n\n\n\n//******************************************************************* */\n//************* Magnitudes de sensores para Alarmas ******************/\n///******************************************************************* */\n\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n\n//*** DESEMPEÑO MOTOR \n\n//*** VALORES ANÁLOGOS ALARMAS\n\n//*************************************************************************\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "f9acacfb66958bb2",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "Lectura PLC de 125 a 249, PLC 39",
        "func": "if (!Array.isArray(msg.payload) || msg.payload.length < 1) {\n    return msg;\n}\n\n\n//Obtiene valores positivos o negativos desde el PLC: word signed\nfor(let i = 0; i < 125; i++){\n    if (msg.payload[i] > 32767) { //negativo\n            msg.payload[i] = msg.payload[i] - 65536;\n        }\n}\n\n//**************** Valores Delay de alarmas ******************\n//Segundo bloque de 125 palabras modbus, por lo que se debe restar 125 al leer el payload\nlet corrimientoPorBloqueModbus = 125;\n\nlet listado = global.get(\"numAlarmasPLC39\");\nfor (let i of listado) {\n    let dirDelay = global.get(\"direccionDelayAlarma\" + i);\n    if (dirDelay >= 125 && dirDelay < 250) {\n        let valor = msg.payload[dirDelay - corrimientoPorBloqueModbus];\n        //Negativo ?\n        if (valor > 32767) { //negativo\n            valor = valor - 65536;\n        }\n        global.set(\"delayAlarma\" + i, valor)\n    }\n}\n//***************************************************************\n\n\n\n//*************** Valores mediciones analógicas\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n//global.set(\"valorAnalogo34\", msg.payload[]); // TEMP. AGUA HT ENTRADA MOTOR\n//global.set(\"valorAnalogo36\", msg.payload[]); // TEMP. AGUA HT SALIDA TURBO\n//global.set(\"valorAnalogo39\", msg.payload[]); // TEMP. AGUA LT SALIDA AFTERCOOLER\n//global.set(\"valorAnalogo40\", msg.payload[]); // TEMP. LT SALIDA AFTERCOOLER ACEITE\n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n//global.set(\"valorAnalogo54\", msg.payload[]); // TEMP. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo58\", msg.payload[]); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n//*** DESEMPEÑO MOTOR \n//global.set(\"valorAnalogo61\", msg.payload[]); // FUEL RACK POS.\n//global.set(\"valorAnalogo62\", msg.payload[]); // VELOCIDAD TURBO\n//global.set(\"valorAnalogo65\", msg.payload[]); // TEMP. AIRE CARGA SALIDA\n//global.set(\"valorAnalogo66\", msg.payload[]); // TEMP. TURBO\n//global.set(\"valorAnalogo67\", msg.payload[]); // TEMP. EXH. TC IN 2\n//global.set(\"valorAnalogo68\", msg.payload[]); // TEMP. EXH. TC OUT\n\n//*** VALORES ANÁLOGOS ALARMAS \nglobal.set(\"valorAnalogo69\", msg.payload[200 - corrimientoPorBloqueModbus]); // TEMP. DESCANSO AXIAL\nglobal.set(\"valorAnalogo70\", msg.payload[201 - corrimientoPorBloqueModbus]); // TEMP. ACEITE CAJA REDUCTORA\nglobal.set(\"valorAnalogo71\", msg.payload[202 - corrimientoPorBloqueModbus]); // BOBINA GEN COLA FASE 1\nglobal.set(\"valorAnalogo72\", msg.payload[203 - corrimientoPorBloqueModbus]); // BOBINA GEN COLA FASE 2\nglobal.set(\"valorAnalogo73\", msg.payload[204 - corrimientoPorBloqueModbus]); // BOBINA GEN COLA FASE 3\nglobal.set(\"valorAnalogo74\", msg.payload[205 - corrimientoPorBloqueModbus]); // TEMP. RODAMIENTO GEN COLA\n//*****************************************************\n\n\n\n//******************************************************************* */\n//************* Magnitudes de sensores para Alarmas ******************/\n///******************************************************************* */\n\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n\n//*** DESEMPEÑO MOTOR \n\n//*** VALORES ANÁLOGOS ALARMAS\n\n//*************************************************************************\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "261a9c40dc2192aa",
        "type": "modbus-flex-getter",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "88dbad058767608a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 610,
        "y": 680,
        "wires": [
            [
                "66b40814382899e9"
            ],
            []
        ]
    },
    {
        "id": "ae5839d4758ddee4",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "function 4",
        "func": "msg.payload = {\n    \"unitid\" : 1,\n    \"fc\": 3,\n    \"address\": 250,\n    \"quantity\": 125\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 680,
        "wires": [
            [
                "261a9c40dc2192aa"
            ]
        ]
    },
    {
        "id": "66b40814382899e9",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "Lectura PLC de 250 a 375, PLC39",
        "func": "// Asegurarse de que msg.payload tenga al menos un valor\nif (!Array.isArray(msg.payload) || msg.payload.length < 1) {\n    return msg;\n}\n\n//Obtiene valores positivos o negativos desde el PLC: word signed\nfor(let i = 0; i < 125; i++){\n    if (msg.payload[i] > 32767) { //negativo\n            msg.payload[i] = msg.payload[i] - 65536;\n        }\n}\n\n//**************** Valores Delay de alarmas ******************\n//Tercer bloque de 125 palabras modbus, por lo que se debe restar 250 al leer el payload\nlet corrimientoPorBloqueModbus = 250;\n\nlet listado = global.get(\"numAlarmasPLC39\");\nfor (let i of listado) {\n    let dirDelay = global.get(\"direccionDelayAlarma\" + i);    \n    if (dirDelay >= 250 && dirDelay < 375) {\n        let valor = msg.payload[dirDelay - corrimientoPorBloqueModbus];\n        //Negativo ?\n        if (valor > 32767) { //negativo\n            valor = valor - 65536;\n        }\n        global.set(\"delayAlarma\" + i, valor)\n    }\n}\n//***************************************************************\n\n\n//*************** Valores mediciones analógicas\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n//global.set(\"valorAnalogo34\", msg.payload[]); // TEMP. AGUA HT ENTRADA MOTOR\n//global.set(\"valorAnalogo36\", msg.payload[]); // TEMP. AGUA HT SALIDA TURBO\n//global.set(\"valorAnalogo39\", msg.payload[]); // TEMP. AGUA LT SALIDA AFTERCOOLER\n//global.set(\"valorAnalogo40\", msg.payload[]); // TEMP. LT SALIDA AFTERCOOLER ACEITE\n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n//global.set(\"valorAnalogo54\", msg.payload[]); // TEMP. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo58\", msg.payload[]); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n//*** DESEMPEÑO MOTOR \n//global.set(\"valorAnalogo61\", msg.payload[]); // FUEL RACK POS.\n//global.set(\"valorAnalogo62\", msg.payload[]); // VELOCIDAD TURBO\n//global.set(\"valorAnalogo65\", msg.payload[]); // TEMP. AIRE CARGA SALIDA\n//global.set(\"valorAnalogo66\", msg.payload[]); // TEMP. TURBO\n//global.set(\"valorAnalogo67\", msg.payload[]); // TEMP. EXH. TC IN 2\n//global.set(\"valorAnalogo68\", msg.payload[]); // TEMP. EXH. TC OUT\n\n\n//*** VALORES ANÁLOGOS ALARMAS \n//global.set(\"valorAnalogo70\", msg.payload[]); // TEMP. ACEITE CAJA REDUCTORA\n//*****************************************************\n\n\n\n\n//******************************************************************* */\n//************* Magnitudes de sensores para Alarmas ******************/\n///******************************************************************* */\n\n//*** TEMPERATURAS CIGÜEÑAL\nglobal.set(\"MagnitudAlarmaSensorAnalogo1\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo1\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo2\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo2\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo3\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo3\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo4\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo4\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo5\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo5\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo6\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo6\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo7\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo7\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo8\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo8\") - corrimientoPorBloqueModbus]);\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n\n//*** DESEMPEÑO MOTOR \n\n//*** VALORES ANÁLOGOS ALARMAS\n\n//*************************************************************************\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "33d9e7733fb6aa23",
        "type": "modbus-flex-getter",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "88dbad058767608a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 610,
        "y": 740,
        "wires": [
            [
                "7d70c24553ce852d"
            ],
            []
        ]
    },
    {
        "id": "cc9530e001719a88",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "function 5",
        "func": "msg.payload = {\n    \"unitid\" : 1,\n    \"fc\": 3,\n    \"address\": 500,\n    \"quantity\": 125\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 740,
        "wires": [
            [
                "33d9e7733fb6aa23"
            ]
        ]
    },
    {
        "id": "7d70c24553ce852d",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a1923c0b93694b7c",
        "name": "Lectura PLC de 500 a 624, PLC39",
        "func": "// Asegurarse de que msg.payload tenga al menos un valor\nif (!Array.isArray(msg.payload) || msg.payload.length < 1) {\n    return msg;\n}\n\n//Obtiene valores positivos o negativos desde el PLC: word signed\nfor(let i = 0; i < 125; i++){\n    if (msg.payload[i] > 32767) { //negativo\n            msg.payload[i] = msg.payload[i] - 65536;\n        }\n}\n\n//**************** Valores Delay de alarmas ******************\n//Tercer bloque de 125 palabras modbus, por lo que se debe restar 250 al leer el payload\nlet corrimientoPorBloqueModbus = 500;\n\nlet listado = global.get(\"numAlarmasPLC39\");\nfor (let i of listado) {\n    let dirDelay = global.get(\"direccionDelayAlarma\" + i);    \n    if (dirDelay >= 500 && dirDelay < 625) {\n        let valor = msg.payload[dirDelay - corrimientoPorBloqueModbus];\n        //Negativo ?\n        if (valor > 32767) { //negativo\n            valor = valor - 65536;\n        }\n        global.set(\"delayAlarma\" + i, valor)\n    }\n}\n//***************************************************************\n\n//*************** Valores mediciones analógicas\n//*** TEMPERATURAS CIGÜEÑAL\nglobal.set(\"valorAnalogo1\", msg.payload[500 - corrimientoPorBloqueModbus]);  // ALTA TEMP MB0-110°\nglobal.set(\"valorAnalogo2\", msg.payload[501 - corrimientoPorBloqueModbus]);  // ALTA TEMP MB1-110°\nglobal.set(\"valorAnalogo3\", msg.payload[502 - corrimientoPorBloqueModbus]);  // ALTA TEMP MB2-110°\nglobal.set(\"valorAnalogo4\", msg.payload[503 - corrimientoPorBloqueModbus]);  // ALTA TEMP MB3-110°\nglobal.set(\"valorAnalogo5\", msg.payload[504 - corrimientoPorBloqueModbus]);  // ALTA TEMP MB4-110°\nglobal.set(\"valorAnalogo6\", msg.payload[505 - corrimientoPorBloqueModbus]);  // ALTA TEMP MB5-110°\nglobal.set(\"valorAnalogo7\", msg.payload[506 - corrimientoPorBloqueModbus]);  // ALTA TEMP MB6-110°\nglobal.set(\"valorAnalogo8\", msg.payload[507 - corrimientoPorBloqueModbus]);  // ALTA TEMP MB7-110°\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n//global.set(\"valorAnalogo34\", msg.payload[]); // TEMP. AGUA HT ENTRADA MOTOR\n//global.set(\"valorAnalogo36\", msg.payload[]); // TEMP. AGUA HT SALIDA TURBO\n//global.set(\"valorAnalogo39\", msg.payload[]); // TEMP. AGUA LT SALIDA AFTERCOOLER\n//global.set(\"valorAnalogo40\", msg.payload[]); // TEMP. LT SALIDA AFTERCOOLER ACEITE\n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n//global.set(\"valorAnalogo54\", msg.payload[]); // TEMP. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo58\", msg.payload[]); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n\n//*** DESEMPEÑO MOTOR \n//global.set(\"valorAnalogo61\", msg.payload[]); // FUEL RACK POS.\n//global.set(\"valorAnalogo62\", msg.payload[]); // VELOCIDAD TURBO\n//global.set(\"valorAnalogo65\", msg.payload[]); // TEMP. AIRE CARGA SALIDA\n//global.set(\"valorAnalogo66\", msg.payload[]); // TEMP. TURBO\n//global.set(\"valorAnalogo67\", msg.payload[]); // TEMP. EXH. TC IN 2\n//global.set(\"valorAnalogo68\", msg.payload[]); // TEMP. EXH. TC OUT\n\n\n//*** VALORES ANÁLOGOS ALARMAS\n//global.set(\"valorAnalogo70\", msg.payload[]); // TEMP. ACEITE CAJA REDUCTORA\n//*****************************************************\n\n\n\n//******************************************************************* */\n//************* Magnitudes de sensores para Alarmas ******************/\n///******************************************************************* */\n\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n\n//*** DESEMPEÑO MOTOR \n\n//*** VALORES ANÁLOGOS ALARMAS\n\n//*************************************************************************\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "8d9cf8888f53e308",
        "type": "modbus-read",
        "z": "26dda74cf2221d09",
        "g": "7cbecd5db4c0ea5d",
        "name": "Modbus - Alarmas - PLC 39",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "0",
        "quantity": "1000",
        "rate": "1",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "88dbad058767608a",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 200,
        "y": 60,
        "wires": [
            [
                "8db0595324d20795"
            ],
            []
        ]
    },
    {
        "id": "8db0595324d20795",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "7cbecd5db4c0ea5d",
        "name": "Variables globales",
        "func": "let alarma = [];\n\n// COMBUSTIBLE / LUBRICACIÓN\nalarma[1] = msg.payload[514];  // PARTIDA BOMBA STBY FO\nalarma[2] = msg.payload[515];  // FALLA BOMBA ALIMENTACION FO 1\nalarma[3] = msg.payload[517];  // FALLA BOMBA ALIMENTACION FO 2\n//alarma[4] = msg.payload[];  // FALLA BOMBA PRELUB\nalarma[5] = msg.payload[519];  // PARTIDA BOMBA STBY LO\nalarma[6] = msg.payload[525];  // FALLA BOMBA STBY CAJA RED\nalarma[7] = msg.payload[535];  // ALARMA COMUN PURIF. ACEITE \nalarma[8] = msg.payload[536];  // ALARMA COMUN PURIF. PETROLEO \nalarma[9] = msg.payload[551];  // BOMBA PRELUB. TRIPEADA \nalarma[10] = msg.payload[569];  // FILTRO FINO FO TAPADO \nalarma[11] = msg.payload[596];  // LS103-FUGA COMBUSTIBLE ,TUBO INYECCION \nalarma[12] = msg.payload[597];  // LS108A-FUGA COMBUSTIBLE COMB SUCIO LADO VOLANTE \n//alarma[14] = msg.payload[];   // PRELUB RUNNING MOTOR AUTO\nalarma[15] = msg.payload[554];  // LS204-NIVEL ACEITE LUBRICANTE \nalarma[19] = msg.payload[552];  // BBA PRELUB STBY CORRIENDO \nalarma[20] = msg.payload[553];  // FALLA BBA PRELUB STBY\n\n// AGUA ENFRIAMIENTO\nalarma[21] = msg.payload[572];  // PARTIDA BOMBA STBY LT\nalarma[22] = msg.payload[573];  // FALLA BOMBA STBY LT\nalarma[23] = msg.payload[574];  // PARTIDA BOMBA STBY HT\nalarma[24] = msg.payload[575];  // FALLA BOMBA STBY HT\nalarma[32] = msg.payload[617];  // HT WATER STBY RUNNIG AUTO\nalarma[33] = msg.payload[618];   // LT WATER STBY RUNNIG AUTO\nalarma[34] = msg.payload[619];   // LUB OIL STBY RUNNIG AUTO \nalarma[35] = msg.payload[620];   // FUEL OIL STBY RUNNIG AUTO \nalarma[36] = msg.payload[623];   // REDUCCION CARGA AGUA HT\n\n// AIRE DE CARGA \n\n// GASES DE ESCAPE \n\n//alarma[56] = msg.payload[];   // TY516A-TEMP VALVULA ESC.DIFERENCIA A1\n//alarma[57] = msg.payload[];   // TY517A-TEMP GAS ESCAPE DESVIACION A1\n//alarma[58] = msg.payload[];   // TY526A-TEMP VALVULA ESC.DIFERENCIA A2\n//alarma[59] = msg.payload[];   // TY527A-TEMP GAS ESCAPE  DESVIACION A2\n//alarma[60] = msg.payload[];   // TY536A-TEMP VALVULA ESC.DIFERENCIA A3\n//alarma[61] = msg.payload[];   // TY537A-TEMP GAS ESCAPE DESVIACION A3\n//alarma[62] = msg.payload[];   // TY546A-TEMP VALVULA ESC.DIFERENCIA A4\n//alarma[63] = msg.payload[];   // TY547A-TEMP GAS ESCAPE DESVIACION A4\n//alarma[64] = msg.payload[];   // TY556A-TEMP VALVULA ESC.DIFERENCIA A5\n//alarma[65] = msg.payload[];   // TY557A-TEMP GAS ESCAPE DESVIACION A5\n//alarma[66] = msg.payload[];   // TY566A-TEMP VALVULA ESC.DIFERENCIA A5\n//alarma[67] = msg.payload[];   // TY567A-TEMP GAS ESCAPE DESVIACION A5\nalarma[68] = msg.payload[624];   // REDUCCION CARGA GASES ESCAPE \n\n\n// CIGÜEÑAL \nalarma[70] = msg.payload[602];  // REDUCCION DE CARGA OIL MIST DETECTOR \nalarma[71] = msg.payload[603];  // FALLA OIL MIST DETECTOR\nalarma[73] = msg.payload[609];  // ALTA TEMP MB0-110°\nalarma[74] = msg.payload[610];  // ALTA TEMP MB1-110°\nalarma[75] = msg.payload[611];  // ALTA TEMP MB2-110°\nalarma[76] = msg.payload[612];  // ALTA TEMP MB3-110°\nalarma[77] = msg.payload[613];  // ALTA TEMP MB4-110°\nalarma[78] = msg.payload[614];  // ALTA TEMP MB5-110°\nalarma[79] = msg.payload[615];  // ALTA TEMP MB6-110°\nalarma[80] = msg.payload[616];  // ALTA TEMP MB7-110°\nalarma[161] = msg.payload[604];  //AUTOPARADA ALTA CONCENTRACION GASES EN CARTER\n\n// CILINDROS \nalarma[93] = msg.payload[630];   // REDUCCION POR TEMP CILINDRO\n\n// BLOQUEO PARADA \nalarma[94] = msg.payload[622];   // AUTOPARADA AGUA HT\nalarma[95] = msg.payload[626];   // AUTOPARADA SOBREVELOSIDAD \nalarma[96] = msg.payload[627];   // AUTOPARADA BAJA PRESION ACEITE\nalarma[97] = msg.payload[628];  // AUTOPARADA OIL MIST DETECTOR\n\n// MISCELÁNEOS \nalarma[98] = msg.payload[500];   // FALLA ALIMENTACION TABLERO ALARMAS - SGM TITAN\nalarma[99] = msg.payload[503];   // FALLA BOMBA AGUA MAR 2\nalarma[100] = msg.payload[510];   // ALTO NIVEL SEPTICO\nalarma[101] = msg.payload[512];   // ALARMA COMUN MOTOR AUX 3\nalarma[102] = msg.payload[529];  // BAJA PRESION AIRE IP CONVERTER\nalarma[103] = msg.payload[533];  // ALARMA COMUN MOTOR AUX 2\nalarma[104] = msg.payload[539];   // FALLA PODER TARJETA PROTEX1000\n//alarma[105] = msg.payload[];   // FALLA CRITICA TARJETA PROTEX1000\nalarma[106] = msg.payload[501];   // FALLA CONTROL RSW TEKNOTHERM\nalarma[107] = msg.payload[545];  // BAJO NIVEL COMB GENERADOR PROA\nalarma[108] = msg.payload[549];  // FALLA PRECALENTADOR AGUA MPPAL\nalarma[109] = msg.payload[564];  // FALLA BOMBA AGUA MAR 1\nalarma[110] = msg.payload[576];  // FALLA UN1 PROPULSION RR\nalarma[111] = msg.payload[577];  // FALLA UN1 PROPULSION RR BACKUP\nalarma[112] = msg.payload[606];  // SS_174 FALLA PICKUP\nalarma[113] = msg.payload[629];   // FALLA COMUNICACION PARALLEL LINIK\nalarma[114] = msg.payload[506];   // FALLA CONTROL RSW AQUATHERM\n\n// CAJA Y THRUSTER \nalarma[115] = msg.payload[502];   // BAJO NIVEL TK GRAVED THRUSTER PROA\nalarma[116] = msg.payload[507];   // BAJA PRESION LO RODAMIENTO\nalarma[117] = msg.payload[520];  // BAJA PRES LO EMBR CAJA RED\nalarma[118] = msg.payload[521];  // FILTRO LO CAJA TAPADO\nalarma[119] = msg.payload[522];  // BAJO NIVEL ACEITE CAJA RED\nalarma[120] = msg.payload[524];  // BAJO NIVEL TK GRAVED THRUSTER POPA\nalarma[121] = msg.payload[532];  // BAJA PRESION ACEITE PPAL CAJA RED\n//alarma[122] = msg.payload[];   // FILTRO TAPADO THRUSTER PROA\n//alarma[123] = msg.payload[];   // FILTRO TAPADO THRUSTER POPA\nalarma[124] = msg.payload[566];  // BAJA PRESION SERVO THRUSTER PROA\nalarma[125] = msg.payload[546];  // BAJA PRESION SERVO THRUSTER POPA\nalarma[126] = msg.payload[568];  // UN1 FALLA THRUSTER POPA\nalarma[127] = msg.payload[526];  // UN1 FALLA THRUSTER POPA BACKUP\n//alarma[128] = msg.payload[];  // UN1 FALLA THRUSTER PROA\nalarma[129] = msg.payload[528];  // UN1FALLA THRUSTER PROA  BACKUP\n\n// SENTINAS\nalarma[130] = msg.payload[501];   // ALTO NIVEL SENTINA SALA BOMBAS\nalarma[131] = msg.payload[505];   // ALTO NIVEL SALA THRUSTER PROA\nalarma[132] = msg.payload[506];   // ALTO NIVEL SENTINA SALA MAQUINA\nalarma[133] = msg.payload[508];   // ALTO NIVEL SENTINA SALA TIMON\nalarma[134] = msg.payload[509];   // ALTO NIVEL SENTINA SALA RSW\nalarma[135] = msg.payload[541];   // ALTO NIVEL SENTINA SALA SONAR\nalarma[136] = msg.payload[578];  // ALTO NIVEL SENTINA SALA DESCARGA\n\n// ESTANQUES\nalarma[137] = msg.payload[511];   // BAJO NIVEL TK ACEITE HIDR PROA\nalarma[138] = msg.payload[513];   // ALTO NIVEL TK DRENAJE FO\nalarma[139] = msg.payload[523];  // ALTO NIVEL TK ACEITE SUCIO \n//alarma[140] = msg.payload[];   // BAJO NIVEL TK ACEITE HIDR POPA \nalarma[141] = msg.payload[544];  // BAJO NIVEL TK DIARIO COMBUSTIBLE \nalarma[142] = msg.payload[548];  // BAJO NIVEL TK DIARIO PETROLEO \nalarma[143] = msg.payload[550];  // BAJO NIVEL TK EXP MOTOR PPAL\n\n// LISTO PARA PARTIR \n//alarma[144] = msg.payload[];   // PRESION ACEITE LUB MOTOR PRINCIPAL\n//alarma[145] = msg.payload[];   // VIRADOR DEL EJE\n//alarma[146] = msg.payload[];   // PALANCA POSICION \n//alarma[147] = msg.payload[];   // MOTOR DETENIDO \n//alarma[148] = msg.payload[];   // PRESION ACEITE LUB CAJA REDUCTORA\n\n\nvar reconocida = [];\n// COMBUSTIBLE / LUBRICACIÓN\nreconocida[1] = msg.payload[324];  // PARTIDA BOMBA STBY FO\nreconocida[2] = msg.payload[325];  // FALLA BOMBA ALIMENTACION FO 1\nreconocida[3] = msg.payload[327];  // FALLA BOMBA ALIMENTACION FO 2\n//reconocida[4] = msg.payload[];  // FALLA BOMBA PRELUB\nreconocida[5] = msg.payload[329];  // PARTIDA BOMBA STBY LO\nreconocida[6] = msg.payload[335];  // FALLA BOMBA STBY CAJA RED\nreconocida[7] = msg.payload[345];  // ALARMA COMUN PURIF. ACEITE \nreconocida[8] = msg.payload[346];  // ALARMA COMUN PURIF. PETROLEO \nreconocida[9] = msg.payload[361];  // BOMBA PRELUB. TRIPEADA \nreconocida[10] = msg.payload[379];  // FILTRO FINO FO TAPADO \nreconocida[11] = msg.payload[406];  // LS103-FUGA COMBUSTIBLE ,TUBO INYECCION \nreconocida[12] = msg.payload[407];  // LS108A-FUGA COMBUSTIBLE COMB SUCIO LADO VOLANTE \n//reconocida[14] = msg.payload[];   // PRELUB RUNNIG MOTOR AUTO\nreconocida[15] = msg.payload[364];  // LS204-NIVEL ACEITE LUBRICANTE \nreconocida[19] = msg.payload[362];  // BBA PRELUB STBY CORRIENDO \nreconocida[20] = msg.payload[363];  // FALLA BBA PRELUB STBY\n\n// AGUA ENFRIAMIENTO\nreconocida[21] = msg.payload[382];  // PARTIDA BOMBA STBY LT\nreconocida[22] = msg.payload[383];  // FALLA BOMBA STBY LT\nreconocida[23] = msg.payload[384];  // PARTIDA BOMBA STBY HT\nreconocida[24] = msg.payload[385];  // FALLA BOMBA STBY HT\nreconocida[32] = msg.payload[419];  // HT WATER STBY RUNNIG AUTO\nreconocida[33] = msg.payload[420];   // LT WATER STBY RUNNIG AUTO\nreconocida[34] = msg.payload[421];   // LUB OIL STBY RUNNIG AUTO \nreconocida[35] = msg.payload[422];   // FUEL OIL STBY RUNNIG AUTO \nreconocida[36] = msg.payload[425];   // REDUCCION CARGA AGUA HT\n\n// AIRE DE CARGA \n\n// GASES DE ESCAPE \nreconocida[68] = msg.payload[426];   // REDUCCION CARGA GASES ESCAPE \n\n// CIGÜEÑAL \nreconocida[70] = msg.payload[412];  // REDUCCION DE CARGA OIL MIST DETECTOR \nreconocida[71] = msg.payload[413];  // FALLA OIL MIST DETECTOR\nreconocida[73] = msg.payload[432];  // ALTA TEMP MB0-110°\nreconocida[74] = msg.payload[433];  // ALTA TEMP MB1-110°\nreconocida[75] = msg.payload[434];  // ALTA TEMP MB2-110°\nreconocida[76] = msg.payload[435];  // ALTA TEMP MB3-110°\nreconocida[77] = msg.payload[436];  // ALTA TEMP MB4-110°\nreconocida[78] = msg.payload[437];  // ALTA TEMP MB5-110°\nreconocida[79] = msg.payload[438];  // ALTA TEMP MB6-110°\nreconocida[80] = msg.payload[439];  // ALTA TEMP MB7-110°\nreconocida[161] = msg.payload[414]; //AUTOPARADA ALTA CONCENTRACION GASES EN CARTER\n\n// CILINDROS \nreconocida[93] = msg.payload[440];   // REDUCCION POR CILINDRO\n\n// BLOQUEO PARADA \nreconocida[94] = msg.payload[424];   // AUTOPARADA AGUA HT\nreconocida[95] = msg.payload[428];   // AUTOPARADA SOBREVELOSIDAD \nreconocida[96] = msg.payload[429];   // AUTOPARADA BAJA PRESION ACEITE\nreconocida[97] = msg.payload[430];  // AUTOPARADA OIL MIST DETECTOR\n\n// MISCELÁNEOS \nreconocida[98] = msg.payload[310];   // FALLA ALIMENTACION TABLERO ALARMAS - SGM TITAN\nreconocida[99] = msg.payload[313];   // FALLA BOMBA AGUA MAR 2\nreconocida[100] = msg.payload[320];   // ALTO NIVEL SEPTICO\nreconocida[101] = msg.payload[322];   // ALARMA COMUN MOTOR AUX 3\nreconocida[102] = msg.payload[339];  // BAJA PRESION AIRE IP CONVERTER\nreconocida[103] = msg.payload[343];  // ALARMA COMUN MOTOR AUX 2\nreconocida[104] = msg.payload[349];   // FALLA PODER TARJETA PROTEX1000\n//reconocida[105] = msg.payload[];   // FALLA CRITICA TARJETA PROTEX1000\nreconocida[106] = msg.payload[311];   // FALLA CONTROL RSW TEKNOTHERM\nreconocida[107] = msg.payload[355];  // BAJO NIVEL COMB GENERADOR PROA\nreconocida[108] = msg.payload[359];  // FALLA PRECALENTADOR AGUA MPPAL\nreconocida[109] = msg.payload[374];  // FALLA BOMBA AGUA MAR 1\nreconocida[110] = msg.payload[386];  // FALLA UN1 PROPULSION RR\nreconocida[111] = msg.payload[387];  // FALLA UN1 PROPULSION RR BACKUP\nreconocida[112] = msg.payload[416];  // SS_174 FALLA PICKUP\nreconocida[113] = msg.payload[431];   // FALLA COMUNICACION PARALLEL LINIK\nreconocida[114] = msg.payload[316];   // FALLA CONTROL RSW AQUATHERM\n\n// CAJA Y THRUSTER \nreconocida[115] = msg.payload[312];   // BAJO NIVEL TK GRAVED THRUSTER PROA\nreconocida[116] = msg.payload[317];   // BAJA PRESION LO RODAMIENTO\nreconocida[117] = msg.payload[330];  // BAJA PRES LO EMBR CAJA RED\nreconocida[118] = msg.payload[331];  // FILTRO LO CAJA TAPADO\nreconocida[119] = msg.payload[332];  // BAJO NIVEL ACEITE CAJA RED\nreconocida[120] = msg.payload[334];  // BAJO NIVEL TK GRAVED THRUSTER POPA\nreconocida[121] = msg.payload[342];  // BAJA PRESION ACEITE PPAL CAJA RED\n//reconocida[122] = msg.payload[];   // FILTRO TAPADO THRUSTER PROA\n//reconocida[123] = msg.payload[];   // FILTRO TAPADO THRUSTER POPA\nreconocida[124] = msg.payload[376];  // BAJA PRESION SERVO THRUSTER PROA\nreconocida[125] = msg.payload[356];  // BAJA PRESION SERVO THRUSTER POPA\nreconocida[126] = msg.payload[378];  // UN1FALLA THRUSTER POPA\nreconocida[127] = msg.payload[336];  // UN1 FALLA THRUSTER POPA BACKUP\n//reconocida[128] = msg.payload[];  // UN1FALLA THRUSTER PROA\nreconocida[129] = msg.payload[338];  // UN1FALLA THRUSTER PROA  BACKUP\n\n// SENTINAS\nreconocida[130] = msg.payload[311];   // ALTO NIVEL SENTINA SALA BOMBAS\nreconocida[131] = msg.payload[315];   // ALTO NIVEL SALA THRUSTER PROA\nreconocida[132] = msg.payload[316];   // ALTO NIVEL SENTINA SALA MAQUINA\nreconocida[133] = msg.payload[318];   // ALTO NIVEL SENTINA SALA TIMON\nreconocida[134] = msg.payload[319];   // ALTO NIVEL SENTINA SALA RSW\nreconocida[135] = msg.payload[351];   // ALTO NIVEL SENTINA SALA SONAR\nreconocida[136] = msg.payload[388];  // ALTO NIVEL SENTINA SALA DESCARGA\n\n// ESTANQUES\nreconocida[137] = msg.payload[321];   // BAJO NIVEL TK ACEITE HIDR PROA\nreconocida[138] = msg.payload[323];   // ALTO NIVEL TK DRENAJE FO\nreconocida[139] = msg.payload[333];  // ALTO NIVEL TK ACEITE SUCIO \n//reconocida[140] = msg.payload[];   // BAJO NIVEL TK ACEITE HIDR POPA \nreconocida[141] = msg.payload[354];  // BAJO NIVEL TK DIARIO COMBUSTIBLE \nreconocida[142] = msg.payload[358];  // BAJO NIVEL TK DIARIO PETROLEO \nreconocida[143] = msg.payload[360];  // BAJO NIVEL TK EXP MOTOR PPAL\n\n// LISTO PARA PARTIR \n//reconocida[144] = msg.payload[];   // PRESION ACEITE LUB MOTOR PRINCIPAL\n//reconocida[145] = msg.payload[];   // VIRADOR DEL EJE\n//reconocida[146] = msg.payload[];   // PALANCA POSICION \n//reconocida[147] = msg.payload[];   // MOTOR DETENIDO \n//reconocida[148] = msg.payload[];   // PRESION ACEITE LUB CAJA REDUCTORA\n\n\n\nvar inhibido = [];\n// COMBUSTIBLE / LUBRICACIÓN\ninhibido[1] = msg.payload[51];  // PARTIDA BOMBA STBY FO\ninhibido[2] = msg.payload[52];  // FALLA BOMBA ALIMENTACION FO 1\ninhibido[3] = msg.payload[54];  // FALLA BOMBA ALIMENTACION FO 2\n//inhibido[4] = msg.payload[];  // FALLA BOMBA PRELUB\ninhibido[5] = msg.payload[56];  // PARTIDA BOMBA STBY LO\ninhibido[6] = msg.payload[62];  // FALLA BOMBA STBY CAJA RED\ninhibido[7] = msg.payload[72];  // ALARMA COMUN PURIF. ACEITE \ninhibido[8] = msg.payload[73];  // ALARMA COMUN PURIF. PETROLEO \ninhibido[9] = msg.payload[88];  // BOMBA PRELUB. TRIPEADA \ninhibido[10] = msg.payload[106];  // FILTRO FINO FO TAPADO \ninhibido[11] = msg.payload[650];  // LS103-FUGA COMBUSTIBLE ,TUBO INYECCION \ninhibido[12] = msg.payload[651];  // LS108A-FUGA COMBUSTIBLE COMB SUCIO LADO VOLANTE \n//inhibido[14] = msg.payload[];   // PRELUB RUNNIG MOTOR AUTO\ninhibido[15] = msg.payload[91];  // LS204-NIVEL ACEITE LUBRICANTE \ninhibido[19] = msg.payload[89];  // BBA PRELUB STBY CORRIENDO \ninhibido[20] = msg.payload[90];  // FALLA BBA PRELUB STBY\n\n// AGUA ENFRIAMIENTO\ninhibido[21] = msg.payload[109];  // PARTIDA BOMBA STBY LT\ninhibido[22] = msg.payload[110];  // FALLA BOMBA STBY LT\ninhibido[23] = msg.payload[111];  // PARTIDA BOMBA STBY HT\ninhibido[24] = msg.payload[112];  // FALLA BOMBA STBY HT\ninhibido[32] = msg.payload[671];  // HT WATER STBY RUNNIG AUTO\ninhibido[33] = msg.payload[672];   // LT WATER STBY RUNNIG AUTO\ninhibido[34] = msg.payload[673];   // LUB OIL STBY RUNNIG AUTO \ninhibido[35] = msg.payload[674];   // FUEL OIL STBY RUNNIG AUTO \ninhibido[36] = msg.payload[677];   // REDUCCION CARGA AGUA HT\n\n// AIRE DE CARGA \n\n// GASES DE ESCAPE \n//inhibido[56] = msg.payload[];   // TY516A-TEMP VALVULA ESC.DIFERENCIA A1\n//inhibido[57] = msg.payload[];   // TY517A-TEMP GAS ESCAPE DESVIACION A1\n//inhibido[58] = msg.payload[];   // TY526A-TEMP VALVULA ESC.DIFERENCIA A2\n//inhibido[59] = msg.payload[];   // TY527A-TEMP GAS ESCAPE  DESVIACION A2\n//inhibido[60] = msg.payload[];   // TY536A-TEMP VALVULA ESC.DIFERENCIA A3\n//inhibido[61] = msg.payload[];   // TY537A-TEMP GAS ESCAPE DESVIACION A3\n//inhibido[62] = msg.payload[];   // TY546A-TEMP VALVULA ESC.DIFERENCIA A4\n//inhibido[63] = msg.payload[];   // TY547A-TEMP GAS ESCAPE DESVIACION A4\n//inhibido[64] = msg.payload[];   // TY556A-TEMP VALVULA ESC.DIFERENCIA A5\n//inhibido[65] = msg.payload[];   // TY557A-TEMP GAS ESCAPE DESVIACION A5\n//inhibido[66] = msg.payload[];   // TY566A-TEMP VALVULA ESC.DIFERENCIA A5\n//inhibido[67] = msg.payload[];   // TY567A-TEMP GAS ESCAPE DESVIACION A5\ninhibido[68] = msg.payload[678];   // REDUCCION CARGA GASES ESCAPE \n\n// CIGÜEÑAL \ninhibido[70] = msg.payload[656];  // REDUCCION DE CARGA OIL MIST DETECTOR \ninhibido[71] = msg.payload[657];  // FALLA OIL MIST DETECTOR\ninhibido[73] = msg.payload[663];  // ALTA TEMP MB0-110°\ninhibido[74] = msg.payload[664];  // ALTA TEMP MB1-110°\ninhibido[75] = msg.payload[665];  // ALTA TEMP MB2-110°\ninhibido[76] = msg.payload[666];  // ALTA TEMP MB3-110°\ninhibido[77] = msg.payload[667];  // ALTA TEMP MB4-110°\ninhibido[78] = msg.payload[668];  // ALTA TEMP MB5-110°\ninhibido[79] = msg.payload[669];  // ALTA TEMP MB6-110°\ninhibido[80] = msg.payload[670];  // ALTA TEMP MB7-110°\ninhibido[161] = msg.payload[658]; //AUTOPARADA ALTA CONCENTRACION GASES EN CARTER\n\n// CILINDROS \ninhibido[93] = msg.payload[649];   // REDUCCION POR CILINDRO\n\n// BLOQUEO PARADA \ninhibido[94] = msg.payload[676];   // AUTOPARADA AGUA HT\ninhibido[95] = msg.payload[680];   // AUTOPARADA SOBREVELOSIDAD \ninhibido[96] = msg.payload[681];   // AUTOPARADA BAJA PRESION ACEITE\ninhibido[97] = msg.payload[682];  // AUTOPARADA OIL MIST DETECTOR\n\n// MISCELÁNEOS \ninhibido[98] = msg.payload[37];   // FALLA ALIMENTACION TABLERO ALARMAS - SGM TITAN\ninhibido[99] = msg.payload[40];   // FALLA BOMBA AGUA MAR 2\ninhibido[100] = msg.payload[47];   // ALTO NIVEL SEPTICO\ninhibido[101] = msg.payload[49];   // ALARMA COMUN MOTOR AUX 3\ninhibido[102] = msg.payload[66];  // BAJA PRESION AIRE IP CONVERTER\ninhibido[103] = msg.payload[70];  // ALARMA COMUN MOTOR AUX 2\ninhibido[104] = msg.payload[76];   // FALLA PODER TARJETA PROTEX1000\n//inhibido[105] = msg.payload[];   // FALLA CRITICA TARJETA PROTEX1000\ninhibido[106] = msg.payload[38];   // FALLA CONTROL RSW TEKNOTHERM\ninhibido[107] = msg.payload[82];  // BAJO NIVEL COMB GENERADOR PROA\ninhibido[108] = msg.payload[86];  // FALLA PRECALENTADOR AGUA MPPAL\ninhibido[109] = msg.payload[101];  // FALLA BOMBA AGUA MAR 1\ninhibido[110] = msg.payload[113];  // FALLA UN1 PROPULSION RR\ninhibido[111] = msg.payload[114];  // FALLA UN1 PROPULSION RR BACKUP\ninhibido[112] = msg.payload[660];  // SS_174 FALLA PICKUP\ninhibido[113] = msg.payload[683];   // FALLA COMUNICACION PARALLEL LINIK\ninhibido[114] = msg.payload[43];   // FALLA CONTROL RSW AQUATHERM\n\n// CAJA Y THRUSTER \ninhibido[115] = msg.payload[39];   // BAJO NIVEL TK GRAVED THRUSTER PROA\ninhibido[116] = msg.payload[44];   // BAJA PRESION LO RODAMIENTO\ninhibido[117] = msg.payload[57];  // BAJA PRES LO EMBR CAJA RED\ninhibido[118] = msg.payload[58];  // FILTRO LO CAJA TAPADO\ninhibido[119] = msg.payload[59];  // BAJO NIVEL ACEITE CAJA RED\ninhibido[120] = msg.payload[61];  // BAJO NIVEL TK GRAVED THRUSTER POPA\ninhibido[121] = msg.payload[69];  // BAJA PRESION ACEITE PPAL CAJA RED\n//inhibido[122] = msg.payload[];   // FILTRO TAPADO THRUSTER PROA\n//inhibido[123] = msg.payload[];   // FILTRO TAPADO THRUSTER POPA\ninhibido[124] = msg.payload[103];  // BAJA PRESION SERVO THRUSTER PROA\ninhibido[125] = msg.payload[83];  // BAJA PRESION SERVO THRUSTER POPA\ninhibido[126] = msg.payload[105];  // UN1FALLA THRUSTER POPA\ninhibido[127] = msg.payload[63];  // UN1 FALLA THRUSTER POPA BACKUP\n//inhibido[128] = msg.payload[];  // UN1 FALLA THRUSTER PROA\ninhibido[129] = msg.payload[65];  // UN1 FALLA THRUSTER PROA  BACKUP\n\n// SENTINAS\ninhibido[130] = msg.payload[38];   // ALTO NIVEL SENTINA SALA BOMBAS\ninhibido[131] = msg.payload[42];   // ALTO NIVEL SALA THRUSTER PROA\ninhibido[132] = msg.payload[43];   // ALTO NIVEL SENTINA SALA MAQUINA\ninhibido[133] = msg.payload[45];   // ALTO NIVEL SENTINA SALA TIMON\ninhibido[134] = msg.payload[46];   // ALTO NIVEL SENTINA SALA RSW\ninhibido[135] = msg.payload[78];   // ALTO NIVEL SENTINA SALA SONAR\ninhibido[136] = msg.payload[115];  // ALTO NIVEL SENTINA SALA DESCARGA\n\n// ESTANQUES\ninhibido[137] = msg.payload[48];   // BAJO NIVEL TK ACEITE HIDR PROA\ninhibido[138] = msg.payload[50];   // ALTO NIVEL TK DRENAJE FO\ninhibido[139] = msg.payload[60];  // ALTO NIVEL TK ACEITE SUCIO \n//inhibido[140] = msg.payload[];   // BAJO NIVEL TK ACEITE HIDR POPA \ninhibido[141] = msg.payload[81];  // BAJO NIVEL TK DIARIO COMBUSTIBLE \ninhibido[142] = msg.payload[85];  // BAJO NIVEL TK DIARIO PETROLEO \ninhibido[143] = msg.payload[87];  // BAJO NIVEL TK EXP MOTOR PPAL\n\n// LISTO PARA PARTIR \n//inhibido[144] = msg.payload[];   // PRESION ACEITE LUB MOTOR PRINCIPAL\n//inhibido[145] = msg.payload[];   // VIRADOR DEL EJE\n//inhibido[146] = msg.payload[];   // PALANCA POSICION \n//inhibido[147] = msg.payload[];   // MOTOR DETENIDO \n//inhibido[148] = msg.payload[];   // PRESION ACEITE LUB CAJA REDUCTORA\n\n\n\n//****** variables globales *******\n// estado de alarmas\nglobal.set(\"global_actualizarBotones\", \"noActualizar\")\nlet listado = global.get(\"numAlarmasPLC39\");\nfor (let i of listado){\n    if (global.get(\"numAlarmasPLC39\").includes(i)){\n        if(alarma[i] != global.get(\"alarma_estadoAnterior\" + i) ||  reconocida[i] != global.get(\"reconocida_estadoAnterior\" + i)){\n            if(i == 136)\n                msg.payload = {\"estado: \": alarma[i], \"reconocida: \": reconocida[i]};\n            if (reconocida[i] && alarma[i]) {                         \n                global.set(\"global_alarma\" + i, \"activa_reconocida\");\n            } else if (!reconocida[i] && alarma[i]) {               \n                global.set(\"global_alarma\" + i, \"activa_noReconocida\");\n            }else {\n                global.set(\"global_alarma\" + i, \"inactiva_reconocida\");                 \n            }\n            global.set(\"global_actualizarBotones\", \"actualizar\");\n        }\n    }\n}\n\n// Estado de inhibición\nglobal.set(\"global_actualizarInhibidos\", \"noActualizar\")\nfor (let i of listado) {\n    if (global.get(\"numAlarmasPLC39\").includes(i)) {\n        if(inhibido[i] != global.get(\"inhibido_estadoAnterior\" + i)){\n            if(inhibido[i])\n                global.set(\"alarmaInhibida\" + i, \"inhibida\");\n            else\n                global.set(\"alarmaInhibida\" + i, \"noInhibida\");\n            global.set(\"global_actualizarInhibidos\", \"actualizar\")\n        }\n    }\n}\n\n//Se actualiza variables del estado anterior\nfor (let i of listado) {\n    if (global.get(\"numAlarmasPLC39\").includes(i)) {\n        global.set(\"alarma_estadoAnterior\" + i, alarma[i]);\n        global.set(\"reconocida_estadoAnterior\" + i, reconocida[i]);\n        global.set(\"inhibido_estadoAnterior\" + i, inhibido[i]); \n        }\n}\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 450,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "c7ae47c685bf80d6",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "05399c94ea6fbd07",
        "name": "Direcciones",
        "func": "global.set(\"numAlarmasPLC39\", [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 15, 19, 20, 21, 22, 23, 24, \n    32, 33, 34, 35, 36, 68, 70, 71, 73, 74, 75, 76, 77, 78, 79, 80, 93, 94, 95, 96, 97, 98, 99, 100,\n    101, 102, 103, 104, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119,\n    120, 121, 124, 125, 126, 127, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 141, 142, 143, 161]);\n\nglobal.set(\"numAlarmasPLC40\", [13, 16, 17, 18, 25, 26, 27, 28, 29, 30, 31, 37, 38, 39, 40, 41, 42, 43, \n    44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 69, 72, 149, 150, 151, 152, 153, 154, 155, \n    156, 157, 158, 159, 160, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92]);\n\n\nglobal.set(\"numAlarmasPLC_general\", [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 15, 19, 20, 21, 22, 23, 24, \n    32, 33, 34, 35, 36, 68, 70, 71, 73, 74, 75, 76, 77, 78, 79, 80, 93, 94, 95, 96, 97, 98, 99, 100,\n    101, 102, 103, 104, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119,\n    120, 121, 124, 125, 126, 127, 129, 130, 131, 132, 133, 134, 135, 136, 137, 138, 139, 141, 142, 143, 161, 13, 16, 17, 18, 25, 26, 27, 28, 29, 30, 31, 37, 38, 39, 40, 41, 42, 43, \n    44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 69, 72, 149, 150, 151, 152, 153, 154, 155, \n    156, 157, 158, 159, 160, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92]);\n\n\n//*** Direcciones de los componentes de los grupos, también da el orden en que se despliegan ***\n// COMBUSTIBLE / LUBRICACIÓN\nglobal.set(\"numAlarmas_grupo1\", [1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15, 16, 17, 18, 19, 20]);\n\n// AGUA ENFRIAMIENTO\nglobal.set(\"numAlarmas_grupo2\", [21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36]);\n\n// AIRE DE CARGA \nglobal.set(\"numAlarmas_grupo3\", [37, 38, 39, 40, 41]);\n\n// GASES DE ESCAPE \nglobal.set(\"numAlarmas_grupo4\", [42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, \n    149, 150, 151, 152, 153, 154, 155, 156, 157, 158, 159, 160, 68, 69]);\n\n// CIGÜEÑAL\nglobal.set(\"numAlarmas_grupo5\", [70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 161]);\n\n// CILINDROS\nglobal.set(\"numAlarmas_grupo6\", [81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93]);\n\n// BLOQUEO PARADA \nglobal.set(\"numAlarmas_grupo7\", [94, 95, 96, 97]);\n\n// MISCELÁNEOS \nglobal.set(\"numAlarmas_grupo8\", [98, 99, 100, 101, 102, 103, 104, 106, 107, 108, 109, 110, 111, 112, 113, 114]);\n\n// CAJA Y THRUSTER\nglobal.set(\"numAlarmas_grupo9\", [115, 116, 117, 118, 119, 120, 121, 124, 125, 126, 127, 129]);\n\n// SENTINAS\nglobal.set(\"numAlarmas_grupo10\", [130, 131, 132, 133, 134, 135, 136]);\n\n// ESTANQUES\nglobal.set(\"numAlarmas_grupo11\", [137, 138, 139, 141, 142, 143]);\n\n\n\n\n// LISTO PARA PARTIR \n\n\nlet dirInicioModbusCoil = 0;\n\n//**************************************************************\n//declaración de direcciones de PLC de reconocimiento de alarmas\n// COMBUSTIBLE / LUBRICACIÓN\nglobal.set(\"dirReconocerAlarma1\", 154 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY FO\nglobal.set(\"dirReconocerAlarma2\", 155 + dirInicioModbusCoil);  // FALLA BOMBA ALIMENTACION FO 1\nglobal.set(\"dirReconocerAlarma3\", 157 + dirInicioModbusCoil);  // FALLA BOMBA ALIMENTACION FO 2\n//global.set(\"dirReconocerAlarma4\", dirInicioModbusCoil);  // FALLA BOMBA PRELUB\nglobal.set(\"dirReconocerAlarma5\", 159 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY LO\nglobal.set(\"dirReconocerAlarma6\", 165 + dirInicioModbusCoil);  // FALLA BOMBA STBY CAJA RED\nglobal.set(\"dirReconocerAlarma7\", 175 + dirInicioModbusCoil);  // ALARMA COMUN PURIF. ACEITE \nglobal.set(\"dirReconocerAlarma8\", 176 + dirInicioModbusCoil);  // ALARMA COMUN PURIF. PETROLEO \nglobal.set(\"dirReconocerAlarma9\", 191 + dirInicioModbusCoil);  // BOMBA PRELUB. TRIPEADA \nglobal.set(\"dirReconocerAlarma10\", 209 + dirInicioModbusCoil);  // FILTRO FINO FO TAPADO \nglobal.set(\"dirReconocerAlarma11\", 236 + dirInicioModbusCoil);  // LS103-FUGA COMBUSTIBLE ,TUBO INYECCION \nglobal.set(\"dirReconocerAlarma12\", 237 + dirInicioModbusCoil);  // LS108A-FUGA COMBUSTIBLE COMB SUCIO LADO VOLANTE \nglobal.set(\"dirReconocerAlarma13\", 132 + dirInicioModbusCoil);   // PT101-PRESION DE COMBUSTIBLE ENTRADA MOTOR \n//global.set(\"dirReconocerAlarma14\", + dirInicioModbusCoil);   // PRELUB RUNNIG MOTOR AUTO\nglobal.set(\"dirReconocerAlarma15\", 194 + dirInicioModbusCoil);  // LS204-NIVEL ACEITE LUBRICANTE \nglobal.set(\"dirReconocerAlarma16\", 134 + dirInicioModbusCoil);   // PT201-PRESION  ACEITE LUB ENTRADA MOTOR \nglobal.set(\"dirReconocerAlarma17\", 135 + dirInicioModbusCoil);   // TE201-TEMP ACEITE LUB ENTRADA MOTOR \nglobal.set(\"dirReconocerAlarma18\", 136 + dirInicioModbusCoil);   // PT241-PRESION ACEITE LUB ENTRADA FILTRO \nglobal.set(\"dirReconocerAlarma19\", 192 + dirInicioModbusCoil);  // BBA PRELUB STBY CORRIENDO \nglobal.set(\"dirReconocerAlarma20\", 193 + dirInicioModbusCoil);  // FALLA BBA PRELUB STBY\n\n// AGUA ENFRIAMIENTO\nglobal.set(\"dirReconocerAlarma21\", 212 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY LT\nglobal.set(\"dirReconocerAlarma22\", 213 + dirInicioModbusCoil);  // FALLA BOMBA STBY LT\nglobal.set(\"dirReconocerAlarma23\", 214 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY HT\nglobal.set(\"dirReconocerAlarma24\", 215 + dirInicioModbusCoil);  // FALLA BOMBA STBY HT\nglobal.set(\"dirReconocerAlarma25\", 146 + dirInicioModbusCoil);   // PT401-PRESION DE AGUA HT ENTRADA MOTOR \nglobal.set(\"dirReconocerAlarma26\", 147 + dirInicioModbusCoil);   // PT471-PRESION DE AGUA DE LT ENTRADA MOTOR \nglobal.set(\"dirReconocerAlarma27\", 148 + dirInicioModbusCoil);   // TE401-BAJA TEMP AGUA HT ENTRADA MOTOR \nglobal.set(\"dirReconocerAlarma28\", 149 + dirInicioModbusCoil);   // TE402 -TEMP AGUA HT SALIDA MOTOR \nglobal.set(\"dirReconocerAlarma29\", 151 + dirInicioModbusCoil);   // TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\nglobal.set(\"dirReconocerAlarma30\", 152 + dirInicioModbusCoil);   // TE472-TEMP AGUA LT SALIDA REFRIGERADOR AIRE CARGA\nglobal.set(\"dirReconocerAlarma31\", 153 + dirInicioModbusCoil);   // TE482-TEMP AGUA LT SALIDA REFRIGERADOR ACEITE\nglobal.set(\"dirReconocerAlarma32\", 257 + dirInicioModbusCoil);  // HT WATER STBY RUNNIG AUTO\nglobal.set(\"dirReconocerAlarma33\", 258 + dirInicioModbusCoil);   // LT WATER STBY RUNNIG AUTO\nglobal.set(\"dirReconocerAlarma34\", 259 + dirInicioModbusCoil);   // LUB OIL STBY RUNNIG AUTO \nglobal.set(\"dirReconocerAlarma35\", 260 + dirInicioModbusCoil);   // FUEL OIL STBY RUNNIG AUTO \nglobal.set(\"dirReconocerAlarma36\", 263 + dirInicioModbusCoil);   // REDUCCION CARGA AGUA HT\n\n// AIRE DE CARGA \nglobal.set(\"dirReconocerAlarma37\", 161 + dirInicioModbusCoil);   // PT301-PRESION AIRE ARRANQUE\nglobal.set(\"dirReconocerAlarma38\", 162 + dirInicioModbusCoil);   // PT311-PRESION AIRE CONTROL\nglobal.set(\"dirReconocerAlarma39\", 163 + dirInicioModbusCoil);   // PT622-PRESION AIRE DE CARGA \nglobal.set(\"dirReconocerAlarma40\", 164 + dirInicioModbusCoil);   // PDT623--DIFERENCIA PRESION SOBRECARGA AIRE\nglobal.set(\"dirReconocerAlarma41\", 165 + dirInicioModbusCoil);   // TE622-TEMP AIRE CARGA CAC SALIDA\n\n// GASES DE ESCAPE \nglobal.set(\"dirReconocerAlarma42\", 123 + dirInicioModbusCoil);   // TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\nglobal.set(\"dirReconocerAlarma43\", 125 + dirInicioModbusCoil);   // TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\nglobal.set(\"dirReconocerAlarma44\", 59 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A1 C-500°\nglobal.set(\"dirReconocerAlarma45\", 60 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A1 D-500°\nglobal.set(\"dirReconocerAlarma46\", 61 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A2 C-500°\nglobal.set(\"dirReconocerAlarma47\", 62 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A2 D-500°\nglobal.set(\"dirReconocerAlarma48\", 63 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A3 C-500°\nglobal.set(\"dirReconocerAlarma49\", 64 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A3 D-500°\nglobal.set(\"dirReconocerAlarma50\", 65 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A4 C-500°\nglobal.set(\"dirReconocerAlarma51\", 66 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A4 D-500°\nglobal.set(\"dirReconocerAlarma52\", 67 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A5 C-500°\nglobal.set(\"dirReconocerAlarma53\", 68 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A5 D-500°\nglobal.set(\"dirReconocerAlarma54\", 69 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A6 C-500°\nglobal.set(\"dirReconocerAlarma55\", 70 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A6 D-500°\n\nglobal.set(\"dirReconocerAlarma149\", 96 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"dirReconocerAlarma150\", 97 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"dirReconocerAlarma151\", 98 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"dirReconocerAlarma152\", 99 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"dirReconocerAlarma153\", 100 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"dirReconocerAlarma154\", 101 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"dirReconocerAlarma155\", 102 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"dirReconocerAlarma156\", 103 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"dirReconocerAlarma157\", 104 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"dirReconocerAlarma158\", 105 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"dirReconocerAlarma159\", 106 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"dirReconocerAlarma160\", 107 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A6 D\n\n\n//global.set(\"dirReconocerAlarma56\", dirInicioModbusCoil);   // TY516A-TEMP VALVULA ESC.DIFERENCIA A1\n//global.set(\"dirReconocerAlarma57\", dirInicioModbusCoil);   // TY517A-TEMP GAS ESCAPE DESVIACION A1\n//global.set(\"dirReconocerAlarma58\", dirInicioModbusCoil);   // TY526A-TEMP VALVULA ESC.DIFERENCIA A2\n//global.set(\"dirReconocerAlarma59\", dirInicioModbusCoil);   // TY527A-TEMP GAS ESCAPE  DESVIACION A2\n//global.set(\"dirReconocerAlarma60\", dirInicioModbusCoil);   // TY536A-TEMP VALVULA ESC.DIFERENCIA A3\n//global.set(\"dirReconocerAlarma61\", dirInicioModbusCoil);   // TY537A-TEMP GAS ESCAPE DESVIACION A3\n//global.set(\"dirReconocerAlarma62\", dirInicioModbusCoil);   // TY546A-TEMP VALVULA ESC.DIFERENCIA A4\n//global.set(\"dirReconocerAlarma63\", dirInicioModbusCoil);   // TY547A-TEMP GAS ESCAPE DESVIACION A4\n//global.set(\"dirReconocerAlarma64\", dirInicioModbusCoil);   // TY556A-TEMP VALVULA ESC.DIFERENCIA A5\n//global.set(\"dirReconocerAlarma65\", dirInicioModbusCoil);   // TY557A-TEMP GAS ESCAPE DESVIACION A5\n//global.set(\"dirReconocerAlarma66\", dirInicioModbusCoil);   // TY566A-TEMP VALVULA ESC.DIFERENCIA A5\n//global.set(\"dirReconocerAlarma67\", dirInicioModbusCoil);   // TY567A-TEMP GAS ESCAPE DESVIACION A5\nglobal.set(\"dirReconocerAlarma68\", 264 + dirInicioModbusCoil);   // REDUCCION CARGA GASES ESCAPE \nglobal.set(\"dirReconocerAlarma69\", 403 + dirInicioModbusCoil);   // REDUCCION DE CARGA DESVIACION GASES ESCAPE\n\n// CIGÜEÑAL \nglobal.set(\"dirReconocerAlarma70\", 242 + dirInicioModbusCoil);  // REDUCCION DE CARGA OIL MIST DETECTOR \nglobal.set(\"dirReconocerAlarma71\", 243 + dirInicioModbusCoil);  // FALLA OIL MIST DETECTOR\nglobal.set(\"dirReconocerAlarma72\", 168 + dirInicioModbusCoil);   // PT701-PRESION CRANIKCASE\nglobal.set(\"dirReconocerAlarma73\", 249 + dirInicioModbusCoil);  // ALTA TEMP MB0-110°\nglobal.set(\"dirReconocerAlarma74\", 250 + dirInicioModbusCoil);  // ALTA TEMP MB1-110°\nglobal.set(\"dirReconocerAlarma75\", 251 + dirInicioModbusCoil);  // ALTA TEMP MB2-110°\nglobal.set(\"dirReconocerAlarma76\", 252 + dirInicioModbusCoil);  // ALTA TEMP MB3-110°\nglobal.set(\"dirReconocerAlarma77\", 253 + dirInicioModbusCoil);  // ALTA TEMP MB4-110°\nglobal.set(\"dirReconocerAlarma78\", 254 + dirInicioModbusCoil);  // ALTA TEMP MB5-110°\nglobal.set(\"dirReconocerAlarma79\", 255 + dirInicioModbusCoil);  // ALTA TEMP MB6-110°\nglobal.set(\"dirReconocerAlarma80\", 256 + dirInicioModbusCoil);  // ALTA TEMP MB7-110°\nglobal.set(\"dirReconocerAlarma161\", 244 + dirInicioModbusCoil); //AUTOPARADA ALTA CONCENTRACION GASES EN CARTER\n\n// CILINDROS \nglobal.set(\"dirReconocerAlarma81\", 185 + dirInicioModbusCoil);   // TE711A-TEMP CILINDRO A1 1-160°\nglobal.set(\"dirReconocerAlarma82\", 186 + dirInicioModbusCoil);   // TE712A-TEMP CILINDRO A1 2-160°\nglobal.set(\"dirReconocerAlarma83\", 187 + dirInicioModbusCoil);   // TE721A-TEMP CILINDRO A2 1-160°\nglobal.set(\"dirReconocerAlarma84\", 188 + dirInicioModbusCoil);   // TE722A-TEMP CILINDRO A2 2-160°\nglobal.set(\"dirReconocerAlarma85\", 189 + dirInicioModbusCoil);   // TE731A-TEMP CILINDRO A3 1-160°\nglobal.set(\"dirReconocerAlarma86\", 190 + dirInicioModbusCoil);   // TE732A-TEMP CILINDRO A3 2-160°\nglobal.set(\"dirReconocerAlarma87\", 191 + dirInicioModbusCoil);   // TE741A-TEMP CILINDRO A4 1-160°\nglobal.set(\"dirReconocerAlarma88\", 193 + dirInicioModbusCoil);   // TE742A-TEMP CILINDRO A4 2-160°\nglobal.set(\"dirReconocerAlarma89\", 192 + dirInicioModbusCoil);   // TE751A-TEMP CILINDRO A5 1-160°\nglobal.set(\"dirReconocerAlarma90\", 194 + dirInicioModbusCoil);   // TE752A-TEMP CILINDRO A5 2-160°\nglobal.set(\"dirReconocerAlarma91\", 195 + dirInicioModbusCoil);   // TE761A-TEMP CILINDRO A6 1-160°\nglobal.set(\"dirReconocerAlarma92\", 196 + dirInicioModbusCoil);   // TE762A-TEMP CILINDRO A6 2-160°\nglobal.set(\"dirReconocerAlarma93\", 272 + dirInicioModbusCoil);   // REDUCCION POR CILINDRO\n\n// BLOQUEO PARADA \nglobal.set(\"dirReconocerAlarma94\", 262 + dirInicioModbusCoil);   // AUTOPARADA AGUA HT\nglobal.set(\"dirReconocerAlarma95\", 266 + dirInicioModbusCoil);   // AUTOPARADA SOBREVELOSIDAD \nglobal.set(\"dirReconocerAlarma96\", 267 + dirInicioModbusCoil);   // AUTOPARADA BAJA PRESION ACEITE\nglobal.set(\"dirReconocerAlarma97\", 268 + dirInicioModbusCoil);  // AUTOPARADA OIL MIST DETECTOR\n\n// MISCELÁNEOS \nglobal.set(\"dirReconocerAlarma98\", 140 + dirInicioModbusCoil);   // FALLA ALIMENTACION TABLERO ALARMAS - SGM TITAN\nglobal.set(\"dirReconocerAlarma99\", 143 + dirInicioModbusCoil);   // FALLA BOMBA AGUA MAR 2\nglobal.set(\"dirReconocerAlarma100\", 150 + dirInicioModbusCoil);   // ALTO NIVEL SEPTICO\nglobal.set(\"dirReconocerAlarma101\", 152 + dirInicioModbusCoil);   // ALARMA COMUN MOTOR AUX 3\nglobal.set(\"dirReconocerAlarma102\", 169 + dirInicioModbusCoil);  // BAJA PRESION AIRE IP CONVERTER\nglobal.set(\"dirReconocerAlarma103\", 173 + dirInicioModbusCoil);  // ALARMA COMUN MOTOR AUX 2\nglobal.set(\"dirReconocerAlarma104\", 179 + dirInicioModbusCoil);   // FALLA PODER TARJETA PROTEX1000\n//global.set(\"dirReconocerAlarma105\", dirInicioModbusCoil);   // FALLA CRITICA TARJETA PROTEX1000\nglobal.set(\"dirReconocerAlarma106\", 141 + dirInicioModbusCoil);   // FALLA CONTROL RSW TEKNOTHERM\nglobal.set(\"dirReconocerAlarma107\", 185 + dirInicioModbusCoil);  // BAJO NIVEL COMB GENERADOR PROA\nglobal.set(\"dirReconocerAlarma108\", 189 + dirInicioModbusCoil);  // FALLA PRECALENTADOR AGUA MPPAL\nglobal.set(\"dirReconocerAlarma109\", 204 + dirInicioModbusCoil);  // FALLA BOMBA AGUA MAR 1\nglobal.set(\"dirReconocerAlarma110\", 216 + dirInicioModbusCoil);  // FALLA UN1 PROPULSION RR\nglobal.set(\"dirReconocerAlarma111\", 217 + dirInicioModbusCoil);  // FALLA UN1 PROPULSION RR BACKUP\nglobal.set(\"dirReconocerAlarma112\", 246 + dirInicioModbusCoil);  // SS_174 FALLA PICKUP\nglobal.set(\"dirReconocerAlarma113\", 269 + dirInicioModbusCoil);   // FALLA COMUNICACION PARALLEL LINIK\nglobal.set(\"dirReconocerAlarma114\", 146 + dirInicioModbusCoil);   // FALLA CONTROL RSW AQUATHERM\n\n// CAJA Y THRUSTER \nglobal.set(\"dirReconocerAlarma115\", 142 + dirInicioModbusCoil);   // BAJO NIVEL TK GRAVED THRUSTER PROA\nglobal.set(\"dirReconocerAlarma116\", 147 + dirInicioModbusCoil);   // BAJA PRESION LO RODAMIENTO\nglobal.set(\"dirReconocerAlarma117\", 160 + dirInicioModbusCoil);  // BAJA PRES LO EMBR CAJA RED\nglobal.set(\"dirReconocerAlarma118\", 161 + dirInicioModbusCoil);  // FILTRO LO CAJA TAPADO\nglobal.set(\"dirReconocerAlarma119\", 162 + dirInicioModbusCoil);  // BAJO NIVEL ACEITE CAJA RED\nglobal.set(\"dirReconocerAlarma120\", 164 + dirInicioModbusCoil);  // BAJO NIVEL TK GRAVED THRUSTER POPA\nglobal.set(\"dirReconocerAlarma121\", 172 + dirInicioModbusCoil);  // BAJA PRESION ACEITE PPAL CAJA RED\n//global.set(\"dirReconocerAlarma122\", dirInicioModbusCoil);   // FILTRO TAPADO THRUSTER PROA\n//global.set(\"dirReconocerAlarma123\", dirInicioModbusCoil);   // FILTRO TAPADO THRUSTER POPA\nglobal.set(\"dirReconocerAlarma124\", 206 + dirInicioModbusCoil);  // BAJA PRESION SERVO THRUSTER PROA\nglobal.set(\"dirReconocerAlarma125\", 186 + dirInicioModbusCoil);  // BAJA PRESION SERVO THRUSTER POPA\nglobal.set(\"dirReconocerAlarma126\", 208 + dirInicioModbusCoil);  // UN1FALLA THRUSTER POPA\nglobal.set(\"dirReconocerAlarma127\", 166 + dirInicioModbusCoil);  // UN1 FALLA THRUSTER POPA BACKUP\n//global.set(\"dirReconocerAlarma128\", dirInicioModbusCoil);  // UN1FALLA THRUSTER PROA\nglobal.set(\"dirReconocerAlarma129\", 168 + dirInicioModbusCoil);  // UN1FALLA THRUSTER PROA  BACKUP\n\n// SENTINAS\nglobal.set(\"dirReconocerAlarma130\", 141 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA BOMBAS\nglobal.set(\"dirReconocerAlarma131\", 145 + dirInicioModbusCoil);   // ALTO NIVEL SALA THRUSTER PROA\nglobal.set(\"dirReconocerAlarma132\", 146 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA MAQUINA\nglobal.set(\"dirReconocerAlarma133\", 148 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA TIMON\nglobal.set(\"dirReconocerAlarma134\", 149 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA RSW\nglobal.set(\"dirReconocerAlarma135\", 181 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA SONAR\nglobal.set(\"dirReconocerAlarma136\", 218 + dirInicioModbusCoil);  // ALTO NIVEL SENTINA SALA DESCARGA\n\n// ESTANQUES\nglobal.set(\"dirReconocerAlarma137\", 151 + dirInicioModbusCoil);   // BAJO NIVEL TK ACEITE HIDR PROA\nglobal.set(\"dirReconocerAlarma138\", 153 + dirInicioModbusCoil);   // ALTO NIVEL TK DRENAJE FO\nglobal.set(\"dirReconocerAlarma139\", 163 + dirInicioModbusCoil);  // ALTO NIVEL TK ACEITE SUCIO \n//global.set(\"dirReconocerAlarma140\", dirInicioModbusCoil);   // BAJO NIVEL TK ACEITE HIDR POPA \nglobal.set(\"dirReconocerAlarma141\", 184 + dirInicioModbusCoil);  // BAJO NIVEL TK DIARIO COMBUSTIBLE \nglobal.set(\"dirReconocerAlarma142\", 188 + dirInicioModbusCoil);  // BAJO NIVEL TK DIARIO PETROLEO \nglobal.set(\"dirReconocerAlarma143\", 190 + dirInicioModbusCoil);  // BAJO NIVEL TK EXP MOTOR PPAL\n\n// LISTO PARA PARTIR \n//global.set(\"dirReconocerAlarma144\", dirInicioModbusCoil);   // PRESION ACEITE LUB MOTOR PRINCIPAL\n//global.set(\"dirReconocerAlarma145\", dirInicioModbusCoil);   // VIRADOR DEL EJE\n//global.set(\"dirReconocerAlarma146\", dirInicioModbusCoil);   // PALANCA POSICION \n//global.set(\"dirReconocerAlarma147\", dirInicioModbusCoil);   // MOTOR DETENIDO \n//global.set(\"dirReconocerAlarma148\", dirInicioModbusCoil);   // PRESION ACEITE LUB CAJA REDUCTORA\n//**************************************************************\n\n\n//**************************************************************\n//Direcciones de inhibir\n// COMBUSTIBLE / LUBRICACIÓN\nglobal.set(\"dirInhibidoAlarma1\", 51 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY FO\nglobal.set(\"dirInhibidoAlarma2\", 52 + dirInicioModbusCoil);  // FALLA BOMBA ALIMENTACION FO 1\nglobal.set(\"dirInhibidoAlarma3\", 54 + dirInicioModbusCoil);  // FALLA BOMBA ALIMENTACION FO 2\n//global.set(\"dirInhibidoAlarma4\", + dirInicioModbusCoil);  // FALLA BOMBA PRELUB\nglobal.set(\"dirInhibidoAlarma5\", 56 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY LO\nglobal.set(\"dirInhibidoAlarma6\", 62 + dirInicioModbusCoil);  // FALLA BOMBA STBY CAJA RED\nglobal.set(\"dirInhibidoAlarma7\", 72 + dirInicioModbusCoil);  // ALARMA COMUN PURIF. ACEITE \nglobal.set(\"dirInhibidoAlarma8\", 73 + dirInicioModbusCoil);  // ALARMA COMUN PURIF. PETROLEO \nglobal.set(\"dirInhibidoAlarma9\", 88 + dirInicioModbusCoil);  // BOMBA PRELUB. TRIPEADA \nglobal.set(\"dirInhibidoAlarma10\", 106 + dirInicioModbusCoil);  // FILTRO FINO FO TAPADO \nglobal.set(\"dirInhibidoAlarma11\", 650 + dirInicioModbusCoil);  // LS103-FUGA COMBUSTIBLE ,TUBO INYECCION \nglobal.set(\"dirInhibidoAlarma12\", 651 + dirInicioModbusCoil);  // LS108A-FUGA COMBUSTIBLE COMB SUCIO LADO VOLANTE \nglobal.set(\"dirInhibidoAlarma13\", 126 + dirInicioModbusCoil);   // PT101-PRESION DE COMBUSTIBLE ENTRADA MOTOR \n//global.set(\"dirInhibidoAlarma14\", + dirInicioModbusCoil);   // PRELUB RUNNIG MOTOR AUTO\nglobal.set(\"dirInhibidoAlarma15\", 91 + dirInicioModbusCoil);  // LS204-NIVEL ACEITE LUBRICANTE \nglobal.set(\"dirInhibidoAlarma16\", 128 + dirInicioModbusCoil);   // PT201-PRESION  ACEITE LUB ENTRADA MOTOR \nglobal.set(\"dirInhibidoAlarma17\", 129 + dirInicioModbusCoil);   // TE201-TEMP ACEITE LUB ENTRADA MOTOR \nglobal.set(\"dirInhibidoAlarma18\", 130 + dirInicioModbusCoil);   // PT241-PRESION ACEITE LUB ENTRADA FILTRO \nglobal.set(\"dirInhibidoAlarma19\", 89 + dirInicioModbusCoil);  // BBA PRELUB STBY CORRIENDO \nglobal.set(\"dirInhibidoAlarma20\", 90 + dirInicioModbusCoil);  // FALLA BBA PRELUB STBY\n\n// AGUA ENFRIAMIENTO\nglobal.set(\"dirInhibidoAlarma21\", 109 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY LT\nglobal.set(\"dirInhibidoAlarma22\", 110 + dirInicioModbusCoil);  // FALLA BOMBA STBY LT\nglobal.set(\"dirInhibidoAlarma23\", 111 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY HT\nglobal.set(\"dirInhibidoAlarma24\", 112 + dirInicioModbusCoil);  // FALLA BOMBA STBY HT\nglobal.set(\"dirInhibidoAlarma25\", 138 + dirInicioModbusCoil);   // PT401-PRESION DE AGUA HT ENTRADA MOTOR \nglobal.set(\"dirInhibidoAlarma26\", 139 + dirInicioModbusCoil);   // PT471-PRESION DE AGUA DE LT ENTRADA MOTOR \nglobal.set(\"dirInhibidoAlarma27\", 140 + dirInicioModbusCoil);   // TE401-BAJA TEMP AGUA HT ENTRADA MOTOR \nglobal.set(\"dirInhibidoAlarma28\", 141 + dirInicioModbusCoil);   // TE402 -TEMP AGUA HT SALIDA MOTOR \nglobal.set(\"dirInhibidoAlarma29\", 143 + dirInicioModbusCoil);   // TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\nglobal.set(\"dirInhibidoAlarma30\", 144 + dirInicioModbusCoil);   // TE472-TEMP AGUA LT SALIDA REFRIGERADOR AIRE CARGA\nglobal.set(\"dirInhibidoAlarma31\", 145 + dirInicioModbusCoil);   // TE482-TEMP AGUA LT SALIDA REFRIGERADOR ACEITE\nglobal.set(\"dirInhibidoAlarma32\", 671 + dirInicioModbusCoil);  // HT WATER STBY RUNNIG AUTO\nglobal.set(\"dirInhibidoAlarma33\", 672 + dirInicioModbusCoil);   // LT WATER STBY RUNNIG AUTO\nglobal.set(\"dirInhibidoAlarma34\", 673 + dirInicioModbusCoil);   // LUB OIL STBY RUNNIG AUTO \nglobal.set(\"dirInhibidoAlarma35\", 674 + dirInicioModbusCoil);   // FUEL OIL STBY RUNNIG AUTO \nglobal.set(\"dirInhibidoAlarma36\", 677 + dirInicioModbusCoil);   // REDUCCION CARGA AGUA HT\n\n// AIRE DE CARGA \nglobal.set(\"dirInhibidoAlarma37\", 154 + dirInicioModbusCoil);   // PT301-PRESION AIRE ARRANQUE\nglobal.set(\"dirInhibidoAlarma38\", 155 + dirInicioModbusCoil);   // PT311-PRESION AIRE CONTROL\nglobal.set(\"dirInhibidoAlarma39\", 156 + dirInicioModbusCoil);   // PT622-PRESION AIRE DE CARGA \nglobal.set(\"dirInhibidoAlarma40\", 157 + dirInicioModbusCoil);   // PDT623--DIFERENCIA PRESION SOBRECARGA AIRE\nglobal.set(\"dirInhibidoAlarma41\", 158 + dirInicioModbusCoil);   // TE622-TEMP AIRE CARGA CAC SALIDA\n\n// GASES DE ESCAPE \nglobal.set(\"dirInhibidoAlarma42\", 120 + dirInicioModbusCoil);   // TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\nglobal.set(\"dirInhibidoAlarma43\", 122 + dirInicioModbusCoil);   // TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\nglobal.set(\"dirInhibidoAlarma44\", 47 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A1 C-500°\nglobal.set(\"dirInhibidoAlarma45\", 48 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A1 D-500°\nglobal.set(\"dirInhibidoAlarma46\", 49 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A2 C-500°\nglobal.set(\"dirInhibidoAlarma47\", 50 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A2 D-500°\nglobal.set(\"dirInhibidoAlarma48\", 51 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A3 C-500°\nglobal.set(\"dirInhibidoAlarma49\", 52 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A3 D-500°\nglobal.set(\"dirInhibidoAlarma50\", 53 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A4 C-500°\nglobal.set(\"dirInhibidoAlarma51\", 54 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A4 D-500°\nglobal.set(\"dirInhibidoAlarma52\", 55 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A5 C-500°\nglobal.set(\"dirInhibidoAlarma53\", 56 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A5 D-500°\nglobal.set(\"dirInhibidoAlarma54\", 57 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A6 C-500°\nglobal.set(\"dirInhibidoAlarma55\", 58 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A6 D-500°\n\nglobal.set(\"dirInhibidoAlarma149\", 84 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"dirInhibidoAlarma150\", 85 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"dirInhibidoAlarma151\", 86 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"dirInhibidoAlarma152\", 87 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"dirInhibidoAlarma153\", 88 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"dirInhibidoAlarma154\", 89 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"dirInhibidoAlarma155\", 90 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"dirInhibidoAlarma156\", 91 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"dirInhibidoAlarma157\", 92 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"dirInhibidoAlarma158\", 93 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"dirInhibidoAlarma159\", 94 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"dirInhibidoAlarma160\", 95 + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A6 D\n\n//global.set(\"dirInhibidoAlarma56\", + dirInicioModbusCoil);   // TY516A-TEMP VALVULA ESC.DIFERENCIA A1\n//global.set(\"dirInhibidoAlarma57\", + dirInicioModbusCoil);   // TY517A-TEMP GAS ESCAPE DESVIACION A1\n//global.set(\"dirInhibidoAlarma58\", + dirInicioModbusCoil);   // TY526A-TEMP VALVULA ESC.DIFERENCIA A2\n//global.set(\"dirInhibidoAlarma59\", + dirInicioModbusCoil);   // TY527A-TEMP GAS ESCAPE  DESVIACION A2\n//global.set(\"dirInhibidoAlarma60\", + dirInicioModbusCoil);   // TY536A-TEMP VALVULA ESC.DIFERENCIA A3\n//global.set(\"dirInhibidoAlarma61\", + dirInicioModbusCoil);   // TY537A-TEMP GAS ESCAPE DESVIACION A3\n//global.set(\"dirInhibidoAlarma62\", + dirInicioModbusCoil);   // TY546A-TEMP VALVULA ESC.DIFERENCIA A4\n//global.set(\"dirInhibidoAlarma63\", + dirInicioModbusCoil);   // TY547A-TEMP GAS ESCAPE DESVIACION A4\n//global.set(\"dirInhibidoAlarma64\", + dirInicioModbusCoil);   // TY556A-TEMP VALVULA ESC.DIFERENCIA A5\n//global.set(\"dirInhibidoAlarma65\", + dirInicioModbusCoil);   // TY557A-TEMP GAS ESCAPE DESVIACION A5\n//global.set(\"dirInhibidoAlarma66\", + dirInicioModbusCoil);   // TY566A-TEMP VALVULA ESC.DIFERENCIA A5\n//global.set(\"dirInhibidoAlarma67\", + dirInicioModbusCoil);   // TY567A-TEMP GAS ESCAPE DESVIACION A5\nglobal.set(\"dirInhibidoAlarma68\", 678 + dirInicioModbusCoil);   // REDUCCION CARGA GASES ESCAPE \nglobal.set(\"dirInhibidoAlarma69\", 402 + dirInicioModbusCoil); // REDUCCION DE CARGA DESVIACION GASES ESCAPE\n\n// CIGÜEÑAL \nglobal.set(\"dirInhibidoAlarma70\", 656 + dirInicioModbusCoil);  // REDUCCION DE CARGA OIL MIST DETECTOR \nglobal.set(\"dirInhibidoAlarma71\", 657 + dirInicioModbusCoil);  // FALLA OIL MIST DETECTOR\nglobal.set(\"dirInhibidoAlarma72\", 167 + dirInicioModbusCoil);   // PT701-PRESION CRANIKCASE\nglobal.set(\"dirInhibidoAlarma73\", 663 + dirInicioModbusCoil);  // ALTA TEMP MB0-110°\nglobal.set(\"dirInhibidoAlarma74\", 664 + dirInicioModbusCoil);  // ALTA TEMP MB1-110°\nglobal.set(\"dirInhibidoAlarma75\", 665 + dirInicioModbusCoil);  // ALTA TEMP MB2-110°\nglobal.set(\"dirInhibidoAlarma76\", 666 + dirInicioModbusCoil);  // ALTA TEMP MB3-110°\nglobal.set(\"dirInhibidoAlarma77\", 667 + dirInicioModbusCoil);  // ALTA TEMP MB4-110°\nglobal.set(\"dirInhibidoAlarma78\", 668 + dirInicioModbusCoil);  // ALTA TEMP MB5-110°\nglobal.set(\"dirInhibidoAlarma79\", 669 + dirInicioModbusCoil);  // ALTA TEMP MB6-110°\nglobal.set(\"dirInhibidoAlarma80\", 670+ dirInicioModbusCoil);  // ALTA TEMP MB7-110°\nglobal.set(\"dirInhibidoAlarma161\", 658 + dirInicioModbusCoil); //AUTOPARADA ALTA CONCENTRACION GASES EN CARTER\n\n// CILINDROS \nglobal.set(\"dirInhibidoAlarma81\", 300 + dirInicioModbusCoil);   // TE711A-TEMP CILINDRO A1 1-160°\nglobal.set(\"dirInhibidoAlarma82\", 301 + dirInicioModbusCoil);   // TE712A-TEMP CILINDRO A1 2-160°\nglobal.set(\"dirInhibidoAlarma83\", 302 + dirInicioModbusCoil);   // TE721A-TEMP CILINDRO A2 1-160°\nglobal.set(\"dirInhibidoAlarma84\", 303 + dirInicioModbusCoil);   // TE722A-TEMP CILINDRO A2 2-160°\nglobal.set(\"dirInhibidoAlarma85\", 304 + dirInicioModbusCoil);   // TE731A-TEMP CILINDRO A3 1-160°\nglobal.set(\"dirInhibidoAlarma86\", 305 + dirInicioModbusCoil);   // TE732A-TEMP CILINDRO A3 2-160°\nglobal.set(\"dirInhibidoAlarma87\", 306 + dirInicioModbusCoil);   // TE741A-TEMP CILINDRO A4 1-160°\nglobal.set(\"dirInhibidoAlarma88\", 308 + dirInicioModbusCoil);   // TE742A-TEMP CILINDRO A4 2-160°\nglobal.set(\"dirInhibidoAlarma89\", 307 + dirInicioModbusCoil);   // TE751A-TEMP CILINDRO A5 1-160°\nglobal.set(\"dirInhibidoAlarma90\", 309 + dirInicioModbusCoil);   // TE752A-TEMP CILINDRO A5 2-160°\nglobal.set(\"dirInhibidoAlarma91\", 310 + dirInicioModbusCoil);   // TE761A-TEMP CILINDRO A6 1-160°\nglobal.set(\"dirInhibidoAlarma92\", 311 + dirInicioModbusCoil);   // TE762A-TEMP CILINDRO A6 2-160°\nglobal.set(\"dirInhibidoAlarma93\", 649 + dirInicioModbusCoil);   // REDUCCION POR CILINDRO\n\n// BLOQUEO PARADA \nglobal.set(\"dirInhibidoAlarma94\", 676 + dirInicioModbusCoil);   // AUTOPARADA AGUA HT\nglobal.set(\"dirInhibidoAlarma95\", 680 + dirInicioModbusCoil);   // AUTOPARADA SOBREVELOSIDAD \nglobal.set(\"dirInhibidoAlarma96\", 681 + dirInicioModbusCoil);   // AUTOPARADA BAJA PRESION ACEITE\nglobal.set(\"dirInhibidoAlarma97\", 682 + dirInicioModbusCoil);  // AUTOPARADA OIL MIST DETECTOR\n\n// MISCELÁNEOS \nglobal.set(\"dirInhibidoAlarma98\", 37 + dirInicioModbusCoil);   // FALLA ALIMENTACION TABLERO ALARMAS - SGM TITAN\nglobal.set(\"dirInhibidoAlarma99\", 40 + dirInicioModbusCoil);   // FALLA BOMBA AGUA MAR 2\nglobal.set(\"dirInhibidoAlarma100\", 47 + dirInicioModbusCoil);   // ALTO NIVEL SEPTICO\nglobal.set(\"dirInhibidoAlarma101\", 49 + dirInicioModbusCoil);   // ALARMA COMUN MOTOR AUX 3\nglobal.set(\"dirInhibidoAlarma102\", 66 + dirInicioModbusCoil);  // BAJA PRESION AIRE IP CONVERTER\nglobal.set(\"dirInhibidoAlarma103\", 70 + dirInicioModbusCoil);  // ALARMA COMUN MOTOR AUX 2\nglobal.set(\"dirInhibidoAlarma104\", 76 + dirInicioModbusCoil);   // FALLA PODER TARJETA PROTEX1000\n//global.set(\"dirInhibidoAlarma105\", + dirInicioModbusCoil);   // FALLA CRITICA TARJETA PROTEX1000\nglobal.set(\"dirInhibidoAlarma106\", 38 + dirInicioModbusCoil);   // FALLA CONTROL RSW TEKNOTHERM\nglobal.set(\"dirInhibidoAlarma107\", 82 + dirInicioModbusCoil);  // BAJO NIVEL COMB GENERADOR PROA\nglobal.set(\"dirInhibidoAlarma108\", 86 + dirInicioModbusCoil);  // FALLA PRECALENTADOR AGUA MPPAL\nglobal.set(\"dirInhibidoAlarma109\", 101 + dirInicioModbusCoil);  // FALLA BOMBA AGUA MAR 1\nglobal.set(\"dirInhibidoAlarma110\", 113 + dirInicioModbusCoil);  // FALLA UN1 PROPULSION RR\nglobal.set(\"dirInhibidoAlarma111\", 114 + dirInicioModbusCoil);  // FALLA UN1 PROPULSION RR BACKUP\nglobal.set(\"dirInhibidoAlarma112\", 660 + dirInicioModbusCoil);  // SS_174 FALLA PICKUP\nglobal.set(\"dirInhibidoAlarma113\", 683 + dirInicioModbusCoil);   // FALLA COMUNICACION PARALLEL LINIK\nglobal.set(\"dirInhibidoAlarma114\", 43 + dirInicioModbusCoil);   // FALLA CONTROL RSW AQUATHERM\n\n// CAJA Y THRUSTER \nglobal.set(\"dirInhibidoAlarma115\", 39 + dirInicioModbusCoil);   // BAJO NIVEL TK GRAVED THRUSTER PROA\nglobal.set(\"dirInhibidoAlarma116\", 44 + dirInicioModbusCoil);   // BAJA PRESION LO RODAMIENTO\nglobal.set(\"dirInhibidoAlarma117\", 57 + dirInicioModbusCoil);  // BAJA PRES LO EMBR CAJA RED\nglobal.set(\"dirInhibidoAlarma118\", 58 + dirInicioModbusCoil);  // FILTRO LO CAJA TAPADO\nglobal.set(\"dirInhibidoAlarma119\", 59 + dirInicioModbusCoil);  // BAJO NIVEL ACEITE CAJA RED\nglobal.set(\"dirInhibidoAlarma120\", 61 + dirInicioModbusCoil);  // BAJO NIVEL TK GRAVED THRUSTER POPA\nglobal.set(\"dirInhibidoAlarma121\", 69 + dirInicioModbusCoil);  // BAJA PRESION ACEITE PPAL CAJA RED\n//global.set(\"dirInhibidoAlarma122\", + dirInicioModbusCoil);   // FILTRO TAPADO THRUSTER PROA\n//global.set(\"dirInhibidoAlarma123\", + dirInicioModbusCoil);   // FILTRO TAPADO THRUSTER POPA\nglobal.set(\"dirInhibidoAlarma124\", 103 + dirInicioModbusCoil);  // BAJA PRESION SERVO THRUSTER PROA\nglobal.set(\"dirInhibidoAlarma125\", 83 + dirInicioModbusCoil);  // BAJA PRESION SERVO THRUSTER POPA\nglobal.set(\"dirInhibidoAlarma126\", 105 + dirInicioModbusCoil);  // UN1FALLA THRUSTER POPA\nglobal.set(\"dirInhibidoAlarma127\", 63 + dirInicioModbusCoil);  // UN1 FALLA THRUSTER POPA BACKUP\n//global.set(\"dirInhibidoAlarma128\", + dirInicioModbusCoil);  // UN1FALLA THRUSTER PROA\nglobal.set(\"dirInhibidoAlarma129\", 65 + dirInicioModbusCoil);  // UN1FALLA THRUSTER PROA  BACKUP\n\n// SENTINAS\nglobal.set(\"dirInhibidoAlarma130\", 38+ dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA BOMBAS\nglobal.set(\"dirInhibidoAlarma131\", 42 + dirInicioModbusCoil);   // ALTO NIVEL SALA THRUSTER PROA\nglobal.set(\"dirInhibidoAlarma132\", 43 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA MAQUINA\nglobal.set(\"dirInhibidoAlarma133\", 45 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA TIMON\nglobal.set(\"dirInhibidoAlarma134\", 46 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA RSW\nglobal.set(\"dirInhibidoAlarma135\", 78 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA SONAR\nglobal.set(\"dirInhibidoAlarma136\", 115 + dirInicioModbusCoil);  // ALTO NIVEL SENTINA SALA DESCARGA\n\n// ESTANQUES\nglobal.set(\"dirInhibidoAlarma137\", 48 + dirInicioModbusCoil);   // BAJO NIVEL TK ACEITE HIDR PROA\nglobal.set(\"dirInhibidoAlarma138\", 50 + dirInicioModbusCoil);   // ALTO NIVEL TK DRENAJE FO\nglobal.set(\"dirInhibidoAlarma139\", 60 + dirInicioModbusCoil);  // ALTO NIVEL TK ACEITE SUCIO \n//global.set(\"dirInhibidoAlarma140\", + dirInicioModbusCoil);   // BAJO NIVEL TK ACEITE HIDR POPA \nglobal.set(\"dirInhibidoAlarma141\", 81 + dirInicioModbusCoil);  // BAJO NIVEL TK DIARIO COMBUSTIBLE \nglobal.set(\"dirInhibidoAlarma142\", 85 + dirInicioModbusCoil);  // BAJO NIVEL TK DIARIO PETROLEO \nglobal.set(\"dirInhibidoAlarma143\", 87 + dirInicioModbusCoil);  // BAJO NIVEL TK EXP MOTOR PPAL\n\n// LISTO PARA PARTIR \n//global.set(\"dirInhibidoAlarma144\", + dirInicioModbusCoil);   // PRESION ACEITE LUB MOTOR PRINCIPAL\n//global.set(\"dirInhibidoAlarma145\", + dirInicioModbusCoil);   // VIRADOR DEL EJE\n//global.set(\"dirInhibidoAlarma146\", + dirInicioModbusCoil);   // PALANCA POSICION \n//global.set(\"dirInhibidoAlarma147\", + dirInicioModbusCoil);   // MOTOR DETENIDO \n//global.set(\"dirInhibidoAlarma148\", + dirInicioModbusCoil);   // PRESION ACEITE LUB CAJA REDUCTORA\n//**************************************************************\n\n\n//**************************************************************\n//Direcciones de memoria de tiempos de retardo de las alarmas\n// COMBUSTIBLE / LUBRICACIÓN\nglobal.set(\"direccionDelayAlarma1\", 58 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY FO\nglobal.set(\"direccionDelayAlarma2\", 59 + dirInicioModbusCoil);  // FALLA BOMBA ALIMENTACION FO 1\nglobal.set(\"direccionDelayAlarma3\", 61 + dirInicioModbusCoil);  // FALLA BOMBA ALIMENTACION FO 2\n//global.set(\"direccionDelayAlarma4\", + dirInicioModbusCoil);  // FALLA BOMBA PRELUB\nglobal.set(\"direccionDelayAlarma5\", 63 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY LO\nglobal.set(\"direccionDelayAlarma6\", 69 + dirInicioModbusCoil);  // FALLA BOMBA STBY CAJA RED\nglobal.set(\"direccionDelayAlarma7\", 79 + dirInicioModbusCoil);  // ALARMA COMUN PURIF. ACEITE \nglobal.set(\"direccionDelayAlarma8\", 80 + dirInicioModbusCoil);  // ALARMA COMUN PURIF. PETROLEO \nglobal.set(\"direccionDelayAlarma9\", 95 + dirInicioModbusCoil);  // BOMBA PRELUB. TRIPEADA \nglobal.set(\"direccionDelayAlarma10\", 113 + dirInicioModbusCoil);  // FILTRO FINO FO TAPADO \nglobal.set(\"direccionDelayAlarma11\", 260 + dirInicioModbusCoil);  // LS103-FUGA COMBUSTIBLE ,TUBO INYECCION \nglobal.set(\"direccionDelayAlarma12\", 261 + dirInicioModbusCoil);  // LS108A-FUGA COMBUSTIBLE COMB SUCIO LADO VOLANTE \nglobal.set(\"direccionDelayAlarma13\", 187 + dirInicioModbusCoil);   // PT101-PRESION DE COMBUSTIBLE ENTRADA MOTOR \n//global.set(\"direccionDelayAlarma14\", + dirInicioModbusCoil);   // PRELUB RUNNIG MOTOR AUTO\nglobal.set(\"direccionDelayAlarma15\", 98 + dirInicioModbusCoil);  // LS204-NIVEL ACEITE LUBRICANTE \nglobal.set(\"direccionDelayAlarma16\", 189 + dirInicioModbusCoil);   // PT201-PRESION  ACEITE LUB ENTRADA MOTOR \nglobal.set(\"direccionDelayAlarma17\", 190 + dirInicioModbusCoil);   // TE201-TEMP ACEITE LUB ENTRADA MOTOR \nglobal.set(\"direccionDelayAlarma18\", 191 + dirInicioModbusCoil);   // PT241-PRESION ACEITE LUB ENTRADA FILTRO \nglobal.set(\"direccionDelayAlarma19\", 96 + dirInicioModbusCoil);  // BBA PRELUB STBY CORRIENDO \nglobal.set(\"direccionDelayAlarma20\", 97 + dirInicioModbusCoil);  // FALLA BBA PRELUB STBY\n\n// AGUA ENFRIAMIENTO\nglobal.set(\"direccionDelayAlarma21\", 116 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY LT\nglobal.set(\"direccionDelayAlarma22\", 117 + dirInicioModbusCoil);  // FALLA BOMBA STBY LT\nglobal.set(\"direccionDelayAlarma23\", 118 + dirInicioModbusCoil);  // PARTIDA BOMBA STBY HT\nglobal.set(\"direccionDelayAlarma24\", 119 + dirInicioModbusCoil);  // FALLA BOMBA STBY HT\nglobal.set(\"direccionDelayAlarma25\", 193 + dirInicioModbusCoil);   // PT401-PRESION DE AGUA HT ENTRADA MOTOR \nglobal.set(\"direccionDelayAlarma26\", 194 + dirInicioModbusCoil);   // PT471-PRESION DE AGUA DE LT ENTRADA MOTOR \nglobal.set(\"direccionDelayAlarma27\", 195 + dirInicioModbusCoil);   // TE401-BAJA TEMP AGUA HT ENTRADA MOTOR \nglobal.set(\"direccionDelayAlarma28\", 196 + dirInicioModbusCoil);   // TE402 -TEMP AGUA HT SALIDA MOTOR \nglobal.set(\"direccionDelayAlarma29\", 198 + dirInicioModbusCoil);   // TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\nglobal.set(\"direccionDelayAlarma30\", 199 + dirInicioModbusCoil);   // TE472-TEMP AGUA LT SALIDA REFRIGERADOR AIRE CARGA\nglobal.set(\"direccionDelayAlarma31\", 200 + dirInicioModbusCoil);   // TE482-TEMP AGUA LT SALIDA REFRIGERADOR ACEITE\nglobal.set(\"direccionDelayAlarma32\", 281 + dirInicioModbusCoil);  // HT WATER STBY RUNNIG AUTO\nglobal.set(\"direccionDelayAlarma33\", 282 + dirInicioModbusCoil);   // LT WATER STBY RUNNIG AUTO\nglobal.set(\"direccionDelayAlarma34\", 283 + dirInicioModbusCoil);   // LUB OIL STBY RUNNIG AUTO \nglobal.set(\"direccionDelayAlarma35\", 284 + dirInicioModbusCoil);   // FUEL OIL STBY RUNNIG AUTO \nglobal.set(\"direccionDelayAlarma36\", 287 + dirInicioModbusCoil);   // REDUCCION CARGA AGUA HT\n\n// AIRE DE CARGA \nglobal.set(\"direccionDelayAlarma37\", 207 + dirInicioModbusCoil);   // PT301-PRESION AIRE ARRANQUE\nglobal.set(\"direccionDelayAlarma38\", 208 + dirInicioModbusCoil);   // PT311-PRESION AIRE CONTROL\nglobal.set(\"direccionDelayAlarma39\", 209 + dirInicioModbusCoil);   // PT622-PRESION AIRE DE CARGA \nglobal.set(\"direccionDelayAlarma40\", 210 + dirInicioModbusCoil);   // PDT623--DIFERENCIA PRESION SOBRECARGA AIRE\nglobal.set(\"direccionDelayAlarma41\", 211 + dirInicioModbusCoil);   // TE622-TEMP AIRE CARGA CAC SALIDA\n\n// GASES DE ESCAPE \nglobal.set(\"direccionDelayAlarma42\", 178 + dirInicioModbusCoil);   // TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\nglobal.set(\"direccionDelayAlarma43\", 180 + dirInicioModbusCoil);   // TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\nglobal.set(\"direccionDelayAlarma44\", 150 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A1 C-500°\nglobal.set(\"direccionDelayAlarma45\", 151 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A1 D-500°\nglobal.set(\"direccionDelayAlarma46\", 152 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A2 C-500°\nglobal.set(\"direccionDelayAlarma47\", 153 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A2 D-500°\nglobal.set(\"direccionDelayAlarma48\", 154 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A3 C-500°\nglobal.set(\"direccionDelayAlarma49\", 155 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A3 D-500°\nglobal.set(\"direccionDelayAlarma50\", 156 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A4 C-500°\nglobal.set(\"direccionDelayAlarma51\", 157 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A4 D-500°\nglobal.set(\"direccionDelayAlarma52\", 158 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A5 C-500°\nglobal.set(\"direccionDelayAlarma53\", 159 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A5 D-500°\nglobal.set(\"direccionDelayAlarma54\", 160 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A6 C-500°\nglobal.set(\"direccionDelayAlarma55\", 161 + dirInicioModbusCoil);   // ALTA TEMP ESCAPE A6 D-500°\n\n// global.set(\"direccionDelayAlarma149,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A1 C\n// global.set(\"direccionDelayAlarma150,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A1 D\n// global.set(\"direccionDelayAlarma151,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A2 C\n// global.set(\"direccionDelayAlarma152,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A2 D\n// global.set(\"direccionDelayAlarma153,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A3 C\n// global.set(\"direccionDelayAlarma154,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A3 D\n// global.set(\"direccionDelayAlarma155,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A4 C\n// global.set(\"direccionDelayAlarma156,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A4 D\n// global.set(\"direccionDelayAlarma157,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A5 C\n// global.set(\"direccionDelayAlarma158,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A5 D\n// global.set(\"direccionDelayAlarma159,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A6 C\n// global.set(\"direccionDelayAlarma160,  + dirInicioModbusCoil);  //DESVIACIÓN DE TEMP ESCAPE A6 D\n\n//global.set(\"direccionDelayAlarma56\", + dirInicioModbusCoil);   // TY516A-TEMP VALVULA ESC.DIFERENCIA A1\n//global.set(\"direccionDelayAlarma57\", + dirInicioModbusCoil);   // TY517A-TEMP GAS ESCAPE DESVIACION A1\n//global.set(\"direccionDelayAlarma58\", + dirInicioModbusCoil);   // TY526A-TEMP VALVULA ESC.DIFERENCIA A2\n//global.set(\"direccionDelayAlarma59\", + dirInicioModbusCoil);   // TY527A-TEMP GAS ESCAPE  DESVIACION A2\n//global.set(\"direccionDelayAlarma60\", + dirInicioModbusCoil);   // TY536A-TEMP VALVULA ESC.DIFERENCIA A3\n//global.set(\"direccionDelayAlarma61\", + dirInicioModbusCoil);   // TY537A-TEMP GAS ESCAPE DESVIACION A3\n//global.set(\"direccionDelayAlarma62\", + dirInicioModbusCoil);   // TY546A-TEMP VALVULA ESC.DIFERENCIA A4\n//global.set(\"direccionDelayAlarma63\", + dirInicioModbusCoil);   // TY547A-TEMP GAS ESCAPE DESVIACION A4\n//global.set(\"direccionDelayAlarma64\", + dirInicioModbusCoil);   // TY556A-TEMP VALVULA ESC.DIFERENCIA A5\n//global.set(\"direccionDelayAlarma65\", + dirInicioModbusCoil);   // TY557A-TEMP GAS ESCAPE DESVIACION A5\n//global.set(\"direccionDelayAlarma66\", + dirInicioModbusCoil);   // TY566A-TEMP VALVULA ESC.DIFERENCIA A5\n//global.set(\"direccionDelayAlarma67\", + dirInicioModbusCoil);   // TY567A-TEMP GAS ESCAPE DESVIACION A5\nglobal.set(\"direccionDelayAlarma68\", 288 + dirInicioModbusCoil);   // REDUCCION CARGA GASES ESCAPE \nglobal.set(\"direccionDelayAlarma69\", 408 + dirInicioModbusCoil); // REDUCCION DE CARGA DESVIACION GASES ESCAPE\n\n// CIGÜEÑAL \nglobal.set(\"direccionDelayAlarma70\", 266 + dirInicioModbusCoil);  // REDUCCION DE CARGA OIL MIST DETECTOR \nglobal.set(\"direccionDelayAlarma71\", 267 + dirInicioModbusCoil);  // FALLA OIL MIST DETECTOR\nglobal.set(\"direccionDelayAlarma72\", 213 + dirInicioModbusCoil);   // PT701-PRESION CRANIKCASE\nglobal.set(\"direccionDelayAlarma73\", 273 + dirInicioModbusCoil);  // ALTA TEMP MB0-110°\nglobal.set(\"direccionDelayAlarma74\", 274 + dirInicioModbusCoil);  // ALTA TEMP MB1-110°\nglobal.set(\"direccionDelayAlarma75\", 275 + dirInicioModbusCoil);  // ALTA TEMP MB2-110°\nglobal.set(\"direccionDelayAlarma76\", 276 + dirInicioModbusCoil);  // ALTA TEMP MB3-110°\nglobal.set(\"direccionDelayAlarma77\", 277 + dirInicioModbusCoil);  // ALTA TEMP MB4-110°\nglobal.set(\"direccionDelayAlarma78\", 278 + dirInicioModbusCoil);  // ALTA TEMP MB5-110°\nglobal.set(\"direccionDelayAlarma79\", 279 + dirInicioModbusCoil);  // ALTA TEMP MB6-110°\nglobal.set(\"direccionDelayAlarma80\", 280 + dirInicioModbusCoil);  // ALTA TEMP MB7-110°\nglobal.set(\"direccionDelayAlarma161\", 268 + dirInicioModbusCoil); //AUTOPARADA ALTA CONCENTRACION GASES EN CARTER\n\n// CILINDROS \nglobal.set(\"direccionDelayAlarma81\", 300 + dirInicioModbusCoil);   // TE711A-TEMP CILINDRO A1 1-160°\nglobal.set(\"direccionDelayAlarma82\", 301 + dirInicioModbusCoil);   // TE712A-TEMP CILINDRO A1 2-160°\nglobal.set(\"direccionDelayAlarma83\", 302 + dirInicioModbusCoil);   // TE721A-TEMP CILINDRO A2 1-160°\nglobal.set(\"direccionDelayAlarma84\", 303 + dirInicioModbusCoil);   // TE722A-TEMP CILINDRO A2 2-160°\nglobal.set(\"direccionDelayAlarma85\", 304 + dirInicioModbusCoil);   // TE731A-TEMP CILINDRO A3 1-160°\nglobal.set(\"direccionDelayAlarma86\", 305 + dirInicioModbusCoil);   // TE732A-TEMP CILINDRO A3 2-160°\nglobal.set(\"direccionDelayAlarma87\", 306 + dirInicioModbusCoil);   // TE741A-TEMP CILINDRO A4 1-160°\nglobal.set(\"direccionDelayAlarma88\", 308 + dirInicioModbusCoil);   // TE742A-TEMP CILINDRO A4 2-160°\nglobal.set(\"direccionDelayAlarma89\", 307 + dirInicioModbusCoil);   // TE751A-TEMP CILINDRO A5 1-160°\nglobal.set(\"direccionDelayAlarma90\", 309 + dirInicioModbusCoil);   // TE752A-TEMP CILINDRO A5 2-160°\nglobal.set(\"direccionDelayAlarma91\", 310 + dirInicioModbusCoil);   // TE761A-TEMP CILINDRO A6 1-160°\nglobal.set(\"direccionDelayAlarma92\", 311 + dirInicioModbusCoil);   // TE762A-TEMP CILINDRO A6 2-160°\nglobal.set(\"direccionDelayAlarma93\", 259 + dirInicioModbusCoil);   // REDUCCION POR CILINDRO\n\n// BLOQUEO PARADA \nglobal.set(\"direccionDelayAlarma94\", 286 + dirInicioModbusCoil);   // AUTOPARADA AGUA HT\nglobal.set(\"direccionDelayAlarma95\", 290 + dirInicioModbusCoil);   // AUTOPARADA SOBREVELOSIDAD \nglobal.set(\"direccionDelayAlarma96\", 291 + dirInicioModbusCoil);   // AUTOPARADA BAJA PRESION ACEITE\nglobal.set(\"direccionDelayAlarma97\", 292 + dirInicioModbusCoil);  // AUTOPARADA OIL MIST DETECTOR\n\n// MISCELÁNEOS \nglobal.set(\"direccionDelayAlarma98\", 140 + dirInicioModbusCoil);   // FALLA ALIMENTACION TABLERO ALARMAS - SGM TITAN\nglobal.set(\"direccionDelayAlarma99\", 47 + dirInicioModbusCoil);   // FALLA BOMBA AGUA MAR 2\nglobal.set(\"direccionDelayAlarma100\", 54 + dirInicioModbusCoil);   // ALTO NIVEL SEPTICO\nglobal.set(\"direccionDelayAlarma101\", 56 + dirInicioModbusCoil);   // ALARMA COMUN MOTOR AUX 3\nglobal.set(\"direccionDelayAlarma102\", 73 + dirInicioModbusCoil);  // BAJA PRESION AIRE IP CONVERTER\nglobal.set(\"direccionDelayAlarma103\", 77 + dirInicioModbusCoil);  // ALARMA COMUN MOTOR AUX 2\nglobal.set(\"direccionDelayAlarma104\", 83 + dirInicioModbusCoil);   // FALLA PODER TARJETA PROTEX1000\n//global.set(\"direccionDelayAlarma105\", + dirInicioModbusCoil);   // FALLA CRITICA TARJETA PROTEX1000\nglobal.set(\"direccionDelayAlarma106\", 45 + dirInicioModbusCoil);   // FALLA CONTROL RSW TEKNOTHERM\nglobal.set(\"direccionDelayAlarma107\", 89 + dirInicioModbusCoil);  // BAJO NIVEL COMB GENERADOR PROA\nglobal.set(\"direccionDelayAlarma108\", 93 + dirInicioModbusCoil);  // FALLA PRECALENTADOR AGUA MPPAL\nglobal.set(\"direccionDelayAlarma109\", 108 + dirInicioModbusCoil);  // FALLA BOMBA AGUA MAR 1\nglobal.set(\"direccionDelayAlarma110\", 120 + dirInicioModbusCoil);  // FALLA UN1 PROPULSION RR\nglobal.set(\"direccionDelayAlarma111\", 121 + dirInicioModbusCoil);  // FALLA UN1 PROPULSION RR BACKUP\nglobal.set(\"direccionDelayAlarma112\", 270 + dirInicioModbusCoil);  // SS_174 FALLA PICKUP\nglobal.set(\"direccionDelayAlarma113\", 293 + dirInicioModbusCoil);   // FALLA COMUNICACION PARALLEL LINIK\nglobal.set(\"direccionDelayAlarma114\", 50 + dirInicioModbusCoil);   // FALLA CONTROL RSW AQUATHERM\n\n// CAJA Y THRUSTER \nglobal.set(\"direccionDelayAlarma115\", 46 + dirInicioModbusCoil);   // BAJO NIVEL TK GRAVED THRUSTER PROA\nglobal.set(\"direccionDelayAlarma116\", 51 + dirInicioModbusCoil);   // BAJA PRESION LO RODAMIENTO\nglobal.set(\"direccionDelayAlarma117\", 64 + dirInicioModbusCoil);  // BAJA PRES LO EMBR CAJA RED\nglobal.set(\"direccionDelayAlarma118\", 65 + dirInicioModbusCoil);  // FILTRO LO CAJA TAPADO\nglobal.set(\"direccionDelayAlarma119\", 66 + dirInicioModbusCoil);  // BAJO NIVEL ACEITE CAJA RED\nglobal.set(\"direccionDelayAlarma120\", 68 + dirInicioModbusCoil);  // BAJO NIVEL TK GRAVED THRUSTER POPA\nglobal.set(\"direccionDelayAlarma121\", 76 + dirInicioModbusCoil);  // BAJA PRESION ACEITE PPAL CAJA RED\n//global.set(\"direccionDelayAlarma122\", + dirInicioModbusCoil);   // FILTRO TAPADO THRUSTER PROA\n//global.set(\"direccionDelayAlarma123\", + dirInicioModbusCoil);   // FILTRO TAPADO THRUSTER POPA\nglobal.set(\"direccionDelayAlarma124\", 110 + dirInicioModbusCoil);  // BAJA PRESION SERVO THRUSTER PROA\nglobal.set(\"direccionDelayAlarma125\", 90 + dirInicioModbusCoil);  // BAJA PRESION SERVO THRUSTER POPA\nglobal.set(\"direccionDelayAlarma126\", 112 + dirInicioModbusCoil);  // UN1FALLA THRUSTER POPA\nglobal.set(\"direccionDelayAlarma127\", 70 + dirInicioModbusCoil);  // UN1 FALLA THRUSTER POPA BACKUP\n//global.set(\"direccionDelayAlarma128\", + dirInicioModbusCoil);  // UN1FALLA THRUSTER PROA\nglobal.set(\"direccionDelayAlarma129\", 72 + dirInicioModbusCoil);  // UN1FALLA THRUSTER PROA  BACKUP\n\n// SENTINAS\nglobal.set(\"direccionDelayAlarma130\", 45 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA BOMBAS\nglobal.set(\"direccionDelayAlarma131\", 49 + dirInicioModbusCoil);   // ALTO NIVEL SALA THRUSTER PROA\nglobal.set(\"direccionDelayAlarma132\", 50 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA MAQUINA\nglobal.set(\"direccionDelayAlarma133\", 52 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA TIMON\nglobal.set(\"direccionDelayAlarma134\", 53 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA RSW\nglobal.set(\"direccionDelayAlarma135\", 85 + dirInicioModbusCoil);   // ALTO NIVEL SENTINA SALA SONAR\nglobal.set(\"direccionDelayAlarma136\", 122 + dirInicioModbusCoil);  // ALTO NIVEL SENTINA SALA DESCARGA\n\n// ESTANQUES\nglobal.set(\"direccionDelayAlarma137\", 55 + dirInicioModbusCoil);   // BAJO NIVEL TK ACEITE HIDR PROA\nglobal.set(\"direccionDelayAlarma138\", 57 + dirInicioModbusCoil);   // ALTO NIVEL TK DRENAJE FO\nglobal.set(\"direccionDelayAlarma139\", 67 + dirInicioModbusCoil);  // ALTO NIVEL TK ACEITE SUCIO \n//global.set(\"direccionDelayAlarma140\", + dirInicioModbusCoil);   // BAJO NIVEL TK ACEITE HIDR POPA \nglobal.set(\"direccionDelayAlarma141\", 88 + dirInicioModbusCoil);  // BAJO NIVEL TK DIARIO COMBUSTIBLE \nglobal.set(\"direccionDelayAlarma142\", 92 + dirInicioModbusCoil);  // BAJO NIVEL TK DIARIO PETROLEO \nglobal.set(\"direccionDelayAlarma143\", 94 + dirInicioModbusCoil);  // BAJO NIVEL TK EXP MOTOR PPAL\n\n// LISTO PARA PARTIR \n//global.set(\"direccionDelayAlarma144\", + dirInicioModbusCoil);   // PRESION ACEITE LUB MOTOR PRINCIPAL\n//global.set(\"direccionDelayAlarma145\", + dirInicioModbusCoil);   // VIRADOR DEL EJE\n//global.set(\"direccionDelayAlarma146\", + dirInicioModbusCoil);   // PALANCA POSICION \n//global.set(\"direccionDelayAlarma147\", + dirInicioModbusCoil);   // MOTOR DETENIDO \n//global.set(\"direccionDelayAlarma148\", + dirInicioModbusCoil);   // PRESION ACEITE LUB CAJA REDUCTORA\n//**************************************************************\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "8ed4c86796e78e06",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "05399c94ea6fbd07",
        "name": "Configuraciones",
        "func": "node.warn(\"Node-RED se ha iniciado\");\n\nlet dirInicioModbusCoil = 8192;\n\n//Altura de botones de alarmas\nglobal.set(\"alturaBotones\", 70);\n\n//Altura de botones de ïndice de grupos de alarmas\nglobal.set(\"alturaBotonesIndiceAlarmas\", 70);\n\n//Delay máximo para las alarmas\nglobal.set(\"delayMaximoAlarmas\", 60);\n\n//colores usados\nglobal.set(\"global_color_alarma\", \"red\");\nglobal.set(\"global_color_normal\", \"green\");\nglobal.set(\"global_color_inactivaNoReconocida\", \"orange\");\nglobal.set(\"global_color_inhibida\", \"grey\");\nglobal.set(\"global_color1_noReconocida\", \"red\");\nglobal.set(\"global_color_activa_reconocida\", \"red\");\nglobal.set(\"global_color_inactiva_reconocida\", \"green\");\nglobal.set(\"global_color_inhibida\", \"grey\");\n\n//Clave de acceso a configurar parámetros\nglobal.set(\"claveDeConfiguración\", \"manuel5989\")\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "8be5f93fb68afc47",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "05399c94ea6fbd07",
        "name": "Unidades de medida de magnitudes analógicas para Alarma",
        "func": "\n\n\n\n//*** Unidad de medida de magnitudes de sensores para Alarmas ****\n// Temperaturas cigüeñal\nglobal.set(\"unidadMedidaAnalogo1\", \"°C\");  // MB-0\nglobal.set(\"unidadMedidaAnalogo2\", \"°C\");  // MB-1\nglobal.set(\"unidadMedidaAnalogo3\", \"°C\");  // MB-2\nglobal.set(\"unidadMedidaAnalogo4\", \"°C\");  // MB-3\nglobal.set(\"unidadMedidaAnalogo5\", \"°C\");  // MB-4\nglobal.set(\"unidadMedidaAnalogo6\", \"°C\");  // MB-5\nglobal.set(\"unidadMedidaAnalogo7\", \"°C\");  // MB-6\nglobal.set(\"unidadMedidaAnalogo8\", \"°C\");  // MB-7\n\n// Temperatura de gases de escape\nglobal.set(\"unidadMedidaAnalogo9\", \"°C\");  // A1 C\nglobal.set(\"unidadMedidaAnalogo10\", \"°C\"); // A1 D\nglobal.set(\"unidadMedidaAnalogo11\", \"°C\"); // A2 C\nglobal.set(\"unidadMedidaAnalogo12\", \"°C\"); // A2 D\nglobal.set(\"unidadMedidaAnalogo13\", \"°C\"); // A3 C\nglobal.set(\"unidadMedidaAnalogo14\", \"°C\"); // A3 D\nglobal.set(\"unidadMedidaAnalogo15\", \"°C\"); // A4 C\nglobal.set(\"unidadMedidaAnalogo16\", \"°C\"); // A4 D\nglobal.set(\"unidadMedidaAnalogo17\", \"°C\"); // A5 C\nglobal.set(\"unidadMedidaAnalogo18\", \"°C\"); // A5 D\nglobal.set(\"unidadMedidaAnalogo19\", \"°C\"); // A6 C\nglobal.set(\"unidadMedidaAnalogo20\", \"°C\"); // A6 D\nglobal.set(\"unidadMedidaAnalogo21\", \"DESVIACIÓN DE TEMP ESCAPE A1 C\"); // DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"unidadMedidaAnalogo22\", \"DESVIACIÓN DE TEMP ESCAPE A1 D\"); // DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"unidadMedidaAnalogo23\", \"DESVIACIÓN DE TEMP ESCAPE A2 C\"); // DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"unidadMedidaAnalogo24\", \"DESVIACIÓN DE TEMP ESCAPE A2 D\"); // DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"unidadMedidaAnalogo25\", \"DESVIACIÓN DE TEMP ESCAPE A3 C\"); // DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"unidadMedidaAnalogo26\", \"DESVIACIÓN DE TEMP ESCAPE A3 D\"); // DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"unidadMedidaAnalogo27\", \"DESVIACIÓN DE TEMP ESCAPE A4 C\"); // DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"unidadMedidaAnalogo28\", \"DESVIACIÓN DE TEMP ESCAPE A4 D\"); // DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"unidadMedidaAnalogo29\", \"DESVIACIÓN DE TEMP ESCAPE A5 C\"); // DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"unidadMedidaAnalogo30\", \"DESVIACIÓN DE TEMP ESCAPE A5 D\"); // DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"unidadMedidaAnalogo31\", \"DESVIACIÓN DE TEMP ESCAPE A6 C\"); // DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"unidadMedidaAnalogo32\", \"DESVIACIÓN DE TEMP ESCAPE A6 D\"); // DESVIACIÓN DE TEMP ESCAPE A6 D\n\n// Sistema de agua de enfriamiento\nglobal.set(\"unidadMedidaAnalogo33\", \"Bar\"); // PRESIÓN HT ENTRADA MOTOR\nglobal.set(\"unidadMedidaAnalogo34\", \"°C\"); // TEMPERATURA HT ENTRADA MOTOR\nglobal.set(\"unidadMedidaAnalogo35\", \"°C\"); // TEMPERATURA HT SALIDA MOTOR\nglobal.set(\"unidadMedidaAnalogo36\", \"°C\"); // TEMPERATURA HT SALIDA TURBO\nglobal.set(\"unidadMedidaAnalogo37\", \"Bar\"); // PRESIÓN LT ENTRADA AFTERCOOLER\nglobal.set(\"unidadMedidaAnalogo38\", \"°C\"); // TEMPERATURA LT ENTRADA AFTERCOOLER\nglobal.set(\"unidadMedidaAnalogo39\", \"°C\"); // TEMPERATURA LT SALIDA AFTERCOOLER\nglobal.set(\"unidadMedidaAnalogo40\", \"°C\"); // TEMPERATURA LT SALIDA ENFR. ACEITE\n\n// Temperatura de cilindros\nglobal.set(\"unidadMedidaAnalogo41\", \"°C\"); // Cilindro 1 temperatura 1\nglobal.set(\"unidadMedidaAnalogo42\", \"°C\"); // Cilindro 1 temperatura 2\nglobal.set(\"unidadMedidaAnalogo43\", \"°C\"); // Cilindro 2 temperatura 1\nglobal.set(\"unidadMedidaAnalogo44\", \"°C\"); // Cilindro 2 temperatura 2\nglobal.set(\"unidadMedidaAnalogo45\", \"°C\"); // Cilindro 3 temperatura 1\nglobal.set(\"unidadMedidaAnalogo46\", \"°C\"); // Cilindro 3 temperatura 2\nglobal.set(\"unidadMedidaAnalogo47\", \"°C\"); // Cilindro 4 temperatura 1\nglobal.set(\"unidadMedidaAnalogo48\", \"°C\"); // Cilindro 4 temperatura 2\nglobal.set(\"unidadMedidaAnalogo49\", \"°C\"); // Cilindro 5 temperatura 1\nglobal.set(\"unidadMedidaAnalogo50\", \"°C\"); // Cilindro 5 temperatura 2\nglobal.set(\"unidadMedidaAnalogo51\", \"°C\"); // Cilindro 6 temperatura 1\nglobal.set(\"unidadMedidaAnalogo52\", \"°C\"); // Cilindro 6 temperatura 2\n\n// Sistema de combustible y lubricante\nglobal.set(\"unidadMedidaAnalogo53\", \"Bar\"); // PRES. COMB. ENTRADA MOTOR\nglobal.set(\"unidadMedidaAnalogo54\", \"°C\");  // TEMP. COMB. ENTRADA MOTOR\nglobal.set(\"unidadMedidaAnalogo55\", \"Bar\"); // PRES. LUB. ENTRADA MOTOR\nglobal.set(\"unidadMedidaAnalogo56\", \"Bar\"); // PRES. LUB. ENTRADA FILTRO\nglobal.set(\"unidadMedidaAnalogo57\", \"°C\");  // TEMP. LUB. ENTRADA MOTOR\nglobal.set(\"unidadMedidaAnalogo58\", \"°C\");  // TEMP. LUB. SALIDA ENFR. ACEITE\n\n// Desempeño motor\nglobal.set(\"unidadMedidaAnalogo59\", \"RPM\"); // VELOCIDAD MOTOR\nglobal.set(\"unidadMedidaAnalogo60\", \"RPM\"); // VELOCIDAD MOTOR BACKUP\nglobal.set(\"unidadMedidaAnalogo61\", \"mm\");  // FUEL RACK POSITION\nglobal.set(\"unidadMedidaAnalogo62\", \"RPM\"); // VELOCIDAD TURBO\nglobal.set(\"unidadMedidaAnalogo63\", \"Bar\"); // PRES. AIRE CARGA SALIDA\nglobal.set(\"unidadMedidaAnalogo64\", \"Bar\"); // PRES. AIRE CARGA DIFF.\nglobal.set(\"unidadMedidaAnalogo65\", \"°C\");  // TEMP. AIRE CARGA SALIDA\nglobal.set(\"unidadMedidaAnalogo66\", \"°C\");  // TEMP. TURBO\nglobal.set(\"unidadMedidaAnalogo67\", \"°C\");  // TEMP. EXH. TC IN.2\nglobal.set(\"unidadMedidaAnalogo68\", \"°C\");  // TEMP. EXH. TC OUT\n\n// Valores análogos alarmas\nglobal.set(\"unidadMedidaAnalogo69\", \"°C\");  // TEMP. DESCANSO AXIAL\nglobal.set(\"unidadMedidaAnalogo70\", \"°C\");  // TEMP. ACEITE CAJA REDUCTORA\nglobal.set(\"unidadMedidaAnalogo71\", \"°C\");  // TEMP. BOBINA GEN COLA FASE 1\nglobal.set(\"unidadMedidaAnalogo72\", \"°C\");  // TEMP. BOBINA GEN COLA FASE 2\nglobal.set(\"unidadMedidaAnalogo73\", \"°C\");  // TEMP. BOBINA GEN COLA FASE 3\nglobal.set(\"unidadMedidaAnalogo74\", \"°C\");  // TEMP. RODAMIENTO GEN. COLA\nglobal.set(\"unidadMedidaAnalogo75\", \"°C\");  // TEMP. AIRE CARGA SALIDA AFTERCOOLER\nglobal.set(\"unidadMedidaAnalogo76\", \"Bar\"); // PRESIÓN AGUA DE MAR\nglobal.set(\"unidadMedidaAnalogo77\", \"Bar\"); // PRESIÓN AIRE PARTIDA\n\nglobal.set(\"unidadMedidaAnalogo78\", \"Bar\"); // PRESIÓN AIRE CONTROL PT311\n//******************************************************************************\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "91c52ceeb29687a4",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "05399c94ea6fbd07",
        "name": "Direcciones y nombre de mediciones analógicas",
        "func": "//Direcciones de mediciones analógicas\nglobal.set(\"idAnalogos\", [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,33,34,\n    35,37,38,41,42,43,44,45,46,47,48,49,50,51,52,53,55,56,57,59,60,61,63,\n    64,69,71,72,73,74,75,76,77]);\n\n//Direcciones de mediciones analógicas PLC 39\nglobal.set(\"idAnalogosPLC39\", [1, 2, 3, 4, 5, 6, 7, 8, 69, 71, 72, 73, 74]);\n\n//Direcciones de mediciones analógicas PLC 40\nglobal.set(\"idAnalogosPLC40\", [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 33, 34,\n    35, 37, 38, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 55, 56, 57, \n    59, 60, 61, 63, 64, 75, 76, 77]);\n\n//*** TEMPERATURAS CIGÜEÑAL\nglobal.set(\"idAnalogosGrupo1\",[1,2,3,4,5,6,7,8]);\n\n//*** TEMPERATURA GASES DE ESCAPE\nglobal.set(\"idAnalogosGrupo2\",[9,10,11,12,13,14,15,16,17,18,19,20]);\n\n//*** SISTEMA AGUA ENFRIAMIENTO \nglobal.set(\"idAnalogosGrupo3\",[33,34,35,36,37,38,39,40]);\n\n//*** TEMPERATURA DE CILINDROS\nglobal.set(\"idAnalogosGrupo4\",[41,42,43,44,45,46,47,48,49,50,51,52]);\n\n//*** COMBUSTIBLE Y LUBRICANTE\nglobal.set(\"idAnalogosGrupo5\",[53,54,55,56,57,58]);\n\n//*** DESEMPEÑO MOTOR \nglobal.set(\"idAnalogosGrupo6\",[59,60,61,62,63,64,65,66,67,68]);\n\n//*** VALORES ANÁLOGOS ALARMAS \nglobal.set(\"idAnalogosGrupo7\",[69,70,71,72,73,74,75,76,77]);\n//**************************************************************************************** */\n\n\n//**************************************************************************************** */\n//**** Direcciones de magnitudes analógicas que generan alarma y tienen variable de set point en el PLC*/\n\n//Direcciones de set point analogos PLC 39\nglobal.set(\"idSetPointAlarmasAnalogosPLC39\", [1, 2, 3, 4, 5, 6, 7, 8, 69, 71, 72, 73, 74]);\n\n//Direcciones de set point analogos PLC 40\nglobal.set(\"idSetPointAlarmasAnalogosPLC40\", [9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 33, 34,\n    35, 37, 38, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 55, 56, 57, \n    59, 60, 61, 63, 64, 75, 76, 77, 78, 79, 80]);\n\n//*** TEMPERATURAS CIGÜEÑAL\nglobal.set(\"idAnalogosConAlarmaGrupo1\", [1, 2, 3, 4, 5, 6, 7, 8]);\n\n//*** TEMPERATURA GASES DE ESCAPE\nglobal.set(\"idAnalogosConAlarmaGrupo2\", [79, 80, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20]);\n\n//*** SISTEMA AGUA ENFRIAMIENTO \nglobal.set(\"idAnalogosConAlarmaGrupo3\", [33, 34, 35, 37, 38]);\n\n//*** TEMPERATURA DE CILINDROS\nglobal.set(\"idAnalogosConAlarmaGrupo4\", [41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52]);\n\n//*** COMBUSTIBLE Y LUBRICANTE\nglobal.set(\"idAnalogosConAlarmaGrupo5\", [53, 54, 55, 56, 57, 58]);\n\n//*** DESEMPEÑO MOTOR \nglobal.set(\"idAnalogosConAlarmaGrupo6\", [63, 64]);\n\n//*** VALORES ANÁLOGOS ALARMAS \nglobal.set(\"idAnalogosConAlarmaGrupo7\", [75, 77, 78]);\n\n\n\n//**********************************************\n// ***** nombres de mediciones analógicas ******\n// Temperaturas cigüeñal\nglobal.set(\"nombreAnalogo1\", \"DESCANSO MB-0\");\nglobal.set(\"nombreAnalogo2\", \"DESCANSO MB-1\");\nglobal.set(\"nombreAnalogo3\", \"DESCANSO MB-2\");\nglobal.set(\"nombreAnalogo4\", \"DESCANSO MB-3\");\nglobal.set(\"nombreAnalogo5\", \"DESCANSO MB-4\");\nglobal.set(\"nombreAnalogo6\", \"DESCANSO MB-5\");\nglobal.set(\"nombreAnalogo7\", \"DESCANSO MB-6\");\nglobal.set(\"nombreAnalogo8\", \"DESCANSO MB-7\");\n\n// Temperatura de gases de escape\nglobal.set(\"nombreAnalogo79\", \"TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\");\nglobal.set(\"nombreAnalogo80\", \"TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\");\nglobal.set(\"nombreAnalogo9\", \"TEMP. GASES DE ESCAPE A1 C\");\nglobal.set(\"nombreAnalogo10\", \"TEMP. GASES DE ESCAPE A1 D\");\nglobal.set(\"nombreAnalogo11\", \"TEMP. GASES DE ESCAPE A2 C\");\nglobal.set(\"nombreAnalogo12\", \"TEMP. GASES DE ESCAPE A2 D\");\nglobal.set(\"nombreAnalogo13\", \"TEMP. GASES DE ESCAPE A3 C\");\nglobal.set(\"nombreAnalogo14\", \"TEMP. GASES DE ESCAPE A3 D\");\nglobal.set(\"nombreAnalogo15\", \"TEMP. GASES DE ESCAPE A4 C\");\nglobal.set(\"nombreAnalogo16\", \"TEMP. GASES DE ESCAPE A4 D\");\nglobal.set(\"nombreAnalogo17\", \"TEMP. GASES DE ESCAPE A5 C\");\nglobal.set(\"nombreAnalogo18\", \"TEMP. GASES DE ESCAPE A5 D\");\nglobal.set(\"nombreAnalogo19\", \"TEMP. GASES DE ESCAPE A6 C\");\nglobal.set(\"nombreAnalogo20\", \"TEMP. GASES DE ESCAPE A6 D\");\nglobal.set(\"nombreAnalogo21\", \"DESVIACIÓN DE TEMP ESCAPE A1 C\"); // DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"nombreAnalogo22\", \"DESVIACIÓN DE TEMP ESCAPE A1 D\"); // DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"nombreAnalogo23\", \"DESVIACIÓN DE TEMP ESCAPE A2 C\"); // DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"nombreAnalogo24\", \"DESVIACIÓN DE TEMP ESCAPE A2 D\"); // DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"nombreAnalogo25\", \"DESVIACIÓN DE TEMP ESCAPE A3 C\"); // DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"nombreAnalogo26\", \"DESVIACIÓN DE TEMP ESCAPE A3 D\"); // DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"nombreAnalogo27\", \"DESVIACIÓN DE TEMP ESCAPE A4 C\"); // DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"nombreAnalogo28\", \"DESVIACIÓN DE TEMP ESCAPE A4 D\"); // DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"nombreAnalogo29\", \"DESVIACIÓN DE TEMP ESCAPE A5 C\"); // DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"nombreAnalogo30\", \"DESVIACIÓN DE TEMP ESCAPE A5 D\"); // DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"nombreAnalogo31\", \"DESVIACIÓN DE TEMP ESCAPE A6 C\"); // DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"nombreAnalogo32\", \"DESVIACIÓN DE TEMP ESCAPE A6 D\"); // DESVIACIÓN DE TEMP ESCAPE A6 D\n\n\n// Sistema de agua de enfriamiento\nglobal.set(\"nombreAnalogo33\", \"PRESIÓN HT ENTRADA MOTOR\");\nglobal.set(\"nombreAnalogo34\", \"TEMPERATURA AGUA HT ENTRADA MOTOR\");\nglobal.set(\"nombreAnalogo35\", \"TEMPERATURA AGUA HT SALIDA MOTOR\");\nglobal.set(\"nombreAnalogo36\", \"TEMPERATURA AGUA HT SALIDA TURBO\");\nglobal.set(\"nombreAnalogo37\", \"PRESIÓN AGUA LT ENTRADA AFTERCOOLER\");\nglobal.set(\"nombreAnalogo38\", \"TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\");\nglobal.set(\"nombreAnalogo39\", \"TEMPERATURA AGUA LT SALIDA AFTERCOOLER\");\nglobal.set(\"nombreAnalogo40\", \"TEMPERATURA AGUA LT SALIDA ENFR. ACEITE\");\n\n// Temperatura de cilindros\nglobal.set(\"nombreAnalogo41\", \"CILINDRO 1 TEMPERATURA 1\");\nglobal.set(\"nombreAnalogo42\", \"CILINDRO 1 TEMPERATURA 2\");\nglobal.set(\"nombreAnalogo43\", \"CILINDRO 2 TEMPERATURA 1\");\nglobal.set(\"nombreAnalogo44\", \"CILINDRO 2 TEMPERATURA 2\");\nglobal.set(\"nombreAnalogo45\", \"CILINDRO 3 TEMPERATURA 1\");\nglobal.set(\"nombreAnalogo46\", \"CILINDRO 3 TEMPERATURA 2\");\nglobal.set(\"nombreAnalogo47\", \"CILINDRO 4 TEMPERATURA 1\");\nglobal.set(\"nombreAnalogo48\", \"CILINDRO 4 TEMPERATURA 2\");\nglobal.set(\"nombreAnalogo49\", \"CILINDRO 5 TEMPERATURA 1\");\nglobal.set(\"nombreAnalogo50\", \"CILINDRO 5 TEMPERATURA 2\");\nglobal.set(\"nombreAnalogo51\", \"CILINDRO 6 TEMPERATURA 1\");\nglobal.set(\"nombreAnalogo52\", \"CILINDRO 6 TEMPERATURA 2\");\n\n// Sistema de combustible y lubricante\nglobal.set(\"nombreAnalogo53\", \"PRES. COMB. ENTRADA MOTOR\");\nglobal.set(\"nombreAnalogo54\", \"TEMP. COMB. ENTRADA MOTOR\");\nglobal.set(\"nombreAnalogo55\", \"PRES. LUB. ENTRADA MOTOR\");\nglobal.set(\"nombreAnalogo56\", \"PRES. LUB. ENTRADA FILTRO\");\nglobal.set(\"nombreAnalogo57\", \"TEMP. LUB. ENTRADA MOTOR\");\nglobal.set(\"nombreAnalogo58\", \"TEMP. LUB. SALIDA ENFR. ACEITE\");\n\n// Desempeño motor\nglobal.set(\"nombreAnalogo59\", \"VELOCIDAD MOTOR\");\nglobal.set(\"nombreAnalogo60\", \"VELOCIDAD MOTOR BACKUP\");\nglobal.set(\"nombreAnalogo61\", \"FUEL RACK POSITION\");\nglobal.set(\"nombreAnalogo62\", \"VELOCIDAD TURBO\");\nglobal.set(\"nombreAnalogo63\", \"PRES. AIRE CARGA SALIDA\");\nglobal.set(\"nombreAnalogo64\", \"PRES. AIRE CARGA DIFF.\");\nglobal.set(\"nombreAnalogo65\", \"TEMP. AIRE CARGA SALIDA\");\nglobal.set(\"nombreAnalogo66\", \"TEMP. TURBO\");\nglobal.set(\"nombreAnalogo67\", \"TEMP. EXH. TC IN.2\");\nglobal.set(\"nombreAnalogo68\", \"TEMP. EXH. TC OUT\");\n\n// Valores análogos alarmas\nglobal.set(\"nombreAnalogo69\", \"TEMP. DESCANSO AXIAL\");\nglobal.set(\"nombreAnalogo70\", \"TEMP. ACEITE CAJA REDUCTORA\");\nglobal.set(\"nombreAnalogo71\", \"TEMP. BOBINA GEN COLA FASE 1\");\nglobal.set(\"nombreAnalogo72\", \"TEMP. BOBINA GEN COLA FASE 2\");\nglobal.set(\"nombreAnalogo73\", \"TEMP. BOBINA GEN COLA FASE 3\");\nglobal.set(\"nombreAnalogo74\", \"TEMP. RODAMIENTO GEN. COLA\");\nglobal.set(\"nombreAnalogo75\", \"TEMP. AIRE CARGA SALIDA AFTERCOOLER\");\nglobal.set(\"nombreAnalogo76\", \"PRESIÓN AGUA DE MAR\");\nglobal.set(\"nombreAnalogo77\", \"PRESIÓN AIRE PARTIDA\");\nglobal.set(\"nombreAnalogo78\", \"PRESIÓN AIRE DE CONTROL\");\n\n// Horómetro\nglobal.set(\"nombreAnalogo81\", \"Horas\");\nglobal.set(\"nombreAnalogo82\", \"Horas2\");\nglobal.set(\"nombreAnalogo83\", \"Minutos\");\nglobal.set(\"nombreAnalogo84\", \"Segundos\");\n\n//*************************************************************\n\n\n//*** Direcciones PLC Magnitudes de sensores para Alarmas *****\n// Temperaturas cigüeñal\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo1\", 250);  // MB-0\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo2\", 251);  // MB-1\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo3\", 252);  // MB-2\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo4\", 253);  // MB-3\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo5\", 254);  // MB-4\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo6\", 255);  // MB-5\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo7\", 256);  // MB-6\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo8\", 257);  // MB-7\n\n// Temperatura de gases de escape\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo79\", 175); // TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo80\", 177); // TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo9\", 138);  // A1 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo10\", 139); // A1 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo11\", 140); // A2 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo12\", 141); // A2 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo13\", 142); // A3 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo14\", 143); // A3 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo15\", 144); // A4 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo16\", 145); // A4 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo17\", 146); // A5 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo18\", 147); // A5 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo19\", 148); // A6 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo20\", 149); // A6 D\n\n// Desviación de temperatura escape\n//no implementado\n/*global.set(\"DireccionMagnitudAlarmaSensorAnalogo21\",); // DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo22\",); // DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo23\",); // DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo24\",); // DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo25\",); // DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo26\",); // DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo27\",); // DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo28\",); // DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo29\",); // DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo30\",); // DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo31\",); // DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo32\",); // DESVIACIÓN DE TEMP ESCAPE A6 D\n*/\n\n// Sistema de agua de enfriamiento\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo33\", 240); // PRESIÓN HT ENTRADA MOTOR\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo34\", 242); // TE401-BAJA TEMP AGUA HT ENTRADA MOTOR\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo35\", 243); // TEMPERATURA HT SALIDA MOTOR\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo36\",); // TEMPERATURA HT SALIDA TURBO\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo37\", 241); // PRESIÓN LT ENTRADA AFTERCOOLER\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo38\", 246); // TEMPERATURA LT ENTRADA AFTERCOOLER\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo39\",); // TEMPERATURA LT SALIDA AFTERCOOLER\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo40\",); // TEMPERATURA LT SALIDA ENFR. ACEITE\n\n// Temperatura de cilindros\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo41\", 312); // Cilindro 1 temperatura 1\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo42\", 313); // Cilindro 1 temperatura 2\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo43\", 314); // Cilindro 2 temperatura 1\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo44\", 315); // Cilindro 2 temperatura 2\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo45\", 316); // Cilindro 3 temperatura 1\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo46\", 317); // Cilindro 3 temperatura 2\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo47\", 318); // Cilindro 4 temperatura 1\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo48\", 320); // Cilindro 4 temperatura 2\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo49\", 319); // Cilindro 5 temperatura 1\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo50\", 321); // Cilindro 5 temperatura 2\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo51\", 322); // Cilindro 6 temperatura 1\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo52\", 323); // Cilindro 6 temperatura 2\n\n// Sistema de combustible y lubricante\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo53\", 181); // PRES. COMB. ENTRADA MOTOR\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo54\",); // TEMP. COMB. ENTRADA MOTOR\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo55\", 183); // PRES. LUB. ENTRADA MOTOR\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo56\", 185); // PRES. LUB. ENTRADA FILTRO\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo57\", 184); // TEMP. LUB. ENTRADA MOTOR\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo58\",); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n// Desempeño motor\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo59\",); // VELOCIDAD MOTOR\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo60\",); // VELOCIDAD MOTOR BACKUP\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo61\", 405); // FUEL RACK POSITION\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo62\",); // VELOCIDAD TURBO\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo63\", 203); // PRES. AIRE CARGA SALIDA\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo64\", 204); // PRES. AIRE CARGA DIFF.\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo65\",); // TEMP. AIRE CARGA SALIDA\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo66\",); // TEMP. TURBO\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo67\",); // TEMP. EXH. TC IN.2\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo68\",); // TEMP. EXH. TC OUT\n\n// Valores análogos alarmas (de 69 a 74 no genera alarmas)\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo69\",); // TEMP. DESCANSO AXIAL\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo70\",); // TEMP. ACEITE CAJA REDUCTORA\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo71\",); // TEMP. BOBINA GEN COLA FASE 1\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo72\",); // TEMP. BOBINA GEN COLA FASE 2\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo73\",); // TEMP. BOBINA GEN COLA FASE 3\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo74\",); // TEMP. RODAMIENTO GEN. COLA\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo75\", 205); // TEMP. AIRE CARGA SALIDA AFTERCOOLER\n//global.set(\"DireccionMagnitudAlarmaSensorAnalogo76\",); // PRESIÓN AGUA DE MAR\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo77\", 201); // PRESIÓN AIRE PARTIDAsa\n\nglobal.set(\"DireccionMagnitudAlarmaSensorAnalogo78\", 202); // PRESIÓN AIRE PARTIDA\n\n//*********************************************************************************\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "f34e2d485426966e",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "05399c94ea6fbd07",
        "name": "Nombres de alarmas",
        "func": "\n//REVISAR SI el número de alarma existe antes de agregar uno nuevo\n//ultimo agregado 161\n\n//**************************************************************\n//nombres de las alarmas\n// COMBUSTIBLE / LUBRICACIÓN\nglobal.set(\"nombreAlarma1\", \"PARTIDA BOMBA STBY FO\");\nglobal.set(\"nombreAlarma2\", \"FALLA BOMBA ALIMENTACION FO 1\");\nglobal.set(\"nombreAlarma3\", \"FALLA BOMBA ALIMENTACION FO 2\");\nglobal.set(\"nombreAlarma4\", \"FALLA BOMBA PRELUB\");\nglobal.set(\"nombreAlarma5\", \"PARTIDA BOMBA STBY LO\");\nglobal.set(\"nombreAlarma6\", \"FALLA BOMBA STBY CAJA RED\");\nglobal.set(\"nombreAlarma7\", \"ALARMA COMUN PURIF. ACEITE\");\nglobal.set(\"nombreAlarma8\", \"ALARMA COMUN PURIF. PETROLEO\");\nglobal.set(\"nombreAlarma9\", \"BOMBA PRELUB. TRIPEADA\");\nglobal.set(\"nombreAlarma10\", \"FILTRO FINO FO TAPADO\");\nglobal.set(\"nombreAlarma11\", \"LS103-FUGA COMBUSTIBLE, TUBO INYECCION\");\nglobal.set(\"nombreAlarma12\", \"LS108A-FUGA COMBUSTIBLE COMB SUCIO LADO VOLANTE\");\nglobal.set(\"nombreAlarma13\", \"PT101-PRESION DE COMBUSTIBLE ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma14\", \"PRELUB RUNNING MOTOR AUTO\");\nglobal.set(\"nombreAlarma15\", \"LS204-NIVEL ACEITE LUBRICANTE\");\nglobal.set(\"nombreAlarma16\", \"PT201-PRESION ACEITE LUB ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma17\", \"TE201-TEMP ACEITE LUB ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma18\", \"PT241-PRESION ACEITE LUB ENTRADA FILTRO\");\nglobal.set(\"nombreAlarma19\", \"BBA PRELUB STBY CORRIENDO\");\nglobal.set(\"nombreAlarma20\", \"FALLA BBA PRELUB STBY\");\n\n// AGUA ENFRIAMIENTO\nglobal.set(\"nombreAlarma21\", \"PARTIDA BOMBA STBY LT\");\nglobal.set(\"nombreAlarma22\", \"FALLA BOMBA STBY LT\");\nglobal.set(\"nombreAlarma23\", \"PARTIDA BOMBA STBY HT\");\nglobal.set(\"nombreAlarma24\", \"FALLA BOMBA STBY HT\");\nglobal.set(\"nombreAlarma25\", \"PT401-PRESION DE AGUA HT ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma26\", \"PT471-PRESION DE AGUA DE LT ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma27\", \"TE401-BAJA TEMP AGUA HT ENTRADA MOTOR\");\nglobal.set(\"nombreAlarma28\", \"TE402-TEMP AGUA HT SALIDA MOTOR\");\nglobal.set(\"nombreAlarma29\", \"TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\");\nglobal.set(\"nombreAlarma30\", \"TE472-TEMP AGUA LT SALIDA REFRIGERADOR AIRE CARGA\");\nglobal.set(\"nombreAlarma31\", \"TE482-TEMP AGUA LT SALIDA REFRIGERADOR ACEITE\");\nglobal.set(\"nombreAlarma32\", \"HT WATER STBY RUNNING AUTO\");\nglobal.set(\"nombreAlarma33\", \"LT WATER STBY RUNNING AUTO\");\nglobal.set(\"nombreAlarma34\", \"LUB OIL STBY RUNNING AUTO\");\nglobal.set(\"nombreAlarma35\", \"FUEL OIL STBY RUNNING AUTO\");\nglobal.set(\"nombreAlarma36\", \"REDUCCION CARGA AGUA HT\");\n\n// AIRE DE CARGA\nglobal.set(\"nombreAlarma37\", \"PT301-PRESION AIRE ARRANQUE\");\nglobal.set(\"nombreAlarma38\", \"PT311-PRESION AIRE CONTROL\");\nglobal.set(\"nombreAlarma39\", \"PT622-PRESION AIRE DE CARGA\");\nglobal.set(\"nombreAlarma40\", \"PDT623-DIFERENCIA PRESION SOBRECARGA AIRE\");\nglobal.set(\"nombreAlarma41\", \"TE622-TEMP AIRE CARGA CAC SALIDA\");\n\n// GASES DE ESCAPE\nglobal.set(\"nombreAlarma42\", \"TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\");\nglobal.set(\"nombreAlarma43\", \"TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\");\nglobal.set(\"nombreAlarma44\", \"ALTA TEMP ESCAPE A1 C-500°\");\nglobal.set(\"nombreAlarma45\", \"ALTA TEMP ESCAPE A1 D-500°\");\nglobal.set(\"nombreAlarma46\", \"ALTA TEMP ESCAPE A2 C-500°\");\nglobal.set(\"nombreAlarma47\", \"ALTA TEMP ESCAPE A2 D-500°\");\nglobal.set(\"nombreAlarma48\", \"ALTA TEMP ESCAPE A3 C-500°\");\nglobal.set(\"nombreAlarma49\", \"ALTA TEMP ESCAPE A3 D-500°\");\nglobal.set(\"nombreAlarma50\", \"ALTA TEMP ESCAPE A4 C-500°\");\nglobal.set(\"nombreAlarma51\", \"ALTA TEMP ESCAPE A4 D-500°\");\nglobal.set(\"nombreAlarma52\", \"ALTA TEMP ESCAPE A5 C-500°\");\nglobal.set(\"nombreAlarma53\", \"ALTA TEMP ESCAPE A5 D-500°\");\nglobal.set(\"nombreAlarma54\", \"ALTA TEMP ESCAPE A6 C-500°\");\nglobal.set(\"nombreAlarma55\", \"ALTA TEMP ESCAPE A6 D-500°\");\n\nglobal.set(\"nombreAlarma149\",  \"DESVIACIÓN DE TEMP ESCAPE A1 C\");\nglobal.set(\"nombreAlarma150\",  \"DESVIACIÓN DE TEMP ESCAPE A1 D\");\nglobal.set(\"nombreAlarma151\",  \"DESVIACIÓN DE TEMP ESCAPE A2 C\");\nglobal.set(\"nombreAlarma152\",  \"DESVIACIÓN DE TEMP ESCAPE A2 D\");\nglobal.set(\"nombreAlarma153\",  \"DESVIACIÓN DE TEMP ESCAPE A3 C\");\nglobal.set(\"nombreAlarma154\",  \"DESVIACIÓN DE TEMP ESCAPE A3 D\");\nglobal.set(\"nombreAlarma155\",  \"DESVIACIÓN DE TEMP ESCAPE A4 C\");\nglobal.set(\"nombreAlarma156\",  \"DESVIACIÓN DE TEMP ESCAPE A4 D\");\nglobal.set(\"nombreAlarma157\",  \"DESVIACIÓN DE TEMP ESCAPE A5 C\");\nglobal.set(\"nombreAlarma158\",  \"DESVIACIÓN DE TEMP ESCAPE A5 D\");\nglobal.set(\"nombreAlarma159\",  \"DESVIACIÓN DE TEMP ESCAPE A6 C\");\nglobal.set(\"nombreAlarma160\",  \"DESVIACIÓN DE TEMP ESCAPE A6 D\");\n\n\nglobal.set(\"nombreAlarma56\", \"TY516A-TEMP VALVULA ESC.DIFERENCIA A1\");\nglobal.set(\"nombreAlarma57\", \"TY517A-TEMP GAS ESCAPE DESVIACION A1\");\nglobal.set(\"nombreAlarma58\", \"TY526A-TEMP VALVULA ESC.DIFERENCIA A2\");\nglobal.set(\"nombreAlarma59\", \"TY527A-TEMP GAS ESCAPE DESVIACION A2\");\nglobal.set(\"nombreAlarma60\", \"TY536A-TEMP VALVULA ESC.DIFERENCIA A3\");\nglobal.set(\"nombreAlarma61\", \"TY537A-TEMP GAS ESCAPE DESVIACION A3\");\nglobal.set(\"nombreAlarma62\", \"TY546A-TEMP VALVULA ESC.DIFERENCIA A4\");\nglobal.set(\"nombreAlarma63\", \"TY547A-TEMP GAS ESCAPE DESVIACION A4\");\nglobal.set(\"nombreAlarma64\", \"TY556A-TEMP VALVULA ESC.DIFERENCIA A5\");\nglobal.set(\"nombreAlarma65\", \"TY557A-TEMP GAS ESCAPE DESVIACION A5\");\nglobal.set(\"nombreAlarma66\", \"TY566A-TEMP VALVULA ESC.DIFERENCIA A5\");\nglobal.set(\"nombreAlarma67\", \"TY567A-TEMP GAS ESCAPE DESVIACION A5\");\nglobal.set(\"nombreAlarma68\", \"REDUCCION CARGA GASES ESCAPE\");\nglobal.set(\"nombreAlarma69\", \"REDUCCION DE CARGA DESVIACION GASES ESCAPE\");\n\n// CIGÜEÑAL\nglobal.set(\"nombreAlarma70\", \"REDUCCION DE CARGA OIL MIST DETECTOR\");\nglobal.set(\"nombreAlarma71\", \"FALLA OIL MIST DETECTOR\");\nglobal.set(\"nombreAlarma72\", \"PT701-PRESION CRANKCASE\");\nglobal.set(\"nombreAlarma73\", \"ALTA TEMP MB0-110°\");\nglobal.set(\"nombreAlarma74\", \"ALTA TEMP MB1-110°\");\nglobal.set(\"nombreAlarma75\", \"ALTA TEMP MB2-110°\");\nglobal.set(\"nombreAlarma76\", \"ALTA TEMP MB3-110°\");\nglobal.set(\"nombreAlarma77\", \"ALTA TEMP MB4-110°\");\nglobal.set(\"nombreAlarma78\", \"ALTA TEMP MB5-110°\");\nglobal.set(\"nombreAlarma79\", \"ALTA TEMP MB6-110°\");\nglobal.set(\"nombreAlarma80\", \"ALTA TEMP MB7-110°\");\nglobal.set(\"nombreAlarma161\", \"AUTOPARADA ALTA CONCENTRACION GASES EN CARTER\");\n\n// CILINDROS\nglobal.set(\"nombreAlarma81\", \"TE711A-TEMP CILINDRO A1 1-160°\");\nglobal.set(\"nombreAlarma82\", \"TE712A-TEMP CILINDRO A1 2-160°\");\nglobal.set(\"nombreAlarma83\", \"TE721A-TEMP CILINDRO A2 1-160°\");\nglobal.set(\"nombreAlarma84\", \"TE722A-TEMP CILINDRO A2 2-160°\");\nglobal.set(\"nombreAlarma85\", \"TE731A-TEMP CILINDRO A3 1-160°\");\nglobal.set(\"nombreAlarma86\", \"TE732A-TEMP CILINDRO A3 2-160°\");\nglobal.set(\"nombreAlarma87\", \"TE741A-TEMP CILINDRO A4 1-160°\");\nglobal.set(\"nombreAlarma88\", \"TE742A-TEMP CILINDRO A4 2-160°\");\nglobal.set(\"nombreAlarma89\", \"TE751A-TEMP CILINDRO A5 1-160°\");\nglobal.set(\"nombreAlarma90\", \"TE752A-TEMP CILINDRO A5 2-160°\");\nglobal.set(\"nombreAlarma91\", \"TE761A-TEMP CILINDRO A6 1-160°\");\nglobal.set(\"nombreAlarma92\", \"TE762A-TEMP CILINDRO A6 2-160°\");\nglobal.set(\"nombreAlarma93\", \"REDUCCION POR CILINDRO\");\n\n// BLOQUEO PARADA\nglobal.set(\"nombreAlarma94\", \"AUTOPARADA AGUA HT\");\nglobal.set(\"nombreAlarma95\", \"AUTOPARADA SOBREVELOCIDAD\");\nglobal.set(\"nombreAlarma96\", \"AUTOPARADA BAJA PRESION ACEITE\");\nglobal.set(\"nombreAlarma97\", \"AUTOPARADA OIL MIST DETECTOR\");\n\n// MISCELÁNEOS\nglobal.set(\"nombreAlarma98\", \"FALLA ALIMENTACION TABLERO ALARMAS - SGM TITAN\");\nglobal.set(\"nombreAlarma99\", \"FALLA BOMBA AGUA MAR 2\");\nglobal.set(\"nombreAlarma100\", \"ALTO NIVEL SEPTICO\");\nglobal.set(\"nombreAlarma101\", \"ALARMA COMUN MOTOR AUX 3\");\nglobal.set(\"nombreAlarma102\", \"BAJA PRESION AIRE IP CONVERTER\");\nglobal.set(\"nombreAlarma103\", \"ALARMA COMUN MOTOR AUX 2\");\nglobal.set(\"nombreAlarma104\", \"FALLA PODER TARJETA PROTEX1000\");\nglobal.set(\"nombreAlarma105\", \"FALLA CRITICA TARJETA PROTEX1000\");\nglobal.set(\"nombreAlarma106\", \"FALLA CONTROL RSW TEKNOTHERM\");\nglobal.set(\"nombreAlarma107\", \"BAJO NIVEL COMB GENERADOR PROA\");\nglobal.set(\"nombreAlarma108\", \"FALLA PRECALENTADOR AGUA MPPAL\");\nglobal.set(\"nombreAlarma109\", \"FALLA BOMBA AGUA MAR 1\");\nglobal.set(\"nombreAlarma110\", \"FALLA UN1 PROPULSION RR\");\nglobal.set(\"nombreAlarma111\", \"FALLA UN1 PROPULSION RR BACKUP\");\nglobal.set(\"nombreAlarma112\", \"SS_174 FALLA PICKUP\");\nglobal.set(\"nombreAlarma113\", \"FALLA COMUNICACION PARALLEL LINK\");\nglobal.set(\"nombreAlarma114\", \"FALLA CONTROL RSW AQUATHERM\");\n\n// CAJA Y THRUSTER\nglobal.set(\"nombreAlarma115\", \"BAJO NIVEL TK GRAVED THRUSTER PROA\");\nglobal.set(\"nombreAlarma116\", \"BAJA PRESION LO RODAMIENTO\");\nglobal.set(\"nombreAlarma117\", \"BAJA PRES LO EMBR CAJA RED\");\nglobal.set(\"nombreAlarma118\", \"FILTRO LO CAJA TAPADO\");\nglobal.set(\"nombreAlarma119\", \"BAJO NIVEL ACEITE CAJA RED\");\nglobal.set(\"nombreAlarma120\", \"BAJO NIVEL TK GRAVED THRUSTER POPA\");\nglobal.set(\"nombreAlarma121\", \"BAJA PRESION ACEITE PPAL CAJA RED\");\nglobal.set(\"nombreAlarma122\", \"FILTRO TAPADO THRUSTER PROA\");\nglobal.set(\"nombreAlarma123\", \"FILTRO TAPADO THRUSTER POPA\");\nglobal.set(\"nombreAlarma124\", \"BAJA PRESION SERVO THRUSTER PROA\");\nglobal.set(\"nombreAlarma125\", \"BAJA PRESION SERVO THRUSTER POPA\");\nglobal.set(\"nombreAlarma126\", \"UN1 FALLA THRUSTER POPA\");\nglobal.set(\"nombreAlarma127\", \"UN1 FALLA THRUSTER POPA BACKUP\");\nglobal.set(\"nombreAlarma128\", \"UN1 FALLA THRUSTER PROA\");\nglobal.set(\"nombreAlarma129\", \"UN1 FALLA THRUSTER PROA BACKUP\");\n\n// SENTINAS\nglobal.set(\"nombreAlarma130\", \"ALTO NIVEL SENTINA SALA BOMBAS\");\nglobal.set(\"nombreAlarma131\", \"ALTO NIVEL SALA THRUSTER PROA\");\nglobal.set(\"nombreAlarma132\", \"ALTO NIVEL SENTINA SALA MAQUINA\");\nglobal.set(\"nombreAlarma133\", \"ALTO NIVEL SENTINA SALA TIMON\");\nglobal.set(\"nombreAlarma134\", \"ALTO NIVEL SENTINA SALA RSW\");\nglobal.set(\"nombreAlarma135\", \"ALTO NIVEL SENTINA SALA SONAR\");\nglobal.set(\"nombreAlarma136\", \"ALTO NIVEL SENTINA SALA DESCARGA\");\n\n// ESTANQUES\nglobal.set(\"nombreAlarma137\", \"BAJO NIVEL TK ACEITE HIDR PROA\");\nglobal.set(\"nombreAlarma138\", \"ALTO NIVEL TK DRENAJE FO\");\nglobal.set(\"nombreAlarma139\", \"ALTO NIVEL TK ACEITE SUCIO\");\nglobal.set(\"nombreAlarma140\", \"BAJO NIVEL TK ACEITE HIDR POPA\");\nglobal.set(\"nombreAlarma141\", \"BAJO NIVEL TK DIARIO COMBUSTIBLE\");\nglobal.set(\"nombreAlarma142\", \"BAJO NIVEL TK DIARIO PETROLEO\");\nglobal.set(\"nombreAlarma143\", \"BAJO NIVEL TK EXP MOTOR PPAL\");\n\n// LISTO PARA PARTIR\nglobal.set(\"nombreAlarma144\", \"PRESION ACEITE LUB MOTOR PRINCIPAL\");\nglobal.set(\"nombreAlarma145\", \"VIRADOR DEL EJE\");\nglobal.set(\"nombreAlarma146\", \"PALANCA POSICION\");\nglobal.set(\"nombreAlarma147\", \"MOTOR DETENIDO\");\nglobal.set(\"nombreAlarma148\", \"PRESION ACEITE LUB CAJA REDUCTORA\");\n//**************************************************************\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "f97ba19b57416dba",
        "type": "inject",
        "z": "26dda74cf2221d09",
        "g": "05399c94ea6fbd07",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 260,
        "wires": [
            [
                "c7ae47c685bf80d6",
                "91c52ceeb29687a4",
                "8ed4c86796e78e06",
                "8be5f93fb68afc47",
                "f34e2d485426966e",
                "da92344fad045c23",
                "20d58bfe573e4a2d"
            ]
        ]
    },
    {
        "id": "da92344fad045c23",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "05399c94ea6fbd07",
        "name": "Nombres de grupos de alarmas",
        "func": "global.set(\"nombreGrupoAlarmas1\", \"COMBUSTIBLE_/_LUBRICACIÓN\");\nglobal.set(\"nombreGrupoAlarmas2\", \"AGUA_ENFRIAMIENTO\");\nglobal.set(\"nombreGrupoAlarmas3\", \"AIRE_DE_CARGA\");\nglobal.set(\"nombreGrupoAlarmas4\", \"GASES_DE_ESCAPE\");\nglobal.set(\"nombreGrupoAlarmas5\", \"CIGÜEÑAL\");\nglobal.set(\"nombreGrupoAlarmas6\", \"CILINDROS\");\nglobal.set(\"nombreGrupoAlarmas7\", \"BLOQUEO_PARADA\");\nglobal.set(\"nombreGrupoAlarmas8\", \"MISCELÁNEOS\");\nglobal.set(\"nombreGrupoAlarmas9\", \"CAJA_Y_THRUSTER\");\nglobal.set(\"nombreGrupoAlarmas10\", \"SENTINA\");\nglobal.set(\"nombreGrupoAlarmas11\", \"ESTANQUES\");\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "20d58bfe573e4a2d",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "05399c94ea6fbd07",
        "name": "Nombres cortos mediciones analógicas",
        "func": "//*****************************************************\n// ***** Nombres cortos de mediciones analógicas ******\n//*****************************************************\n// Temperaturas cigüeñal\nglobal.set(\"nombreCortoAnalogo1\", \"DESC. MB-0\");\nglobal.set(\"nombreCortoAnalogo2\", \"DESC. MB-1\");\nglobal.set(\"nombreCortoAnalogo3\", \"DESC. MB-2\");\nglobal.set(\"nombreCortoAnalogo4\", \"DESC. MB-3\");\nglobal.set(\"nombreCortoAnalogo5\", \"DESC. MB-4\");\nglobal.set(\"nombreCortoAnalogo6\", \"DESC. MB-5\");\nglobal.set(\"nombreCortoAnalogo7\", \"DESC. MB-6\");\nglobal.set(\"nombreCortoAnalogo8\", \"DESC. MB-7\");\n\n// Temperatura de gases de escape\nglobal.set(\"nombreCortoAnalogo79\", \"ENT SOBREAL\");\nglobal.set(\"nombreCortoAnalogo80\", \"SAL SOBREAL\");\nglobal.set(\"nombreCortoAnalogo9\", \"A1-C\");\nglobal.set(\"nombreCortoAnalogo10\", \"A1-D\");\nglobal.set(\"nombreCortoAnalogo11\", \"A2-C\");\nglobal.set(\"nombreCortoAnalogo12\", \"A2-D\");\nglobal.set(\"nombreCortoAnalogo13\", \"A3-C\");\nglobal.set(\"nombreCortoAnalogo14\", \"A3-D\");\nglobal.set(\"nombreCortoAnalogo15\", \"A4-C\");\nglobal.set(\"nombreCortoAnalogo16\", \"A4-D\");\nglobal.set(\"nombreCortoAnalogo17\", \"A5-C\");\nglobal.set(\"nombreCortoAnalogo18\", \"A5-D\");\nglobal.set(\"nombreCortoAnalogo19\", \"A6-C\");\nglobal.set(\"nombreCortoAnalogo20\", \"A6-D\");\nglobal.set(\"nombreCortoAnalogo21\", \"A1-C\"); // DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"nombreCortoAnalogo22\", \"A1-D\"); // DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"nombreCortoAnalogo23\", \"A2-C\"); // DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"nombreCortoAnalogo24\", \"A2-D\"); // DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"nombreCortoAnalogo25\", \"A3-C\"); // DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"nombreCortoAnalogo26\", \"A3-D\"); // DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"nombreCortoAnalogo27\", \"A4-C\"); // DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"nombreCortoAnalogo28\", \"A4-D\"); // DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"nombreCortoAnalogo29\", \"A5-C\"); // DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"nombreCortoAnalogo30\", \"A5-D\"); // DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"nombreCortoAnalogo31\", \"A6-C\"); // DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"nombreCortoAnalogo32\", \"A6-D\"); // DESVIACIÓN DE TEMP ESCAPE A6 D\n\n\n// Sistema de agua de enfriamiento\nglobal.set(\"nombreCortoAnalogo33\", \"PRES HT ENT MOTOR\");\nglobal.set(\"nombreCortoAnalogo34\", \"TEMP HT ENT MOTOR\");\nglobal.set(\"nombreCortoAnalogo35\", \"TEMP HT SAL MOTOR\");\nglobal.set(\"nombreCortoAnalogo36\", \"TEMP HT SAL TURBO\");\nglobal.set(\"nombreCortoAnalogo37\", \"PRES LT ENT AFTERC\");\nglobal.set(\"nombreCortoAnalogo38\", \"TEMP LT ENT REF AIRE CARGA\");\nglobal.set(\"nombreCortoAnalogo39\", \"TEMP LT SAL AFTERCOOLER\");\nglobal.set(\"nombreCortoAnalogo40\", \"TEMP LT SAL ENFR. ACEITE\");\n\n// Temperatura de cilindros\nglobal.set(\"nombreCortoAnalogo41\", \"CIL 1 TEMP 1\");\nglobal.set(\"nombreCortoAnalogo42\", \"CIL 1 TEMP 2\");\nglobal.set(\"nombreCortoAnalogo43\", \"CIL 2 TEMP 1\");\nglobal.set(\"nombreCortoAnalogo44\", \"CIL 2 TEMP 2\");\nglobal.set(\"nombreCortoAnalogo45\", \"CIL 3 TEMP 1\");\nglobal.set(\"nombreCortoAnalogo46\", \"CIL 3 TEMP 2\");\nglobal.set(\"nombreCortoAnalogo47\", \"CIL 4 TEMP 1\");\nglobal.set(\"nombreCortoAnalogo48\", \"CIL 4 TEMP 2\");\nglobal.set(\"nombreCortoAnalogo49\", \"CIL 5 TEMP 1\");\nglobal.set(\"nombreCortoAnalogo50\", \"CIL 5 TEMP 2\");\nglobal.set(\"nombreCortoAnalogo51\", \"CIL 6 TEMP 1\");\nglobal.set(\"nombreCortoAnalogo52\", \"CIL 6 TEMP 2\");\n\n// Sistema de combustible y lubricante\nglobal.set(\"nombreCortoAnalogo53\", \"PRES COMB ENT MOTOR\");\nglobal.set(\"nombreCortoAnalogo54\", \"TEMP COMB ENT MOTOR\");\nglobal.set(\"nombreCortoAnalogo55\", \"PRES LUB ENT MOTOR\");\nglobal.set(\"nombreCortoAnalogo56\", \"PRES LUB ENT FILTRO\");\nglobal.set(\"nombreCortoAnalogo57\", \"TEMP LUB ENT MOTOR\");\nglobal.set(\"nombreCortoAnalogo58\", \"TEMP LUB SAL ENFR ACEITE\");\n\n// Desempeño motor\nglobal.set(\"nombreCortoAnalogo59\", \"VEL MOTOR\");\nglobal.set(\"nombreCortoAnalogo60\", \"VEL MOTOR BACKUP\");\nglobal.set(\"nombreCortoAnalogo61\", \"FUEL RACK POSITION\");\nglobal.set(\"nombreCortoAnalogo62\", \"VELOCIDAD TURBO\");\nglobal.set(\"nombreCortoAnalogo63\", \"PRES AIRE CARGA SAL\");\nglobal.set(\"nombreCortoAnalogo64\", \"PRES AIRE CARGA DIFF\");\nglobal.set(\"nombreCortoAnalogo65\", \"TEMP AIRE CARGA SAL\");\nglobal.set(\"nombreCortoAnalogo66\", \"TEMP TURBO\");\nglobal.set(\"nombreCortoAnalogo67\", \"TEMP EXH TC IN.2\");\nglobal.set(\"nombreCortoAnalogo68\", \"TEMP EXH TC OUT\");\n\n// Valores análogos alarmas\nglobal.set(\"nombreCortoAnalogo69\", \"T° DESC AXIAL\");\nglobal.set(\"nombreCortoAnalogo70\", \"T° ACEITE CAJA REDUCTORA\");\nglobal.set(\"nombreCortoAnalogo71\", \"T° BOB GEN COLA FASE 1\");\nglobal.set(\"nombreCortoAnalogo72\", \"T° BOB GEN COLA FASE 2\");\nglobal.set(\"nombreCortoAnalogo73\", \"T° BOB GEN COLA FASE 3\");\nglobal.set(\"nombreCortoAnalogo74\", \"T° ROD GEN. COLA\");\nglobal.set(\"nombreCortoAnalogo75\", \"T° AIRE CARGA SAL AFTERC\");\nglobal.set(\"nombreCortoAnalogo76\", \"PRES AGUA DE MAR\");\nglobal.set(\"nombreCortoAnalogo77\", \"PRES AIRE PARTIDA\");\nglobal.set(\"nombreCortoAnalogo78\", \"PRES AIRE CONTROL\");\n//*************************************************************\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "5ddca14904fdc27c",
        "type": "modbus-read",
        "z": "26dda74cf2221d09",
        "g": "a64751ba65d4a629",
        "name": "Modbus - Alarmas - PLC 40",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "0",
        "quantity": "1000",
        "rate": "1",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "e1f0f7d4395cef65",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 780,
        "y": 60,
        "wires": [
            [
                "fbb0cace6ed624d4"
            ],
            []
        ]
    },
    {
        "id": "fbb0cace6ed624d4",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "a64751ba65d4a629",
        "name": "Variables globales",
        "func": "let alarma = [];\n\n// COMBUSTIBLE / LUBRICACIÓN\nalarma[13] = msg.payload[902];   // PT101-PRESION DE COMBUSTIBLE ENTRADA MOTOR \nalarma[16] = msg.payload[905];   // PT201-PRESION  ACEITE LUB ENTRADA MOTOR \nalarma[17] = msg.payload[906];   // TE201-TEMP ACEITE LUB ENTRADA MOTOR \nalarma[18] = msg.payload[910];   // PT241-PRESION ACEITE LUB ENTRADA FILTRO \n\n// AGUA ENFRIAMIENTO\nalarma[25] = msg.payload[912];   // PT401-PRESION DE AGUA HT ENTRADA MOTOR \nalarma[26] = msg.payload[913];   // PT471-PRESION DE AGUA DE LT ENTRADA MOTOR \nalarma[27] = msg.payload[914];   // TE401-BAJA TEMP AGUA HT ENTRADA MOTOR \nalarma[28] = msg.payload[915];   // TE402 -TEMP AGUA HT SALIDA MOTOR \nalarma[29] = msg.payload[917];   // TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\nalarma[30] = msg.payload[918];   // TE472-TEMP AGUA LT SALIDA REFRIGERADOR AIRE CARGA\nalarma[31] = msg.payload[919];   // TE482-TEMP AGUA LT SALIDA REFRIGERADOR ACEITE\n\n// AIRE DE CARGA \nalarma[37] = msg.payload[920];   // PT301-PRESION AIRE ARRANQUE\nalarma[38] = msg.payload[921];   // PT311-PRESION AIRE CONTROL\nalarma[39] = msg.payload[922];   // PT622-PRESION AIRE DE CARGA \nalarma[40] = msg.payload[923];   // PDT623--DIFERENCIA PRESION SOBRECARGA AIRE\nalarma[41] = msg.payload[924];   // TE622-TEMP AIRE CARGA CAC SALIDA\n\n// GASES DE ESCAPE \nalarma[42] = msg.payload[926];   // TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\nalarma[43] = msg.payload[928];   // TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\nalarma[44] = msg.payload[71];   // ALTA TEMP ESCAPE A1 C-500°\nalarma[45] = msg.payload[72];   // ALTA TEMP ESCAPE A1 D-500°\nalarma[46] = msg.payload[73];   // ALTA TEMP ESCAPE A2 C-500°\nalarma[47] = msg.payload[74];   // ALTA TEMP ESCAPE A2 D-500°\nalarma[48] = msg.payload[75];   // ALTA TEMP ESCAPE A3 C-500°\nalarma[49] = msg.payload[76];   // ALTA TEMP ESCAPE A3 D-500°\nalarma[50] = msg.payload[77];   // ALTA TEMP ESCAPE A4 C-500°\nalarma[51] = msg.payload[78];   // ALTA TEMP ESCAPE A4 D-500°\nalarma[52] = msg.payload[79];   // ALTA TEMP ESCAPE A5 C-500°\nalarma[53] = msg.payload[80];   // ALTA TEMP ESCAPE A5 D-500°\nalarma[54] = msg.payload[81];   // ALTA TEMP ESCAPE A6 C-500°\nalarma[55] = msg.payload[82];   // ALTA TEMP ESCAPE A6 D-500°\nalarma[69] = msg.payload[400];   //REDUCCION DE CARGA DESVIACION TEMP GASES ESCAPE\nalarma[149] = msg.payload[108];  //DESVIACIÓN DE TEMP ESCAPE A1 C\nalarma[150] = msg.payload[109];  //DESVIACIÓN DE TEMP ESCAPE A1 D\nalarma[151] = msg.payload[110];  //DESVIACIÓN DE TEMP ESCAPE A2 C\nalarma[152] = msg.payload[111];  //DESVIACIÓN DE TEMP ESCAPE A2 D\nalarma[153] = msg.payload[112];  //DESVIACIÓN DE TEMP ESCAPE A3 C\nalarma[154] = msg.payload[113];  //DESVIACIÓN DE TEMP ESCAPE A3 D\nalarma[155] = msg.payload[114];  //DESVIACIÓN DE TEMP ESCAPE A4 C\nalarma[156] = msg.payload[115];  //DESVIACIÓN DE TEMP ESCAPE A4 D\nalarma[157] = msg.payload[116];  //DESVIACIÓN DE TEMP ESCAPE A5 C\nalarma[158] = msg.payload[117];  //DESVIACIÓN DE TEMP ESCAPE A5 D\nalarma[159] = msg.payload[118];  //DESVIACIÓN DE TEMP ESCAPE A6 C\nalarma[160] = msg.payload[119];  //DESVIACIÓN DE TEMP ESCAPE A6 D\n\n// CIGÜEÑAL \nalarma[72] = msg.payload[976];   // PT701-PRESION CRANIKCASE\n\n// CILINDROS \nalarma[81] = msg.payload[952];   // TE711A-TEMP CILINDRO A1 1-160°\nalarma[82] = msg.payload[953];   // TE712A-TEMP CILINDRO A1 2-160°\nalarma[83] = msg.payload[954];   // TE721A-TEMP CILINDRO A2 1-160°\nalarma[84] = msg.payload[955];   // TE72A-TEMP CILINDRO A2 2-160°\nalarma[85] = msg.payload[956];   // TE731A-TEMP CILINDRO A3 1-160°\nalarma[86] = msg.payload[957];   // TE732A-TEMP CILINDRO A3 2-160°\nalarma[87] = msg.payload[958];   // TE741A-TEMP CILINDRO A4 1-160°\nalarma[88] = msg.payload[960];   // TE742A-TEMP CILINDRO A4 2-160°\nalarma[89] = msg.payload[959];   // TE751A-TEMP CILINDRO A5 1-160°\nalarma[90] = msg.payload[961];   // TE752A-TEMP CILINDRO A5 2-160°\nalarma[91] = msg.payload[962];   // TE761A-TEMP CILINDRO A6 1-160°\nalarma[92] = msg.payload[963];   // TE762A-TEMP CILINDRO A6 2-160°\n\n// BLOQUEO PARADA \n\n// MISCELÁNEOS \n\n// CAJA Y THRUSTER \n\n// SENTINAS\n\n// ESTANQUES\n\n// LISTO PARA PARTIR \n\n\n\nvar reconocida = [];\n// COMBUSTIBLE / LUBRICACIÓN\nreconocida[13] = msg.payload[198];   // PT101-PRESION DE COMBUSTIBLE ENTRADA MOTOR \nreconocida[16] = msg.payload[200];   // PT201-PRESION  ACEITE LUB ENTRADA MOTOR \nreconocida[17] = msg.payload[201];   // TE201-TEMP ACEITE LUB ENTRADA MOTOR \nreconocida[18] = msg.payload[202];   // PT241-PRESION ACEITE LUB ENTRADA FILTRO \n\n// AGUA ENFRIAMIENTO\nreconocida[25] = msg.payload[204];   // PT401-PRESION DE AGUA HT ENTRADA MOTOR \nreconocida[26] = msg.payload[205];   // PT471-PRESION DE AGUA DE LT ENTRADA MOTOR \nreconocida[27] = msg.payload[206];   // TE401-BAJA TEMP AGUA HT ENTRADA MOTOR \nreconocida[28] = msg.payload[207];   // TE402 -TEMP AGUA HT SALIDA MOTOR \nreconocida[29] = msg.payload[209];   // TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\nreconocida[30] = msg.payload[210];   // TE472-TEMP AGUA LT SALIDA REFRIGERADOR AIRE CARGA\nreconocida[31] = msg.payload[211];   // TE482-TEMP AGUA LT SALIDA REFRIGERADOR ACEITE\n\n// AIRE DE CARGA \nreconocida[37] = msg.payload[212];   // PT301-PRESION AIRE ARRANQUE\nreconocida[38] = msg.payload[213];   // PT311-PRESION AIRE CONTROL\nreconocida[39] = msg.payload[214];   // PT622-PRESION AIRE DE CARGA \nreconocida[40] = msg.payload[215];   // PDT623--DIFERENCIA PRESION SOBRECARGA AIRE\nreconocida[41] = msg.payload[216];   // TE622-TEMP AIRE CARGA CAC SALIDA\n\n// GASES DE ESCAPE \nreconocida[42] = msg.payload[241];   // TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\nreconocida[43] = msg.payload[243];   // TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\nreconocida[44] = msg.payload[217];   // ALTA TEMP ESCAPE A1 C-500°\nreconocida[45] = msg.payload[218];   // ALTA TEMP ESCAPE A1 D-500°\nreconocida[46] = msg.payload[219];   // ALTA TEMP ESCAPE A2 C-500°\nreconocida[47] = msg.payload[220];   // ALTA TEMP ESCAPE A2 D-500°\nreconocida[48] = msg.payload[221];   // ALTA TEMP ESCAPE A3 C-500°\nreconocida[49] = msg.payload[222];   // ALTA TEMP ESCAPE A3 D-500°\nreconocida[50] = msg.payload[223];   // ALTA TEMP ESCAPE A4 C-500°\nreconocida[51] = msg.payload[224];   // ALTA TEMP ESCAPE A4 D-500°\nreconocida[52] = msg.payload[225];   // ALTA TEMP ESCAPE A5 C-500°\nreconocida[53] = msg.payload[226];   // ALTA TEMP ESCAPE A5 D-500°\nreconocida[54] = msg.payload[227];   // ALTA TEMP ESCAPE A6 C-500°\nreconocida[55] = msg.payload[228];   // ALTA TEMP ESCAPE A6 D-500°\nreconocida[69] = msg.payload[401];   // REDUCCION DE CARGA DESVIACION TEMP GASES ESCAPE\nreconocida[149] = msg.payload[229];  //DESVIACIÓN DE TEMP ESCAPE A1 C\nreconocida[150] = msg.payload[230];  //DESVIACIÓN DE TEMP ESCAPE A1 D\nreconocida[151] = msg.payload[231];  //DESVIACIÓN DE TEMP ESCAPE A2 C\nreconocida[152] = msg.payload[232];  //DESVIACIÓN DE TEMP ESCAPE A2 D\nreconocida[153] = msg.payload[233];  //DESVIACIÓN DE TEMP ESCAPE A3 C\nreconocida[154] = msg.payload[234];  //DESVIACIÓN DE TEMP ESCAPE A3 D\nreconocida[155] = msg.payload[235];  //DESVIACIÓN DE TEMP ESCAPE A4 C\nreconocida[156] = msg.payload[236];  //DESVIACIÓN DE TEMP ESCAPE A4 D\nreconocida[157] = msg.payload[237];  //DESVIACIÓN DE TEMP ESCAPE A5 C\nreconocida[158] = msg.payload[238];  //DESVIACIÓN DE TEMP ESCAPE A5 D\nreconocida[159] = msg.payload[239];  //DESVIACIÓN DE TEMP ESCAPE A6 C\nreconocida[160] = msg.payload[240];  //DESVIACIÓN DE TEMP ESCAPE A6 D\n\n// CIGÜEÑAL \nreconocida[72] = msg.payload[244];   // PT701-PRESION CRANIKCASE\n\n// CILINDROS \nreconocida[81] = msg.payload[245];   // TE711A-TEMP CILINDRO A1 1-160°\nreconocida[82] = msg.payload[246];   // TE712A-TEMP CILINDRO A1 2-160°\nreconocida[83] = msg.payload[247];   // TE721A-TEMP CILINDRO A2 1-160°\nreconocida[84] = msg.payload[248];   // TE722A-TEMP CILINDRO A2 2-160°\nreconocida[85] = msg.payload[249];   // TE731A-TEMP CILINDRO A3 1-160°\nreconocida[86] = msg.payload[250];   // TE732A-TEMP CILINDRO A3 2-160°\nreconocida[87] = msg.payload[251];   // TE741A-TEMP CILINDRO A4 1-160°\nreconocida[88] = msg.payload[252];   // TE742A-TEMP CILINDRO A4 2-160°\nreconocida[89] = msg.payload[253];   // TE751A-TEMP CILINDRO A5 1-160°\nreconocida[90] = msg.payload[254];   // TE752A-TEMP CILINDRO A5 2-160°\nreconocida[91] = msg.payload[255];   // TE761A-TEMP CILINDRO A6 1-160°\nreconocida[92] = msg.payload[256];   // TE762A-TEMP CILINDRO A6 2-160°\n\n// BLOQUEO PARADA \n\n// MISCELÁNEOS \n\n// CAJA Y THRUSTER \n\n// SENTINAS\n\n// ESTANQUES\n\n// LISTO PARA PARTIR\n\n\n\nvar inhibido = [];\n// COMBUSTIBLE / LUBRICACIÓN\ninhibido[13] = msg.payload[126];   // PT101-PRESION DE COMBUSTIBLE ENTRADA MOTOR \ninhibido[16] = msg.payload[128];   // PT201-PRESION  ACEITE LUB ENTRADA MOTOR \ninhibido[17] = msg.payload[129];   // TE201-TEMP ACEITE LUB ENTRADA MOTOR \ninhibido[18] = msg.payload[130];   // PT241-PRESION ACEITE LUB ENTRADA FILTRO \n\n// AGUA ENFRIAMIENTO\ninhibido[25] = msg.payload[138];   // PT401-PRESION DE AGUA HT ENTRADA MOTOR \ninhibido[26] = msg.payload[139];   // PT471-PRESION DE AGUA DE LT ENTRADA MOTOR \ninhibido[27] = msg.payload[140];   // TE401-BAJA TEMP AGUA HT ENTRADA MOTOR \ninhibido[28] = msg.payload[141];   // TE402 -TEMP AGUA HT SALIDA MOTOR \ninhibido[29] = msg.payload[143];   // TE471-TEMP AGUA LT ENTRADA REFRIGERADOR AIRE CARGA\ninhibido[30] = msg.payload[144];   // TE472-TEMP AGUA LT SALIDA REFRIGERADOR AIRE CARGA\ninhibido[31] = msg.payload[145];   // TE482-TEMP AGUA LT SALIDA REFRIGERADOR ACEITE\n\n// AIRE DE CARGA \ninhibido[37] = msg.payload[154];   // PT301-PRESION AIRE ARRANQUE\ninhibido[38] = msg.payload[155];   // PT311-PRESION AIRE CONTROL\ninhibido[39] = msg.payload[156];   // PT622-PRESION AIRE DE CARGA \ninhibido[40] = msg.payload[157];   // PDT623--DIFERENCIA PRESION SOBRECARGA AIRE\ninhibido[41] = msg.payload[158];   // TE622-TEMP AIRE CARGA CAC SALIDA\n\n// GASES DE ESCAPE \ninhibido[42] = msg.payload[120];   // TE511-TEMP GASES ESCAPE ENTRADA SOBREALIM\ninhibido[43] = msg.payload[122];   // TE517-TEMP GASES ESCAPE SALIDA SOBREALIM\ninhibido[44] = msg.payload[47];   // ALTA TEMP ESCAPE A1 C-500°\ninhibido[45] = msg.payload[48];   // ALTA TEMP ESCAPE A1 D-500°\ninhibido[46] = msg.payload[49];   // ALTA TEMP ESCAPE A2 C-500°\ninhibido[47] = msg.payload[50];   // ALTA TEMP ESCAPE A2 D-500°\ninhibido[48] = msg.payload[51];   // ALTA TEMP ESCAPE A3 C-500°\ninhibido[49] = msg.payload[52];   // ALTA TEMP ESCAPE A3 D-500°\ninhibido[50] = msg.payload[53];   // ALTA TEMP ESCAPE A4 C-500°\ninhibido[51] = msg.payload[54];   // ALTA TEMP ESCAPE A4 D-500°\ninhibido[52] = msg.payload[55];   // ALTA TEMP ESCAPE A5 C-500°\ninhibido[53] = msg.payload[56];   // ALTA TEMP ESCAPE A5 D-500°\ninhibido[54] = msg.payload[57];   // ALTA TEMP ESCAPE A6 C-500°\ninhibido[55] = msg.payload[58];   // ALTA TEMP ESCAPE A6 D-500°\ninhibido[69] = msg.payload[402]   // REDUCCION DE CARGA DESVIACION TEMP GASES ESCAPE\ninhibido[149] = msg.payload[84];  //DESVIACIÓN DE TEMP ESCAPE A1 C\ninhibido[150] = msg.payload[85];  //DESVIACIÓN DE TEMP ESCAPE A1 D\ninhibido[151] = msg.payload[86];  //DESVIACIÓN DE TEMP ESCAPE A2 C\ninhibido[152] = msg.payload[87];  //DESVIACIÓN DE TEMP ESCAPE A2 D\ninhibido[153] = msg.payload[88];  //DESVIACIÓN DE TEMP ESCAPE A3 C\ninhibido[154] = msg.payload[89];  //DESVIACIÓN DE TEMP ESCAPE A3 D\ninhibido[155] = msg.payload[90];  //DESVIACIÓN DE TEMP ESCAPE A4 C\ninhibido[156] = msg.payload[91];  //DESVIACIÓN DE TEMP ESCAPE A4 D\ninhibido[157] = msg.payload[92];  //DESVIACIÓN DE TEMP ESCAPE A5 C\ninhibido[158] = msg.payload[93];  //DESVIACIÓN DE TEMP ESCAPE A5 D\ninhibido[159] = msg.payload[94];  //DESVIACIÓN DE TEMP ESCAPE A6 C\ninhibido[160] = msg.payload[95];  //DESVIACIÓN DE TEMP ESCAPE A6 D\n\n// CIGÜEÑAL \ninhibido[72] = msg.payload[167];   // PT701-PRESION CRANIKCASE\n\n// CILINDROS \ninhibido[81] = msg.payload[300];   // TE711A-TEMP CILINDRO A1 1-160°\ninhibido[82] = msg.payload[301];   // TE712A-TEMP CILINDRO A1 2-160°\ninhibido[83] = msg.payload[302];   // TE721A-TEMP CILINDRO A2 1-160°\ninhibido[84] = msg.payload[303];   // TE722A-TEMP CILINDRO A2 2-160°\ninhibido[85] = msg.payload[304];   // TE731A-TEMP CILINDRO A3 1-160°\ninhibido[86] = msg.payload[305];   // TE732A-TEMP CILINDRO A3 2-160°\ninhibido[87] = msg.payload[306];   // TE741A-TEMP CILINDRO A4 1-160°\ninhibido[88] = msg.payload[308];   // TE742A-TEMP CILINDRO A4 2-160°\ninhibido[89] = msg.payload[307];   // TE751A-TEMP CILINDRO A5 1-160°\ninhibido[90] = msg.payload[309];   // TE752A-TEMP CILINDRO A5 2-160°\ninhibido[91] = msg.payload[310];   // TE761A-TEMP CILINDRO A6 1-160°\ninhibido[92] = msg.payload[311];   // TE762A-TEMP CILINDRO A6 2-160°\n\n// BLOQUEO PARADA \n\n// MISCELÁNEOS \n\n// inhibido[114] = msg.payload[43];   // FALLA CONTROL RSW AQUATHERM\n\n// CAJA Y THRUSTER \n\n// SENTINAS\n\n// ESTANQUES\n\n// LISTO PARA PARTIR \n\n\n\n\n//****** variables globales *******\n\n// estado de alarmas\nglobal.set(\"global_actualizarBotones\", \"noActualizar\")\nlet listado = global.get(\"numAlarmasPLC40\");\nfor (let i of listado){\n    if (global.get(\"numAlarmasPLC40\").includes(i)){\n        if(alarma[i] != global.get(\"alarma_estadoAnterior\" + i) ||  reconocida[i] != global.get(\"reconocida_estadoAnterior\" + i)){\n            if (reconocida[i] && alarma[i]) {\n                global.set(\"global_alarma\" + i, \"activa_reconocida\");\n            } else if (!reconocida[i] && alarma[i]) {\n                global.set(\"global_alarma\" + i, \"activa_noReconocida\");\n            }else {\n                global.set(\"global_alarma\" + i, \"inactiva_reconocida\");\n            }\n            global.set(\"global_actualizarBotones\", \"actualizar\");\n        }\n    }\n}\n\n// Estado de inhibición\nglobal.set(\"global_actualizarInhibidos\", \"noActualizar\")\nfor (let i of listado){\n    if (global.get(\"numAlarmasPLC40\").includes(i)) {\n        if(inhibido[i] != global.get(\"inhibido_estadoAnterior\" + i)){\n            if(inhibido[i])\n                global.set(\"alarmaInhibida\" + i, \"inhibida\");\n            else\n                global.set(\"alarmaInhibida\" + i, \"noInhibida\");\n            global.set(\"global_actualizarInhibidos\", \"actualizar\")\n        }\n    }\n}\n\n//Se actualiza variables del estado anterior\nfor (let i of listado){\n    if (global.get(\"numAlarmasPLC40\").includes(i)) {\n        global.set(\"alarma_estadoAnterior\" + i, alarma[i]);\n        global.set(\"reconocida_estadoAnterior\" + i, reconocida[i]);\n        global.set(\"inhibido_estadoAnterior\" + i, inhibido[i]); \n    }\n}\n\n\n\n\n\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1030,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "1218c7100e3e4163",
        "type": "inject",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "Cada 1 segundo",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 880,
        "wires": [
            [
                "7adbfc71f6caab89",
                "85acd5e45ee21a7e",
                "5778edad74842f41",
                "4209f2bb214fe290"
            ]
        ]
    },
    {
        "id": "d3156383a4dc595b",
        "type": "modbus-flex-getter",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "e1f0f7d4395cef65",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 610,
        "y": 840,
        "wires": [
            [
                "0e4c44f1cc7973b8"
            ],
            []
        ]
    },
    {
        "id": "7adbfc71f6caab89",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "function 6",
        "func": "msg.payload = {\n    \"unitid\" : 1,\n    \"fc\": 3,\n    \"address\": 0,\n    \"quantity\": 125\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 840,
        "wires": [
            [
                "d3156383a4dc595b"
            ]
        ]
    },
    {
        "id": "378ffba55a593639",
        "type": "modbus-flex-getter",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "e1f0f7d4395cef65",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 610,
        "y": 900,
        "wires": [
            [
                "4b5f62ecde4fa656"
            ],
            []
        ]
    },
    {
        "id": "85acd5e45ee21a7e",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "function 7",
        "func": "msg.payload = {\n    \"unitid\" : 1,\n    \"fc\": 3,\n    \"address\": 125,\n    \"quantity\": 125\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 900,
        "wires": [
            [
                "378ffba55a593639"
            ]
        ]
    },
    {
        "id": "96a8c762c955510b",
        "type": "modbus-flex-getter",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "e1f0f7d4395cef65",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 610,
        "y": 960,
        "wires": [
            [
                "0b2cd73fcdacd9c1"
            ],
            []
        ]
    },
    {
        "id": "5778edad74842f41",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "function 8",
        "func": "msg.payload = {\n    \"unitid\" : 1,\n    \"fc\": 3,\n    \"address\": 250,\n    \"quantity\": 125\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 960,
        "wires": [
            [
                "96a8c762c955510b"
            ]
        ]
    },
    {
        "id": "4b5f62ecde4fa656",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "Lectura PLC de 125 a 249, PLC 40",
        "func": "// Asegurarse de que msg.payload tenga al menos un valor\nif (!Array.isArray(msg.payload) || msg.payload.length < 1) {\n    return msg;\n}\n\n//Obtiene valores positivos o negativos desde el PLC: word signed\nfor(let i = 0; i < 125; i++){\n    if (msg.payload[i] > 32767) { //negativo\n            msg.payload[i] = msg.payload[i] - 65536;\n        }\n}\n\n//**************** Valores Delay de alarmas ******************\n//Segundo bloque de 125 palabras modbus, por lo que se debe restar 125 al leer el payload\nlet corrimientoPorBloqueModbus = 125;\n\nlet listado = global.get(\"numAlarmasPLC40\");\nfor (let i of listado) {\n    let dirDelay = global.get(\"direccionDelayAlarma\" + i);\n    if (dirDelay >= 125 && dirDelay < 250) {\n        let valor = msg.payload[dirDelay - corrimientoPorBloqueModbus];\n        //Negativo ?\n        if (valor > 32767) { //negativo\n            valor = valor - 65536;\n        }\n        global.set(\"delayAlarma\" + i, valor)\n    }\n}\n//***************************************************************\n\n\n//*************** Valores mediciones analógicas\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n/* Hay que implementar en el PLC, no está disponible esa medición\nglobal.set(\"valorAnalogo21\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"valorAnalogo22\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"valorAnalogo23\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"valorAnalogo24\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"valorAnalogo25\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"valorAnalogo26\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"valorAnalogo27\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"valorAnalogo28\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"valorAnalogo29\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"valorAnalogo30\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"valorAnalogo31\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"valorAnalogo32\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A6 D\n*/\n\n//*** SISTEMA AGUA ENFRIAMIENTO\n//global.set(\"valorAnalogo34\", msg.payload[- corrimientoPorBloqueModbus]); // TEMP. AGUA HT ENTRADA MOTOR\n//global.set(\"valorAnalogo36\", msg.payload[]); // TEMP. AGUA HT SALIDA TURBO\n//global.set(\"valorAnalogo39\", msg.payload[]); // TEMP. AGUA LT SALIDA AFTERCOOLER\n//global.set(\"valorAnalogo40\", msg.payload[]); // TEMP. LT SALIDA AFTERCOOLER ACEITE\n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n//global.set(\"valorAnalogo53\", msg.payload[]); // PRES. COMB. ENTRADA MOTOR\nglobal.set(\"valorAnalogo54\", msg.payload[215 - corrimientoPorBloqueModbus]); // TEMP. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo55\", msg.payload[]); // PRES. LUB. ENTRADA MOTOR\n//global.set(\"valorAnalogo56\", msg.payload[]); // PRES. LUB. ENTRADA FILTRO\n//global.set(\"valorAnalogo57\", msg.payload[]); // TEMP. LUB. ENTRADA MOTOR\n//global.set(\"valorAnalogo58\", msg.payload[]); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n//*** DESEMPEÑO MOTOR\n//global.set(\"valorAnalogo61\", msg.payload[]); // FUEL RACK POS.\n//global.set(\"valorAnalogo62\", msg.payload[]); // VELOCIDAD TURBO\n//global.set(\"valorAnalogo65\", msg.payload[]); // TEMP. AIRE CARGA SALIDA\n//global.set(\"valorAnalogo66\", msg.payload[]); // TEMP. TURBO\n//global.set(\"valorAnalogo67\", msg.payload[]); // TEMP. EXH. TC IN 2\n//global.set(\"valorAnalogo68\", msg.payload[]); // TEMP. EXH. TC OUT\n\n\n//*** VALORES ANÁLOGOS ALARMAS\n//global.set(\"valorAnalogo70\", msg.payload[]); // TEMP. ACEITE CAJA REDUCTORA\n//*****************************************************\n\n//Valor especial: horómetro\n//*** Horómetro */\nglobal.set(\"valorAnalogo83\", msg.payload[224 - corrimientoPorBloqueModbus]); // Minutos\nglobal.set(\"valorAnalogo84\", msg.payload[222 - corrimientoPorBloqueModbus]); // Segundos\n\n\n\n\n//******************************************************************* */\n//************* Magnitudes de sensores para Alarmas ******************/\n///******************************************************************* */\n\n//*** TEMPERATURAS CIGÜEÑAL\n//global.set(\"MagnitudAlarmaSensorAnalogo\", global.get(\"DireccionMagnitudAlarmaSensorAnalogo\"));\n\n//*** TEMPERATURA GASES DE ESCAPE\nglobal.set(\"MagnitudAlarmaSensorAnalogo79\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo79\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo80\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo80\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo9\",  msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo9\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo10\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo10\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo11\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo11\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo12\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo12\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo13\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo13\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo14\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo14\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo15\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo15\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo16\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo16\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo17\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo17\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo18\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo18\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo19\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo19\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo20\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo20\") - corrimientoPorBloqueModbus]);\n\n//*** SISTEMA AGUA ENFRIAMIENTO \nglobal.set(\"MagnitudAlarmaSensorAnalogo33\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo33\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo35\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo35\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo34\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo34\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo37\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo37\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo38\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo38\") - corrimientoPorBloqueModbus]);\n\n//*** TEMPERATURA DE CILINDROS\n\n\n//*** COMBUSTIBLE Y LUBRICANTE\nglobal.set(\"MagnitudAlarmaSensorAnalogo53\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo53\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo55\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo55\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo56\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo56\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo57\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo57\") - corrimientoPorBloqueModbus]);\n\n//*** DESEMPEÑO MOTOR \nglobal.set(\"MagnitudAlarmaSensorAnalogo63\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo63\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo64\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo64\") - corrimientoPorBloqueModbus]);\n\n//*** VALORES ANÁLOGOS ALARMAS\nglobal.set(\"MagnitudAlarmaSensorAnalogo75\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo75\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo77\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo77\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo78\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo78\") - corrimientoPorBloqueModbus]);\n\n//*************************************************************************\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 900,
        "wires": [
            []
        ]
    },
    {
        "id": "0b2cd73fcdacd9c1",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "Lectura PLC de 250 a 374, PLC40",
        "func": "// Asegurarse de que msg.payload tenga al menos un valor\nif (!Array.isArray(msg.payload) || msg.payload.length < 1) {\n    return msg;\n}\n\n//Obtiene valores positivos o negativos desde el PLC: word signed\nfor(let i = 0; i < 125; i++){\n    if (msg.payload[i] > 32767) { //negativo\n            msg.payload[i] = msg.payload[i] - 65536;\n        }\n}\n\n//**************** Valores Delay de alarmas ******************\n//Tercer bloque de 125 palabras modbus, por lo que se debe restar 250 al leer el payload\nlet corrimientoPorBloqueModbus = 250;\n\nlet listado = global.get(\"numAlarmasPLC40\");\nfor (let i of listado) {\n    let dirDelay = global.get(\"direccionDelayAlarma\" + i);    \n    if (dirDelay >= 250 && dirDelay < 375) {\n        let valor = msg.payload[dirDelay - corrimientoPorBloqueModbus];\n        //Negativo ?\n        if (valor > 32767) { //negativo\n            valor = valor - 65536;\n        }\n        global.set(\"delayAlarma\" + i, valor)\n    }\n}\n//***************************************************************\n\n//*************** Valores mediciones analógicas\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n/* Hay que implementar en el PLC, no está disponible esa medición\nglobal.set(\"valorAnalogo21\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"valorAnalogo22\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"valorAnalogo23\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"valorAnalogo24\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"valorAnalogo25\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"valorAnalogo26\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"valorAnalogo27\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"valorAnalogo28\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"valorAnalogo29\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"valorAnalogo30\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"valorAnalogo31\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"valorAnalogo32\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A6 D\n*/\n\n//*** SISTEMA AGUA ENFRIAMIENTO\n//global.set(\"valorAnalogo34\", msg.payload[]); // TEMP. AGUA HT ENTRADA MOTOR\n//global.set(\"valorAnalogo36\", msg.payload[]); // TEMP. AGUA HT SALIDA TURBO\n//global.set(\"valorAnalogo39\", msg.payload[]); // TEMP. AGUA LT SALIDA AFTERCOOLER\n//global.set(\"valorAnalogo40\", msg.payload[]); // TEMP. LT SALIDA AFTERCOOLER ACEITE\n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n//global.set(\"valorAnalogo54\", msg.payload[]); // TEMP. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo58\", msg.payload[]); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n//*** DESEMPEÑO MOTOR\n//global.set(\"valorAnalogo61\", msg.payload[]); // FUEL RACK POS.\n//global.set(\"valorAnalogo62\", msg.payload[]); // VELOCIDAD TURBO\n//global.set(\"valorAnalogo65\", msg.payload[]); // TEMP. AIRE CARGA SALIDA\n//global.set(\"valorAnalogo66\", msg.payload[]); // TEMP. TURBO\n//global.set(\"valorAnalogo67\", msg.payload[]); // TEMP. EXH. TC IN 2\n//global.set(\"valorAnalogo68\", msg.payload[]); // TEMP. EXH. TC OUT\n\n\n//*** VALORES ANÁLOGOS ALARMAS\n//global.set(\"valorAnalogo70\", msg.payload[]); // TEMP. ACEITE CAJA REDUCTORA\n//*****************************************************\n\n\n//******************************************************************* */\n//************* Magnitudes de sensores para Alarmas ******************/\n///******************************************************************* */\n\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n\n//*** TEMPERATURA DE CILINDROS\nglobal.set(\"MagnitudAlarmaSensorAnalogo41\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo41\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo42\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo42\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo43\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo43\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo44\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo44\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo45\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo45\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo46\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo46\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo47\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo47\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo48\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo48\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo49\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo49\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo50\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo50\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo51\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo51\") - corrimientoPorBloqueModbus]);\nglobal.set(\"MagnitudAlarmaSensorAnalogo52\", msg.payload[global.get(\"DireccionMagnitudAlarmaSensorAnalogo52\") - corrimientoPorBloqueModbus]);\n\n//*** COMBUSTIBLE Y LUBRICANTE\n\n//*** DESEMPEÑO MOTOR \n\n//*** VALORES ANÁLOGOS ALARMAS\n\n//*************************************************************************\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 960,
        "wires": [
            []
        ]
    },
    {
        "id": "4209f2bb214fe290",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "function 9",
        "func": "msg.payload = {\n    \"unitid\" : 1,\n    \"fc\": 3,\n    \"address\": 375,\n    \"quantity\": 125\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 1020,
        "wires": [
            [
                "82503762aa2843c9"
            ]
        ]
    },
    {
        "id": "fac30a2e99ae6b6b",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "Lectura PLC de 375 a 499, PLC499",
        "func": "// Asegurarse de que msg.payload tenga al menos un valor\nif (!Array.isArray(msg.payload) || msg.payload.length < 1) {\n    return msg;\n}\n\n//Tercer bloque de 125 palabras modbus, por lo que se debe restar 250 al leer el payload\nlet corrimientoPorBloqueModbus = 375;\n\n//Valor especial: horómetro\n//*** Horómetro */\nglobal.set(\"valorAnalogo81\", msg.payload[413 - corrimientoPorBloqueModbus]); // Horas 1 doble word, primeros 16 bits\nglobal.set(\"valorAnalogo82\", msg.payload[414 - corrimientoPorBloqueModbus]); // Horas 2 doble word, segundos 16 bits\n\n//Obtiene valores positivos o negativos desde el PLC: word signed\nfor(let i = 0; i < 125; i++){\n    if (msg.payload[i] > 32767) { //negativo\n            msg.payload[i] = msg.payload[i] - 65536;\n        }\n}\n\n//**************** Valores Delay de alarmas ******************\nlet listado = global.get(\"numAlarmasPLC40\");\nfor (let i of listado) {\n    let dirDelay = global.get(\"direccionDelayAlarma\" + i);    \n    if (dirDelay >= 375 && dirDelay < 500) {\n        let valor = msg.payload[dirDelay - corrimientoPorBloqueModbus];\n        //Negativo ?\n        if (valor > 32767) { //negativo\n            valor = valor - 65536;\n        }\n        global.set(\"delayAlarma\" + i, valor)\n    }\n}\n//***************************************************************\n\n//*************** Valores mediciones analógicas\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n/* Hay que implementar en el PLC, no está disponible esa medición\nglobal.set(\"valorAnalogo21\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"valorAnalogo22\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"valorAnalogo23\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"valorAnalogo24\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"valorAnalogo25\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"valorAnalogo26\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"valorAnalogo27\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"valorAnalogo28\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"valorAnalogo29\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"valorAnalogo30\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"valorAnalogo31\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"valorAnalogo32\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A6 D\n*/\n\n//*** SISTEMA AGUA ENFRIAMIENTO\nglobal.set(\"valorAnalogo33\", (msg.payload[400 - corrimientoPorBloqueModbus])/10.0); // PT401 PRESIÓN AGUA HT ENTRADA MOTOR\n//global.set(\"valorAnalogo34\", msg.payload[]); // TEMP. AGUA HT ENTRADA MOTOR\n//global.set(\"valorAnalogo35\", msg.payload[]); // TEMP. AGUA HT SALIDA MOTOR\n//global.set(\"valorAnalogo36\", msg.payload[]); // TEMP. AGUA HT SALIDA TURBO\nglobal.set(\"valorAnalogo37\", (msg.payload[404 - corrimientoPorBloqueModbus]) /10.0); // PT471 PRESIÓN AGUA LT ENTRADA AFTERCOOLER\n//global.set(\"valorAnalogo38\", msg.payload[]); // TEMP. AGUA LT ENTRADA AFTERCOOLER\n//global.set(\"valorAnalogo39\", msg.payload[]); // TEMP. AGUA LT SALIDA AFTERCOOLER\n//global.set(\"valorAnalogo40\", msg.payload[]); // TEMP. LT SALIDA AFTERCOOLER ACEITE\n\n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\nglobal.set(\"valorAnalogo53\", (msg.payload[401 - corrimientoPorBloqueModbus])/10.0); // PT101 PRES. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo54\", msg.payload[]); // TEMP. COMB. ENTRADA MOTOR\nglobal.set(\"valorAnalogo55\", (msg.payload[402 - corrimientoPorBloqueModbus])/10.0); // PT201 PRES. LUB. ENTRADA MOTOR\nglobal.set(\"valorAnalogo56\", (msg.payload[403 - corrimientoPorBloqueModbus])/10.0); // PT241 PRES. LUB. ENTRADA FILTRO\n//global.set(\"valorAnalogo57\", msg.payload[]); // TEMP. LUB. ENTRADA MOTOR\n//global.set(\"valorAnalogo58\", msg.payload[]); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n//*** DESEMPEÑO MOTOR\nglobal.set(\"valorAnalogo61\", (msg.payload[405 - corrimientoPorBloqueModbus])/10.0); // FUEL RACK POS.\n//global.set(\"valorAnalogo62\", msg.payload[]); // VELOCIDAD TURBO\nglobal.set(\"valorAnalogo63\", (msg.payload[410 - corrimientoPorBloqueModbus])/10.0); // PRES. AIRE CARGA SALIDA\nglobal.set(\"valorAnalogo64\", (msg.payload[411 - corrimientoPorBloqueModbus])/10.0); // PRES. AIRE CARGA DIFF.\n//global.set(\"valorAnalogo65\", msg.payload[]); // TEMP. AIRE CARGA SALIDA\n//global.set(\"valorAnalogo66\", msg.payload[]); // TEMP. TURBO\n//global.set(\"valorAnalogo67\", msg.payload[]); // TEMP. EXH. TC IN 2\n//global.set(\"valorAnalogo68\", msg.payload[]); // TEMP. EXH. TC OUT\n\n\n//*** VALORES ANÁLOGOS ALARMAS\n//global.set(\"valorAnalogo70\", msg.payload[]); // TEMP. ACEITE CAJA REDUCTORA\nglobal.set(\"valorAnalogo76\", (msg.payload[406 - corrimientoPorBloqueModbus])/10.0); // PRESIÓN AGUA MAR\nglobal.set(\"valorAnalogo77\", (msg.payload[407 - corrimientoPorBloqueModbus])/10.0); // PT301 PRESIÓN AIRE PARTIDA\n//*****************************************************\n\n\n\n//******************************************************************* */\n//************* Magnitudes de sensores para Alarmas ******************/\n///******************************************************************* */\n\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n\n//*** DESEMPEÑO MOTOR \n\n//*** VALORES ANÁLOGOS ALARMAS\n\n//*************************************************************************\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 920,
        "y": 1020,
        "wires": [
            []
        ]
    },
    {
        "id": "82503762aa2843c9",
        "type": "modbus-flex-getter",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "logIOActivities": false,
        "server": "e1f0f7d4395cef65",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 610,
        "y": 1020,
        "wires": [
            [
                "fac30a2e99ae6b6b"
            ],
            []
        ]
    },
    {
        "id": "0e4c44f1cc7973b8",
        "type": "function",
        "z": "26dda74cf2221d09",
        "g": "ee7384888020bf24",
        "name": "Lectura PLC de 0 a 124, PLC 40",
        "func": "// Asegurarse de que msg.payload tenga al menos un valor\nif (!Array.isArray(msg.payload) || msg.payload.length < 1) {\n    return msg;\n}\n\n//Obtiene valores positivos o negativos desde el PLC: word signed\nfor(let i = 0; i < 125; i++){\n    if (msg.payload[i] > 32767) { //negativo\n            msg.payload[i] = msg.payload[i] - 65536;\n        }\n}\n\n//**************** Valores Delay de alarmas ******************\nlet listado = global.get(\"numAlarmasPLC40\");\nfor(let i of listado){\n    let dirDelay = global.get(\"direccionDelayAlarma\" + i);\n    if(dirDelay < 125){    \n        let valor = msg.payload[dirDelay];\n        //Negativo ?\n        if(valor > 32767){ //negativo\n            valor = valor - 65536;\n        }    \n        global.set(\"delayAlarma\" + i, valor)\n    }\n}    \n//***************************************************************\n\n//*************** Valores mediciones analógicas\n//*** TEMPERATURAS CIGÜEÑAL\n\n//*** TEMPERATURA GASES DE ESCAPE\nglobal.set(\"valorAnalogo9\", msg.payload[1]);   // ALTA TEMP ESCAPE A1 C-500°\nglobal.set(\"valorAnalogo10\", msg.payload[2]);  // ALTA TEMP ESCAPE A1 D-500°\nglobal.set(\"valorAnalogo11\", msg.payload[3]);  // ALTA TEMP ESCAPE A2 C-500°\nglobal.set(\"valorAnalogo12\", msg.payload[4]);  // ALTA TEMP ESCAPE A2 D-500°\nglobal.set(\"valorAnalogo13\", msg.payload[5]);  // ALTA TEMP ESCAPE A3 C-500°\nglobal.set(\"valorAnalogo14\", msg.payload[6]);  // ALTA TEMP ESCAPE A3 D-500°\nglobal.set(\"valorAnalogo15\", msg.payload[7]);  // ALTA TEMP ESCAPE A4 C-500°\nglobal.set(\"valorAnalogo16\", msg.payload[8]);  // ALTA TEMP ESCAPE A4 D-500°\nglobal.set(\"valorAnalogo17\", msg.payload[9]);  // ALTA TEMP ESCAPE A5 C-500°\nglobal.set(\"valorAnalogo18\", msg.payload[10]);  // ALTA TEMP ESCAPE A5 D-500°\nglobal.set(\"valorAnalogo19\", msg.payload[11]);  // ALTA TEMP ESCAPE A6 C-500°\nglobal.set(\"valorAnalogo20\", msg.payload[12]);  // ALTA TEMP ESCAPE A6 D-500°\n\n/* Hay que implementar en el PLC, no está disponible esa medición\nglobal.set(\"valorAnalogo21\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A1 C\nglobal.set(\"valorAnalogo22\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A1 D\nglobal.set(\"valorAnalogo23\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A2 C\nglobal.set(\"valorAnalogo24\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A2 D\nglobal.set(\"valorAnalogo25\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A3 C\nglobal.set(\"valorAnalogo26\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A3 D\nglobal.set(\"valorAnalogo27\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A4 C\nglobal.set(\"valorAnalogo28\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A4 D\nglobal.set(\"valorAnalogo29\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A5 C\nglobal.set(\"valorAnalogo30\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A5 D\nglobal.set(\"valorAnalogo31\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A6 C\nglobal.set(\"valorAnalogo32\", msg.payload[]); // DESVIACIÓN DE TEMP ESCAPE A6 D\n*/\n\n//*** SISTEMA AGUA ENFRIAMIENTO\n//global.set(\"valorAnalogo33\", msg.payload[23]); // PT401 PRESIÓN AGUA HT ENTRADA MOTOR\nglobal.set(\"valorAnalogo34\", msg.payload[27]); // TEMP. AGUA HT ENTRADA MOTOR\nglobal.set(\"valorAnalogo35\", msg.payload[29]); // TEMP. AGUA HT SALIDA MOTOR\nglobal.set(\"valorAnalogo36\", msg.payload[31]); // TEMP. AGUA HT SALIDA TURBO\n//global.set(\"valorAnalogo37\", msg.payload[]); // PRESIÓN AGUA LT ENTRADA AFTERCOOLER\nglobal.set(\"valorAnalogo38\", msg.payload[33]); // TEMP. AGUA LT ENTRADA AFTERCOOLER\nglobal.set(\"valorAnalogo39\", msg.payload[35]); // TE472 - TEMP. AGUA LT SALIDA AFTERCOOLER\nglobal.set(\"valorAnalogo40\", msg.payload[37]); // TE482 - TEMP. LT SALIDA AFTERCOOLER ACEITE\n\n\n//*** TEMPERATURA DE CILINDROS\nglobal.set(\"valorAnalogo41\", msg.payload[71]); // TE711A-TEMP CILINDRO A1 1\nglobal.set(\"valorAnalogo42\", msg.payload[72]); // TE712A-TEMP CILINDRO A1 2\nglobal.set(\"valorAnalogo43\", msg.payload[73]); // TE721A-TEMP CILINDRO A2 1\nglobal.set(\"valorAnalogo44\", msg.payload[74]); // TE722A-TEMP CILINDRO A2 2\nglobal.set(\"valorAnalogo45\", msg.payload[75]); // TE731A-TEMP CILINDRO A3 1\nglobal.set(\"valorAnalogo46\", msg.payload[76]); // TE732A-TEMP CILINDRO A3 2\nglobal.set(\"valorAnalogo47\", msg.payload[77]); // TE741A-TEMP CILINDRO A4 1\nglobal.set(\"valorAnalogo48\", msg.payload[78]); // TE742A-TEMP CILINDRO A4 2\nglobal.set(\"valorAnalogo49\", msg.payload[79]); // TE751A-TEMP CILINDRO A5 1\nglobal.set(\"valorAnalogo50\", msg.payload[80]); // TE752A-TEMP CILINDRO A5 2\nglobal.set(\"valorAnalogo51\", msg.payload[81]); // TE761A-TEMP CILINDRO A6 1\nglobal.set(\"valorAnalogo52\", msg.payload[82]); // TE762A-TEMP CILINDRO A6 2\n\n//*** COMBUSTIBLE Y LUBRICANTE\n//global.set(\"valorAnalogo53\", msg.payload[]); // PRES. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo54\", msg.payload[]); // TEMP. COMB. ENTRADA MOTOR\n//global.set(\"valorAnalogo55\", msg.payload[]); // PRES. LUB. ENTRADA MOTOR\n//global.set(\"valorAnalogo56\", msg.payload[]); // PRES. LUB. ENTRADA FILTRO\nglobal.set(\"valorAnalogo57\", msg.payload[17]); // TEMP. LUB. ENTRADA MOTOR\n//global.set(\"valorAnalogo58\", msg.payload[]); // TEMP. LUB. SALIDA ENFR. ACEITE\n\n//*** DESEMPEÑO MOTOR\nglobal.set(\"valorAnalogo59\", msg.payload[85]); // VELOCIDAD MOTOR\nglobal.set(\"valorAnalogo60\", msg.payload[86]); // VEL. MOTOR BACKUP\n//global.set(\"valorAnalogo61\", msg.payload[]); // FUEL RACK POS.\nglobal.set(\"valorAnalogo62\", msg.payload[87]); // VELOCIDAD TURBO\nglobal.set(\"valorAnalogo65\", msg.payload[45]); // TEMP. AIRE CARGA SALIDA\n//global.set(\"valorAnalogo66\", msg.payload[]); // TEMP. TURBO\n//global.set(\"valorAnalogo67\", msg.payload[]); // TEMP. EXH. TC IN 2\n//global.set(\"valorAnalogo68\", msg.payload[]); // TEMP. EXH. TC OUT\n\n\n//*** VALORES ANÁLOGOS ALARMAS\n//global.set(\"valorAnalogo70\", msg.payload[]); // TEMP. ACEITE CAJA REDUCTORA\nglobal.set(\"valorAnalogo75\", msg.payload[45]); // T° AIRE CARGA SALIDA AFTERCOOLER\n//global.set(\"valorAnalogo76\", msg.payload[); // PRESION DE AGUA DE MAR\n//global.set(\"valorAnalogo77\", msg.payload[]); // PRESIÓN AIRE PARTIDA\n//*****************************************************\n\n\n//******************************************************************* */\n//************* Magnitudes de sensores para Alarmas ******************/\n///******************************************************************* */\n\n//*** TEMPERATURAS CIGÜEÑAL\n//global.set(\"MagnitudAlarmaSensorAnalogo\", global.get(\"DireccionMagnitudAlarmaSensorAnalogo\"));\n\n//*** TEMPERATURA GASES DE ESCAPE\n\n//*** SISTEMA AGUA ENFRIAMIENTO \n\n//*** TEMPERATURA DE CILINDROS\n\n//*** COMBUSTIBLE Y LUBRICANTE\n\n//*** DESEMPEÑO MOTOR \n\n//*** VALORES ANÁLOGOS ALARMAS\n\n//*************************************************************************\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "func_personalizado",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Consulta personalizada",
        "func": "let horasAntes = msg.payload; // ej: \"5h\"\n\nmsg.query = `\nfrom(bucket: \"HistoricoAlarmas\")\n  |> range(start: -${horasAntes})\n  |> filter(fn: (r) => r._measurement == \"Alarmas\")\n`;\n\nreturn msg;\n\n//fales)\n\n//|> sort(columns: [\"_time\"], desc: false)",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 140,
        "wires": [
            [
                "2d82d76a4a3de26f"
            ]
        ]
    },
    {
        "id": "3ebf02de6ab9f026",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Guarda fecha seleccionada",
        "func": "flow.set(\"fecha_inicio\", msg.payload-86400000);\nlet fecha = new Date(msg.payload-86400000);\nmsg.payload = fecha;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "3cd5af59d3a1e17c",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Guarda hora seleccionada",
        "func": "flow.set(\"hora_inicio\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "16ea6af892045659",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Prepara datos obtenidos para la tabla",
        "func": "let filas = msg.payload;\nlet alarmas = {};\nlet tabla = [];\n\n// Obtener zona horaria desde variable global\nlet zona = global.get(\"zonaHoraria\") || -4;\nlet offsetMs = zona * 60 * 60 * 1000;\n\nfilas.forEach(fila => {\n    let time = fila._time;\n    if (!alarmas[time]) {\n        alarmas[time] = { _time: time };\n    }\n    alarmas[time][fila._field] = fila._value;\n});\n\nObject.values(alarmas).forEach(a => {\n    // Convertir timestamp de InfluxDB a Date\n    let fechaUTC = new Date(a._time);\n\n    // Ajustar según zona horaria\n    let fechaAjustada = new Date(fechaUTC.getTime() + offsetMs);\n\n    // Formatear la fecha ajustada (usando UTC para que no vuelva a aplicar offset del navegador)\n    let fechaLegible = fechaAjustada.toLocaleString(\"es-CL\", {\n        timeZone: \"UTC\",\n        year: \"numeric\",\n        month: \"2-digit\",\n        day: \"2-digit\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n        second: \"2-digit\",\n        hour12: false\n    }).replace(',', '');\n\n    let estadoAlarma = a.estadoAlarma || \"\";\n    let clase = \"\";\n    let textoEstado = \"\";\n\n    switch (estadoAlarma) {\n        case \"activa_noReconocida\":\n            clase = \"alarma\";\n            textoEstado = \"Se activa alarma\";\n            break;\n        case \"activa_reconocida\":\n            clase = \"rojo-suave\";\n            textoEstado = \"Se reconoce alarma - Aún activa\";\n            break;\n        case \"inactiva_noReconocida\":\n            clase = \"inactivaNoReconocida\";\n            textoEstado = \"Se desactiva alarma - No reconocida\";\n            break;\n        case \"inactiva_reconocida\":\n            clase = \"normal\";\n            textoEstado = \"Se normaliza alarma\";\n            break;\n        case \"inhibida\":\n            clase = \"inhibida\";\n            textoEstado = \"Alarma inhibida\";\n            break;\n        case \"noInhibida\":\n            clase = \"noInhibida\";\n            textoEstado = \"Alarma No inhibida\";\n            break;\n        default:\n            textoEstado = estadoAlarma;\n            clase = \"\";\n    }\n\n    let alarmaHtml = `<div class=\"alarm-cell ${clase}\">${textoEstado}</div>`;\n\n    tabla.unshift({\n        fecha: fechaLegible,\n        id: a.id,\n        alarma: a.nombre || \"\",\n        estadoAlarma: alarmaHtml,\n        options: {\n            order: [[2, \"desc\"]]\n        }\n    });\n});\n\nmsg.payload = tabla;\nreturn msg;\n\n/*let filas = msg.payload;\nlet alarmas = {};\nlet tabla = [];\n\nfilas.forEach(fila => {\n    let time = fila._time;\n    if (!alarmas[time]) {\n        alarmas[time] = { _time: time };\n    }\n    alarmas[time][fila._field] = fila._value;\n});\n\nObject.values(alarmas).forEach(a => {\n    let fecha = new Date(a._time);\n    let fechaLegible = fecha.toLocaleString(\"es-CL\", {\n        year: \"numeric\", month: \"2-digit\", day: \"2-digit\",\n        hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\",\n        hour12: false\n    }).replace(',', '');\n\n    let estadoAlarma = a.estadoAlarma || \"\";\n    let clase = \"\";\n    let textoEstado = \"\";\n\n    switch (estadoAlarma) {\n        case \"activa_noReconocida\":\n            clase = \"alarma\";\n            textoEstado = \"Se activa alarma\"; \n            break;\n        case \"activa_reconocida\":\n            clase = \"rojo-suave\";\n            textoEstado = \"Se reconoce alarma - Aún activa\"; \n            break;\n        case \"inactiva_noReconocida\":\n            clase = \"inactivaNoReconocida\";\n            textoEstado = \"Se desactiva alarma - No reconocida\"; \n            break;\n        case \"inactiva_reconocida\":\n            clase = \"normal\";\n            textoEstado = \"Se normaliza alarma\"; \n            break;\n        case \"inhibida\":\n            clase = \"inhibida\";\n            textoEstado = \"Alarma inhibida\"; \n            break;\n        case \"noInhibida\":\n            clase = \"noInhibida\";\n            textoEstado = \"Alarma No inhibida\"; \n            break;\n        default:\n            textoEstado = estadoAlarma;\n            clase = \"\";\n    }\n    \n    let alarmaHtml = `<div class=\"alarm-cell ${clase}\">${textoEstado}</div>`;\n\n    tabla.unshift({\n        fecha: fechaLegible,\n        id: a.id,\n        alarma: a.nombre || \"\",\n        estadoAlarma: alarmaHtml,\n        options: {\n        order: [[2, \"desc\"]] \n        }\n    });\n});\n\n\nmsg.payload = tabla;\nreturn msg;\n*/\n\n\n\n/*let filas = msg.payload;\nlet alarmas = {};\nlet tabla = [];\n\nfilas.forEach(fila => {\n    let time = fila._time;\n    if (!alarmas[time]) {\n        alarmas[time] = { _time: time };\n    }\n    alarmas[time][fila._field] = fila._value;\n});\n\nObject.values(alarmas).forEach(a => {\n    let fecha = new Date(a._time);\n    let fechaLegible = fecha.toLocaleString(\"es-CL\", {\n        year: \"numeric\", month: \"2-digit\", day: \"2-digit\",\n        hour: \"2-digit\", minute: \"2-digit\", second: \"2-digit\",\n        hour12: false\n    }).replace(',', '');\n\n    let estadoAlarma = a.estadoAlarma || \"\";\n    let clase = \"\";\n    let textoEstado = \"\";\n\n    switch (estadoAlarma) {\n        case \"activa_noReconocida\":\n            clase = \"alarma\";\n            textoEstado = \"Se activa alarma\"; \n            break;\n        case \"activa_reconocida\":\n            clase = \"rojo-suave\";\n            textoEstado = \"Se reconoce alarma - Aún activa\"; \n            break;\n        case \"inactiva_noReconocida\":\n            clase = \"inactivaNoReconocida\";\n            textoEstado = \"Se desactiva alarma - No reconocida\"; \n            break;\n        case \"inactiva_reconocida\":\n            clase = \"normal\";\n            textoEstado = \"Se normaliza alarma\"; \n            break;\n        case \"inhibida\":\n            clase = \"inhibida\";\n            textoEstado = \"Alarma inhibida\"; \n            break;\n        case \"noInhibida\":\n            clase = \"noInhibida\";\n            textoEstado = \"Alarma No inhibida\"; \n            break;\n        default:\n            textoEstado = estadoAlarma;\n            clase = \"\";\n    }\n    \n    let alarmaHtml = `<div class=\"alarm-cell ${clase}\">${textoEstado}</div>`;\n\n    tabla.unshift({\n        fecha: fechaLegible,\n        id: a.id,\n        alarma: a.nombre || \"\",\n        estadoAlarma: alarmaHtml,\n        timestamp: fecha.getTime(),\n        options: {\n        order: [[2, \"desc\"]] \n    }\n    });\n});\n\n//ordena por fecha\ntabla.sort((a, b) => b.timestamp - a.timestamp);\n\n//elimina el timestamp antes de enviar\ntabla.forEach(row => delete row.timestamp);\n\n\nmsg.payload = tabla;\nreturn msg;\n\n\n*/",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 140,
        "wires": [
            [
                "3b6a43b813dc17ba"
            ]
        ]
    },
    {
        "id": "5c4b9925389ec312",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "genera consula entre fechas y horas seleccionadas",
        "func": "// Obtener fechas y horas desde el flow context\nlet fecha_inicio = flow.get(\"fecha_inicio\");\nlet hora_inicio = flow.get(\"hora_inicio\");\nlet fecha_final = flow.get(\"fecha_final\");\nlet hora_final = flow.get(\"hora_final\");\n\n// Obtener zona horaria desde variable global\nlet zona = global.get(\"zonaHoraria\") || -4;  // -4 o -3\nlet offsetMs = zona * 60 * 60 * 1000;\n\n// Validar que todas las variables estén presentes\nif (!fecha_inicio || !hora_inicio || !fecha_final || !hora_final) {\n    node.error(\"Falta fecha u hora en variables del flow.\");\n    return null;\n}\n\n// Combinar fecha y hora (asumiendo que viene en hora local UTC-4 o UTC-3)\nfunction combinarFechaHora(fechaMs, horaStr) {\n    let fecha = new Date(fechaMs);\n    let partes = horaStr.trim().split(\":\");\n    if (partes.length < 2) {\n        node.error(\"Formato de hora inválido: \" + horaStr);\n        return null;\n    }\n    let hora = parseInt(partes[0], 10);\n    let minuto = parseInt(partes[1], 10);\n    fecha.setHours(hora);\n    fecha.setMinutes(minuto);\n    fecha.setSeconds(0);\n    fecha.setMilliseconds(0);\n    return fecha;\n}\n\nlet fechaHoraInicioLocal = combinarFechaHora(fecha_inicio, hora_inicio);\nlet fechaHoraFinalLocal = combinarFechaHora(fecha_final, hora_final);\n\n// Verificación de que se hayan podido combinar bien\nif (!fechaHoraInicioLocal || !fechaHoraFinalLocal) return null;\n\n// Validar que la hora de inicio sea anterior a la final\nif (fechaHoraInicioLocal >= fechaHoraFinalLocal) {\n    //Error en selección de fechas    \n    return null;\n}\n\n// Convertir de hora local a UTC restando el offset\n// Si zona = -4, restamos -4 horas (sumamos 4 horas) para llegar a UTC\n// Si zona = -3, restamos -3 horas (sumamos 3 horas) para llegar a UTC\nlet fechaHoraInicioUTC = new Date(fechaHoraInicioLocal.getTime() - offsetMs);\nlet fechaHoraFinalUTC = new Date(fechaHoraFinalLocal.getTime() - offsetMs);\n\n// Convertir a formato ISO (ya en UTC)\nlet startISO = fechaHoraInicioUTC.toISOString();\nlet stopISO = fechaHoraFinalUTC.toISOString();\n\n// Construir la consulta Flux\nmsg.query = `\nfrom(bucket: \"HistoricoAlarmas\")\n  |> range(start: ${startISO}, stop: ${stopISO})\n  |> filter(fn: (r) => r._measurement == \"Alarmas\")\n  |> sort(columns: [\"_time\"], desc: false)\n`;\n\nreturn msg;\n\n\n\n/*\n// Obtener fechas y horas desde el flow context\nlet fecha_inicio = flow.get(\"fecha_inicio\");\nlet hora_inicio = flow.get(\"hora_inicio\");\nlet fecha_final = flow.get(\"fecha_final\");\nlet hora_final = flow.get(\"hora_final\");\n\n// Validar que todas las variables estén presentes\nif (!fecha_inicio || !hora_inicio || !fecha_final || !hora_final) {\n    node.error(\"Falta fecha u hora en variables del flow.\");\n    return null;\n}\n\n// Combinar fecha y hora\nfunction combinarFechaHora(fechaMs, horaStr) {\n    let fecha = new Date(fechaMs);\n    let partes = horaStr.trim().split(\":\");\n    if (partes.length < 2) {\n        node.error(\"Formato de hora inválido: \" + horaStr);\n        return null;\n    }\n    let hora = parseInt(partes[0], 10);\n    let minuto = parseInt(partes[1], 10);\n    fecha.setHours(hora);\n    fecha.setMinutes(minuto);\n    fecha.setSeconds(0);\n    fecha.setMilliseconds(0);\n    return fecha;\n}\n\nlet fechaHoraInicio = combinarFechaHora(fecha_inicio, hora_inicio);\nlet fechaHoraFinal = combinarFechaHora(fecha_final, hora_final);\n\n\n// Verificación de que se hayan podido combinar bien\nif (!fechaHoraInicio || !fechaHoraFinal) return null;\n\n// Validar que la hora de inicio sea anterior a la final\nif (fechaHoraInicio >= fechaHoraFinal) {\n    //Error en selección de fechas    \n    return null;\n}\n\n// Convertir a formato ISO\nlet startISO = fechaHoraInicio.toISOString();\nlet stopISO = fechaHoraFinal.toISOString();\n\n// Construir la consulta Flux\nmsg.query = `\nfrom(bucket: \"HistoricoAlarmas\")\n  |> range(start: ${startISO}, stop: ${stopISO})\n  |> filter(fn: (r) => r._measurement == \"Alarmas\")\n  |> sort(columns: [\"_time\"], desc: false)\n`;\n\nreturn msg;\n*/\n\n\n\n/*\n// Obtener fechas y horas desde el flow context\nlet fecha_inicio = flow.get(\"fecha_inicio\");\nlet hora_inicio = flow.get(\"hora_inicio\");\nlet fecha_final = flow.get(\"fecha_final\");\nlet hora_final = flow.get(\"hora_final\");\n\n// Validar que todas las variables estén presentes\nif (!fecha_inicio || !hora_inicio || !fecha_final || !hora_final) {\n    node.error(\"Falta fecha u hora en variables del flow.\");\n    return null;\n}\n\n// Combinar fecha y hora\nfunction combinarFechaHora(fechaMs, horaStr) {\n    let fecha = new Date(fechaMs);\n    let partes = horaStr.trim().split(\":\");\n    if (partes.length < 2) {\n        node.error(\"Formato de hora inválido: \" + horaStr);\n        return null;\n    }\n    let hora = parseInt(partes[0], 10);\n    let minuto = parseInt(partes[1], 10);\n    fecha.setHours(hora);\n    fecha.setMinutes(minuto);\n    fecha.setSeconds(0);\n    fecha.setMilliseconds(0);\n    return fecha;\n}\n\nlet fechaHoraInicio = combinarFechaHora(fecha_inicio, hora_inicio);\nlet fechaHoraFinal = combinarFechaHora(fecha_final, hora_final);\n\n\n// Verificación de que se hayan podido combinar bien\nif (!fechaHoraInicio || !fechaHoraFinal) return null;\n\n// Validar que la hora de inicio sea anterior a la final\nif (fechaHoraInicio >= fechaHoraFinal) {\n    //Error en selección de fechas    \n    return null;\n}\n\n// Convertir a formato ISO\nlet startISO = fechaHoraInicio.toISOString();\nlet stopISO = fechaHoraFinal.toISOString();\n\n// Construir la consulta Flux\nmsg.query = `\nfrom(bucket: \"HistoricoAlarmas\")\n  |> range(start: ${startISO}, stop: ${stopISO})\n  |> filter(fn: (r) => r._measurement == \"Alarmas\")\n  |> sort(columns: [\"_time\"], desc: false)\n`;\n\nreturn msg;\n*/",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 280,
        "wires": [
            [
                "2d82d76a4a3de26f"
            ]
        ]
    },
    {
        "id": "00ebfc57d3c31b38",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Guarda fecha seleccionada",
        "func": "flow.set(\"fecha_final\", msg.payload-86400000);\nlet fecha = new Date(msg.payload-86400000);\nmsg.payload = fecha;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 560,
        "wires": [
            []
        ]
    },
    {
        "id": "c9f29ec9b2cda308",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Guarda hora seleccionada",
        "func": "flow.set(\"hora_final\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 900,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "0a4759fb0d1356cc",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Prepara mensajes de validación de consultas",
        "func": "if (Array.isArray(msg.payload) && msg.payload.length === 0) {\n    msg.payload =\"No se tienen datos en el rango de tiempo seleccionado\"\n    msg.color = \"red\";\n}\nelse{\n    msg.payload = \"Datos encontrados\";\n    msg.color = \"green\";\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 180,
        "wires": [
            [
                "95b7bfe4d29e5b94"
            ]
        ]
    },
    {
        "id": "4f1a9a2e5deed5e4",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Prepara mensajes de validación de consultas 2",
        "func": "// Obtener fechas y horas desde el flow context\nlet fecha_inicio = flow.get(\"fecha_inicio\");\nlet hora_inicio = flow.get(\"hora_inicio\");\nlet fecha_final = flow.get(\"fecha_final\");\nlet hora_final = flow.get(\"hora_final\");\n\n// Validar que todas las variables estén presentes\nif (!fecha_inicio || !hora_inicio || !fecha_final || !hora_final) {\n    node.error(\"Falta fecha u hora en variables del flow.\");\n    return null;\n}\n\n// Combinar fecha y hora\nfunction combinarFechaHora(fechaMs, horaStr) {\n    let fecha = new Date(fechaMs);\n    let partes = horaStr.trim().split(\":\");\n    if (partes.length < 2) {\n        node.error(\"Formato de hora inválido: \" + horaStr);\n        return null;\n    }\n    let hora = parseInt(partes[0], 10);\n    let minuto = parseInt(partes[1], 10);\n    fecha.setHours(hora);\n    fecha.setMinutes(minuto);\n    fecha.setSeconds(0);\n    fecha.setMilliseconds(0);\n    return fecha;\n}\n\nlet fechaHoraInicio = combinarFechaHora(fecha_inicio, hora_inicio);\nlet fechaHoraFinal = combinarFechaHora(fecha_final, hora_final);\n\n\n// Verificación de que se hayan podido combinar bien\nif (!fechaHoraInicio || !fechaHoraFinal) return null;\n\n// Validar que la hora de inicio sea anterior a la final\nif (fechaHoraInicio >= fechaHoraFinal) {\n    msg.payload = \"La fecha y hora de inicio debe ser anterior a la fecha y hora final.\";    \n    msg.color = \"red\";\n    return msg;\n}\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 640,
        "y": 320,
        "wires": [
            [
                "95b7bfe4d29e5b94"
            ]
        ]
    },
    {
        "id": "75fe3c9b0a6e295b",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Borra tabla si la fecha inicial es mayor que la final",
        "func": "// Obtener fechas y horas desde el flow context\nlet fecha_inicio = flow.get(\"fecha_inicio\");\nlet hora_inicio = flow.get(\"hora_inicio\");\nlet fecha_final = flow.get(\"fecha_final\");\nlet hora_final = flow.get(\"hora_final\");\n\n// Validar que todas las variables estén presentes\nif (!fecha_inicio || !hora_inicio || !fecha_final || !hora_final) {\n    node.error(\"Falta fecha u hora en variables del flow.\");\n    return null;\n}\n\n// Combinar fecha y hora\nfunction combinarFechaHora(fechaMs, horaStr) {\n    let fecha = new Date(fechaMs);\n    let partes = horaStr.trim().split(\":\");\n    if (partes.length < 2) {\n        node.error(\"Formato de hora inválido: \" + horaStr);\n        return null;\n    }\n    let hora = parseInt(partes[0], 10);\n    let minuto = parseInt(partes[1], 10);\n    fecha.setHours(hora);\n    fecha.setMinutes(minuto);\n    fecha.setSeconds(0);\n    fecha.setMilliseconds(0);\n    return fecha;\n}\n\nlet fechaHoraInicio = combinarFechaHora(fecha_inicio, hora_inicio);\nlet fechaHoraFinal = combinarFechaHora(fecha_final, hora_final);\n\n\n// Verificación de que se hayan podido combinar bien\nif (!fechaHoraInicio || !fechaHoraFinal) return null;\n\n// Validar que la hora de inicio sea anterior a la final\nif (fechaHoraInicio >= fechaHoraFinal) {\n    msg.payload = [];\n    return msg;\n}\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 650,
        "y": 360,
        "wires": [
            [
                "3b6a43b813dc17ba"
            ]
        ]
    },
    {
        "id": "1e0f2c40800968e8",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "g": "3c784f294d07ec17",
        "name": "function 6",
        "func": "let listaNuevoEstadoAlarma = [];\n\nfor(let i=1; i<=160; i++)\n    if (global.get(\"numAlarmasPLC39\").includes(i) || global.get(\"numAlarmasPLC40\").includes(i)){     \n        let estadoAnteriorAlarma = global.get(\"globalHistorial_alarma_ea\" + i) || \"null\";\n        let estadoAlarma = global.get(\"global_alarma\" + i);\n        let inhibicionAlarma_anterior = global.get(\"global_inhibicionAlarma_ea\" + i);\n        let inhibicionAlarma = global.get(\"global_inhibicionAlarma\" + i);\n        let nombreAlarma = global.get(\"nombreAlarma\" + i);        \n\n        if(estadoAnteriorAlarma != estadoAlarma && inhibicionAlarma != \"inhibida\"){            \n            listaNuevoEstadoAlarma.push({  \n                \"id\": i,\n                \"nombre\": nombreAlarma,\n                \"estadoAlarma\": estadoAlarma      \n            });            \n            global.set(\"globalHistorial_alarma_ea\" + i, estadoAlarma);\n        }\n        else if(inhibicionAlarma_anterior != inhibicionAlarma){\n            listaNuevoEstadoAlarma.push({  \n                \"id\": i,\n                \"nombre\": nombreAlarma,\n                \"estadoAlarma\": inhibicionAlarma      \n            });\n            global.set(\"global_inhibicionAlarma_ea\" + i, inhibicionAlarma);\n        }    \n}\n\nif(listaNuevoEstadoAlarma.length < 1)\n    return null;\n\nmsg.payload = listaNuevoEstadoAlarma;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 60,
        "wires": [
            [
                "31c4347cac1aa4fc"
            ]
        ]
    },
    {
        "id": "2414900595a81b49",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "Establece colores",
        "func": "msg.color_alarma = global.get(\"global_color_alarma\");\nmsg.color_normal = global.get(\"global_color_normal\");\nmsg.color_inactivaNoReconocida = global.get(\"global_color_inactivaNoReconocida\");\nmsg.color_inhibida = global.get(\"global_color_inhibida\");\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 720,
        "wires": [
            [
                "35b35e0bcccc25d5"
            ]
        ]
    },
    {
        "id": "c93848ebf76cc529",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "inicia hora inicial guardada",
        "func": "let horaGuardada = flow.get(\"hora_inicio\"); // o global.get(...) si lo tienes como global\n\nif (horaGuardada) {\n    msg.payload = horaGuardada; // por ejemplo: \"17:05\"\n    return msg;\n}\n\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 500,
        "wires": [
            [
                "ui_template_time_picker"
            ]
        ]
    },
    {
        "id": "1746a20e3c94b859",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "inicia hora final guardada",
        "func": "let horaGuardada = flow.get(\"hora_final\"); // o global.get(...) si lo tienes como global\n\nif (horaGuardada) {\n    msg.payload = horaGuardada; // por ejemplo: \"17:05\"\n    return msg;\n}\n\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 320,
        "y": 620,
        "wires": [
            [
                "a6a7224db0a984b8"
            ]
        ]
    },
    {
        "id": "1a84debc0d24a41d",
        "type": "inject",
        "z": "1b3ea446545b02f2",
        "g": "3c784f294d07ec17",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 60,
        "wires": [
            [
                "1e0f2c40800968e8"
            ]
        ]
    },
    {
        "id": "ui_button_10m",
        "type": "ui_button",
        "z": "1b3ea446545b02f2",
        "name": "10 minutos",
        "group": "ui_group_alarmas",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 10 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "10m",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 90,
        "y": 140,
        "wires": [
            [
                "func_personalizado"
            ]
        ]
    },
    {
        "id": "ui_button_30m",
        "type": "ui_button",
        "z": "1b3ea446545b02f2",
        "name": "30 minutos",
        "group": "ui_group_alarmas",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 30 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "30m",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 90,
        "y": 180,
        "wires": [
            [
                "func_personalizado"
            ]
        ]
    },
    {
        "id": "ui_button_1h",
        "type": "ui_button",
        "z": "1b3ea446545b02f2",
        "name": "1 hora",
        "group": "ui_group_alarmas",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 1 hora",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1h",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 110,
        "y": 220,
        "wires": [
            [
                "func_personalizado"
            ]
        ]
    },
    {
        "id": "ui_button_6h",
        "type": "ui_button",
        "z": "1b3ea446545b02f2",
        "name": "6 horas",
        "group": "ui_group_alarmas",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 6 horas",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "6h",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 100,
        "y": 260,
        "wires": [
            [
                "func_personalizado"
            ]
        ]
    },
    {
        "id": "ui_button_1d",
        "type": "ui_button",
        "z": "1b3ea446545b02f2",
        "name": "1 día",
        "group": "ui_group_alarmas",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 1 día",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1d",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 110,
        "y": 300,
        "wires": [
            [
                "func_personalizado"
            ]
        ]
    },
    {
        "id": "ui_button_2d",
        "type": "ui_button",
        "z": "1b3ea446545b02f2",
        "name": "2 días",
        "group": "ui_group_alarmas",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 2 días",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "2d",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 110,
        "y": 340,
        "wires": [
            [
                "func_personalizado"
            ]
        ]
    },
    {
        "id": "ui_button_5d",
        "type": "ui_button",
        "z": "1b3ea446545b02f2",
        "name": "5 días",
        "group": "ui_group_alarmas",
        "order": 7,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 5 días",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "5d",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 110,
        "y": 380,
        "wires": [
            [
                "func_personalizado"
            ]
        ]
    },
    {
        "id": "29d1944dc8fee0c3",
        "type": "ui_button",
        "z": "1b3ea446545b02f2",
        "name": "",
        "group": "5c2d78fc03f73ae9",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Consultar",
        "tooltip": "",
        "color": "",
        "bgcolor": "celeste",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 340,
        "y": 240,
        "wires": [
            [
                "5c4b9925389ec312",
                "4f1a9a2e5deed5e4",
                "75fe3c9b0a6e295b"
            ]
        ]
    },
    {
        "id": "3fd1fb92c582de76",
        "type": "ui_date_picker",
        "z": "1b3ea446545b02f2",
        "name": "Fecha inicial",
        "label": "",
        "group": "5c2d78fc03f73ae9",
        "order": 1,
        "width": "4",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 630,
        "y": 440,
        "wires": [
            [
                "3ebf02de6ab9f026"
            ]
        ]
    },
    {
        "id": "b2b85464817df23d",
        "type": "ui_date_picker",
        "z": "1b3ea446545b02f2",
        "name": "Fecha final",
        "label": "",
        "group": "5c2d78fc03f73ae9",
        "order": 3,
        "width": "4",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 630,
        "y": 560,
        "wires": [
            [
                "00ebfc57d3c31b38"
            ]
        ]
    },
    {
        "id": "95b7bfe4d29e5b94",
        "type": "ui_text",
        "z": "1b3ea446545b02f2",
        "group": "5c2d78fc03f73ae9",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Estado de la consulta:",
        "format": "<font color={{msg.color}}> {{msg.payload}} </font>",
        "layout": "row-left",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1240,
        "y": 320,
        "wires": []
    },
    {
        "id": "58be807b2c52d67b",
        "type": "ui_ui_control",
        "z": "1b3ea446545b02f2",
        "name": "",
        "events": "all",
        "x": 110,
        "y": 560,
        "wires": [
            [
                "c93848ebf76cc529",
                "1746a20e3c94b859",
                "2414900595a81b49"
            ]
        ]
    },
    {
        "id": "ui_template_time_picker",
        "type": "ui_template",
        "z": "1b3ea446545b02f2",
        "group": "5c2d78fc03f73ae9",
        "name": "Selector de hora de inicio",
        "order": 2,
        "width": "3",
        "height": "1",
        "format": "<div style=\"display: flex; align-items: center; height: 100%;\">\n  <label for=\"hora_inicio\" style=\"margin-right: 5px;\"></label>\n  <input type=\"time\" id=\"hora_inicio\" name=\"hora_inicio\" style=\"height: 36px; padding: 2px 6px; font-size: 16px; box-sizing: border-box;\">\n</div>\n\n<script>\n  (function(scope) {\n  // Enviar la nueva hora seleccionada\n  document.getElementById(\"hora_inicio\").addEventListener(\"change\", function() {\n    scope.send({ payload: this.value });\n  });\n\n  // Escuchar cambios en msg.payload (para inicializar el valor)\n  scope.$watch('msg.payload', function(value) {\n    if (value) {\n      document.getElementById(\"hora_inicio\").value = value;\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 590,
        "y": 500,
        "wires": [
            [
                "3cd5af59d3a1e17c"
            ]
        ]
    },
    {
        "id": "35b35e0bcccc25d5",
        "type": "ui_template",
        "z": "1b3ea446545b02f2",
        "group": "f57b67db2f64ef2f",
        "name": "",
        "order": 4,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-cell.alarma {\n        background-color: {{msg.color_alarma}};\n        color: white;\n        animation: blinkRojo 1s infinite;\n    }\n\n\n    @keyframes blinkRojo {\n        0% {\n        opacity: 1;\n        }\n        \n        50% {\n        opacity: 0.4;\n        }\n        \n        100% {\n        opacity: 1;\n        }        \n    }\n\n    .alarm-cell.rojo-suave {\n        background-color: red;\n        color: black;\n    }\n\n    .alarm-cell.inactivaNoReconocida {\n        background-color: {{msg.color_inactivaNoReconocida}};\n        color: black;\n    }\n\n    .alarm-cell.normal {\n        background-color: {{msg.color_normal}};\n        color: white;\n    }\n\n    .alarm-cell.inhibida {\n    background-color: {{msg.color_inhibida}};\n    color: white;\n    }\n\n    .alarm-cell.noInhibida {\n    background-color: {{msg.color_inhibida}};   \n    color: white;\n    }\n\n    .ui-table-cell, .alarm-cell{\n    padding-top: 2px;\n    padding-bottom: 2px;\n    font-size: 16px;\n    }\n\n    .tabulator-cell {\n    vertical-align: middle !important;    \n    font-size: 16px !important; /* Ajusta el tamaño según necesites */\n    }\n\n    .tabulator-col .tabulator-col-title {\n    text-align: center;\n    justify-content: center;\n    align-items: center;\n    display: flex;\n    }\n\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 540,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "a6a7224db0a984b8",
        "type": "ui_template",
        "z": "1b3ea446545b02f2",
        "group": "5c2d78fc03f73ae9",
        "name": "Selector de hora final",
        "order": 4,
        "width": "3",
        "height": 1,
        "format": "<div style=\"display: flex; align-items: center; height: 100%;\">\n  <label for=\"hora_final\" style=\"margin-right: 5px;\"></label>\n  <input type=\"time\" id=\"hora_final\" name=\"hora_final\" style=\"height: 36px; padding: 2px 6px; font-size: 16px; box-sizing: border-box;\">\n</div>\n\n<script>\n  (function(scope) {\n  // Enviar la nueva hora seleccionada\n  document.getElementById(\"hora_final\").addEventListener(\"change\", function() {\n    scope.send({ payload: this.value });\n  });\n\n  // Escuchar cambios en msg.payload (para inicializar el valor)\n  scope.$watch('msg.payload', function(value) {\n    if (value) {\n      document.getElementById(\"hora_final\").value = value;\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 600,
        "y": 620,
        "wires": [
            [
                "c9f29ec9b2cda308"
            ]
        ]
    },
    {
        "id": "31c4347cac1aa4fc",
        "type": "influxdb out",
        "z": "1b3ea446545b02f2",
        "g": "3c784f294d07ec17",
        "influxdb": "c78118c6621bf129",
        "name": "HistorialDB",
        "measurement": "Alarmas",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "Xiriox",
        "bucket": "HistoricoAlarmas",
        "x": 710,
        "y": 60,
        "wires": []
    },
    {
        "id": "2d82d76a4a3de26f",
        "type": "influxdb in",
        "z": "1b3ea446545b02f2",
        "influxdb": "c78118c6621bf129",
        "name": "consulta",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "Xiriox",
        "x": 620,
        "y": 140,
        "wires": [
            [
                "16ea6af892045659",
                "0a4759fb0d1356cc"
            ]
        ]
    },
    {
        "id": "3b6a43b813dc17ba",
        "type": "ui_table",
        "z": "1b3ea446545b02f2",
        "group": "f57b67db2f64ef2f",
        "name": "Tabla Histórico de alarmas",
        "order": 2,
        "width": "20",
        "height": "12",
        "columns": [
            {
                "field": "id",
                "title": "id",
                "width": "100",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "fecha",
                "title": "fecha",
                "width": "200",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "alarma",
                "title": "Alarma",
                "width": "400",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "estadoAlarma",
                "title": "Estado",
                "width": "350",
                "align": "center",
                "formatter": "html",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 1,
        "cts": true,
        "x": 1240,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "a405d8f386620fbd",
        "type": "ui_template",
        "z": "1b3ea446545b02f2",
        "group": "ui_group_alarmas",
        "name": "",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* Logo Xiriox */\n    .md-toolbar-tools {\n        position: relative;\n        background-image: none !important;\n        /* por si tenías un fondo previo */\n    }\n\n    /* Imagen fija a la derecha */\n    .md-toolbar-tools::after {\n        content: \"\";\n        position: absolute;\n        right: 10px;\n        /* separación del borde */\n        top: 50%;\n        transform: translateY(-50%);\n        width: 150px;\n        /* tamaño del logo */\n        height: 40px;\n        background: url(\"/xiriox.png\") no-repeat center center;\n        background-size: contain;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 120,
        "y": 800,
        "wires": [
            []
        ]
    },
    {
        "id": "88adf22c2fc0367f",
        "type": "ui_ui_control",
        "z": "1b3ea446545b02f2",
        "name": "",
        "events": "all",
        "x": 100,
        "y": 440,
        "wires": [
            [
                "47fc13caef3d13a5"
            ]
        ]
    },
    {
        "id": "47fc13caef3d13a5",
        "type": "function",
        "z": "1b3ea446545b02f2",
        "name": "function 77",
        "func": "msg.payload = \"1h\"\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 440,
        "wires": [
            [
                "func_personalizado"
            ]
        ]
    },
    {
        "id": "d83f33761fbcf8d2",
        "type": "ui_dropdown",
        "z": "c0914591e7def14a",
        "name": "",
        "label": "Zona horaria UTC",
        "tooltip": "",
        "place": "Select option",
        "group": "2c1fd392a0aa16b6",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Invierno (UTC - 4)",
                "value": -4,
                "type": "num"
            },
            {
                "label": "Verano (UTC - 3)",
                "value": -3,
                "type": "num"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 190,
        "y": 100,
        "wires": [
            [
                "2d2ecf1b668d1213"
            ]
        ]
    },
    {
        "id": "2d2ecf1b668d1213",
        "type": "function",
        "z": "c0914591e7def14a",
        "name": "function 78",
        "func": "global.set(\"zonaHoraria\", msg.payload)\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "71487fcbe0731f72",
        "type": "ui_text_input",
        "z": "c0914591e7def14a",
        "g": "c62453d9c3745640",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "89e7b6586a338156",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "password",
        "delay": "0",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 620,
        "y": 240,
        "wires": [
            [
                "c6de63a3090dbff2"
            ]
        ]
    },
    {
        "id": "571d5882902f6ba8",
        "type": "ui_button",
        "z": "c0914591e7def14a",
        "g": "c62453d9c3745640",
        "name": "",
        "group": "89e7b6586a338156",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Ingresar",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "login",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 600,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "6b3f090f157222fc",
        "type": "ui_ui_control",
        "z": "c0914591e7def14a",
        "g": "c62453d9c3745640",
        "name": "",
        "events": "all",
        "x": 180,
        "y": 240,
        "wires": [
            [
                "3912876d09fc0104"
            ]
        ]
    },
    {
        "id": "3912876d09fc0104",
        "type": "function",
        "z": "c0914591e7def14a",
        "g": "c62453d9c3745640",
        "name": "function 79",
        "func": "msg.payload = \"\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 240,
        "wires": [
            [
                "71487fcbe0731f72"
            ]
        ]
    },
    {
        "id": "c6de63a3090dbff2",
        "type": "function",
        "z": "c0914591e7def14a",
        "g": "c62453d9c3745640",
        "name": "function 80",
        "func": "let claveConfig = global.get(\"claveDeConfiguración\");\n\nif(msg.payload == claveConfig){\n    msg.payload = {\n    \"tab\": \"Zona horaria dashboard\"   // Nombre EXACTO del tab\n    };\n}\nelse{\n    msg.topic = \"\";\n    msg.payload = null;\n}    \n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 240,
        "wires": [
            [
                "74ac6bef6f93902e",
                "71487fcbe0731f72"
            ]
        ]
    },
    {
        "id": "74ac6bef6f93902e",
        "type": "ui_ui_control",
        "z": "c0914591e7def14a",
        "g": "c62453d9c3745640",
        "name": "",
        "events": "change",
        "x": 1100,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "77edcac84432d3fe",
        "type": "inject",
        "z": "51ba17f126c92501",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 120,
        "wires": [
            [
                "dee066e276582072",
                "95f515754843ae11",
                "66826c67072b8725",
                "0039062e2d962df9",
                "7a2545d8503898e8",
                "e9929e947640750b",
                "341113adf0814795",
                "b1911ff9575b672c"
            ]
        ]
    },
    {
        "id": "d0892d00c0acbfce",
        "type": "ui_template",
        "z": "51ba17f126c92501",
        "g": "1ea2a00cb5ec329a",
        "group": "ec62c02c10728fce",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display:flex; \n            justify-content:center; \n            align-items:normal; \n            width:100%; \n            height:100%;\n            flex-direction:column;\">\n\n  <div style=\"display: grid; \n              grid-template-columns: repeat(13, 1fr); \n              gap: 5px;\">\n\n    <div ng-repeat=\"item in msg.payload\" ng-style=\"($index === 0) && {\n              'background':'linear-gradient(135deg, #097479, #044043)',\n              'color':'#e0f7f4',\n              'font-size':'14px',\n              'font-weight':'bold',\n              'display':'flex',\n              'justify-content':'center',\n              'align-items':'center',\n              'min-height':'60px',\n              'border-radius':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-shadow':'0 0 6px rgba(0,255,200,0.3)'\n        } || {\n              'background':'linear-gradient(135deg, #2c2c2c, #1a1a1a)',\n              'color':'#eee',\n              'border-radius':'5px',\n              'padding':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-align':'center',\n              'font-family':'Segoe UI, Arial, sans-serif'\n        }\">\n\n      <div ng-if=\"$index === 0\">\n        {{item.nombre}}\n      </div>\n\n      <div ng-if=\"$index !== 0\">\n        <div style=\"font-size:14px; color:#aaa; margin-bottom:10px;\">\n          {{item.nombre}}\n        </div>\n        <div style=\"font-size:20px; font-weight:bold; color:#ff5555;\">\n          {{item.valor}} {{item.unidadMedida}}\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "66826c67072b8725",
        "type": "function",
        "z": "51ba17f126c92501",
        "g": "1ea2a00cb5ec329a",
        "name": "function 155",
        "func": "//*** TEMPERATURAS CIGÜEÑAL\n//*** TEMPERATURA GASES DE ESCAPE\n//*** SISTEMA AGUA ENFRIAMIENTO \n//*** TEMPERATURA DE CILINDROS\n//*** COMBUSTIBLE Y LUBRICANTE\n//*** DESEMPEÑO MOTOR \n//*** VALORES ANÁLOGOS ALARMAS \n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo1\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nmediciones.push({\n        nombre:\"DESCANSOS\"\n    });\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreCortoAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 380,
        "wires": [
            [
                "d0892d00c0acbfce"
            ]
        ]
    },
    {
        "id": "95f515754843ae11",
        "type": "function",
        "z": "51ba17f126c92501",
        "g": "24d0122773a52c77",
        "name": "function 156",
        "func": "\n//*** TEMPERATURA GASES DE ESCAPE\n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo2\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nmediciones.push({\n        nombre:\"TEMP GASES ESC\"\n    });\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreCortoAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 280,
        "wires": [
            [
                "2e41122bf55c2ce2"
            ]
        ]
    },
    {
        "id": "2e41122bf55c2ce2",
        "type": "ui_template",
        "z": "51ba17f126c92501",
        "g": "24d0122773a52c77",
        "group": "fdce09eedd4dd351",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display:flex; \n            justify-content:center; \n            align-items:normal; \n            width:100%; \n            height:100%;\n            flex-direction:column;\">\n\n  <div style=\"display: grid; \n              grid-template-columns: repeat(13, 1fr); \n              gap: 5px;\">\n\n    <div ng-repeat=\"item in msg.payload\" ng-style=\"($index === 0) && {\n              'background':'linear-gradient(135deg, #097479, #044043)',\n              'color':'#e0f7f4',\n              'font-size':'14px',\n              'font-weight':'bold',\n              'display':'flex',\n              'justify-content':'center',\n              'align-items':'center',\n              'min-height':'60px',\n              'border-radius':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-shadow':'0 0 6px rgba(0,255,200,0.3)'\n        } || {\n              'background':'linear-gradient(135deg, #2c2c2c, #1a1a1a)',\n              'color':'#eee',\n              'border-radius':'5px',\n              'padding':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-align':'center',\n              'font-family':'Segoe UI, Arial, sans-serif'\n        }\">\n\n      <div ng-if=\"$index === 0\">\n        {{item.nombre}}\n      </div>\n\n      <div ng-if=\"$index !== 0\">\n        <div style=\"font-size:14px; color:#aaa; margin-bottom:10px;\">\n          {{item.nombre}}\n        </div>\n        <div style=\"font-size:20px; font-weight:bold; color:#ff5555;\">\n          {{item.valor}} {{item.unidadMedida}}\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "0039062e2d962df9",
        "type": "function",
        "z": "51ba17f126c92501",
        "g": "7885e21269c0071b",
        "name": "function 157",
        "func": "\n//*** SISTEMA AGUA ENFRIAMIENTO \n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo3\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nmediciones.push({\n        nombre:\"ENFRIAMIENTO\"\n    });\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreCortoAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 480,
        "wires": [
            [
                "23913c791738e44c"
            ]
        ]
    },
    {
        "id": "23913c791738e44c",
        "type": "ui_template",
        "z": "51ba17f126c92501",
        "g": "7885e21269c0071b",
        "group": "b94b2ee54576393d",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display:flex; \n            justify-content:center; \n            align-items:normal; \n            width:100%; \n            height:100%;\n            flex-direction:column;\">\n\n  <div style=\"display: grid; \n              grid-template-columns: repeat(13, 1fr); \n              gap: 5px;\">\n\n    <div ng-repeat=\"item in msg.payload\" ng-style=\"($index === 0) && {\n              'background':'linear-gradient(135deg, #097479, #044043)',\n              'color':'#e0f7f4',\n              'font-size':'14px',\n              'font-weight':'bold',\n              'display':'flex',\n              'justify-content':'center',\n              'align-items':'center',\n              'min-height':'60px',\n              'border-radius':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-shadow':'0 0 6px rgba(0,255,200,0.3)'\n        } || {\n              'background':'linear-gradient(135deg, #2c2c2c, #1a1a1a)',\n              'color':'#eee',\n              'border-radius':'5px',\n              'padding':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-align':'center',\n              'font-family':'Segoe UI, Arial, sans-serif'\n        }\">\n\n      <div ng-if=\"$index === 0\">\n        {{item.nombre}}\n      </div>\n\n      <div ng-if=\"$index !== 0\">\n        <div style=\"font-size:14px; color:#aaa; margin-bottom:10px;\">\n          {{item.nombre}}\n        </div>\n        <div style=\"font-size:20px; font-weight:bold; color:#ff5555;\">\n          {{item.valor}} {{item.unidadMedida}}\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "dee066e276582072",
        "type": "function",
        "z": "51ba17f126c92501",
        "g": "44ff8c4077ced9c5",
        "name": "function 158",
        "func": "\n//*** TEMPERATURA DE CILINDROS\n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo4\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nmediciones.push({\n        nombre:\"TEMP CIL\"\n    });\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreCortoAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 180,
        "wires": [
            [
                "c83ec7ced22f38dd"
            ]
        ]
    },
    {
        "id": "c83ec7ced22f38dd",
        "type": "ui_template",
        "z": "51ba17f126c92501",
        "g": "44ff8c4077ced9c5",
        "group": "400ab932490e4ed0",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display:flex; \n            justify-content:center; \n            align-items:normal; \n            width:100%; \n            height:100%;\n            flex-direction:column;\">\n\n  <div style=\"display: grid; \n              grid-template-columns: repeat(13, 1fr); \n              gap: 5px;\">\n\n    <div ng-repeat=\"item in msg.payload\" ng-style=\"($index === 0) && {\n              'background':'linear-gradient(135deg, #097479, #044043)',\n              'color':'#e0f7f4',\n              'font-size':'14px',\n              'font-weight':'bold',\n              'display':'flex',\n              'justify-content':'center',\n              'align-items':'center',\n              'min-height':'60px',\n              'border-radius':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-shadow':'0 0 6px rgba(0,255,200,0.3)'\n        } || {\n              'background':'linear-gradient(135deg, #2c2c2c, #1a1a1a)',\n              'color':'#eee',\n              'border-radius':'5px',\n              'padding':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-align':'center',\n              'font-family':'Segoe UI, Arial, sans-serif'\n        }\">\n\n      <div ng-if=\"$index === 0\">\n        {{item.nombre}}\n      </div>\n\n      <div ng-if=\"$index !== 0\">\n        <div style=\"font-size:14px; color:#aaa; margin-bottom:10px;\">\n          {{item.nombre}}\n        </div>\n        <div style=\"font-size:20px; font-weight:bold; color:#ff5555;\">\n          {{item.valor}} {{item.unidadMedida}}\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "e9929e947640750b",
        "type": "function",
        "z": "51ba17f126c92501",
        "g": "8f68e38f0b2fdd7e",
        "name": "function 159",
        "func": "\n//*** COMBUSTIBLE Y LUBRICANTE\n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo5\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nmediciones.push({\n        nombre:\"COMB / LUB\"\n    });\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreCortoAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 680,
        "wires": [
            [
                "e5aaee956ebc8388"
            ]
        ]
    },
    {
        "id": "e5aaee956ebc8388",
        "type": "ui_template",
        "z": "51ba17f126c92501",
        "g": "8f68e38f0b2fdd7e",
        "group": "20119fc2a8fa1c9a",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display:flex; \n            justify-content:center; \n            align-items:normal; \n            width:100%; \n            height:100%;\n            flex-direction:column;\">\n\n  <div style=\"display: grid; \n              grid-template-columns: repeat(13, 1fr); \n              gap: 5px;\">\n\n    <div ng-repeat=\"item in msg.payload\" ng-style=\"($index === 0) && {\n              'background':'linear-gradient(135deg, #097479, #044043)',\n              'color':'#e0f7f4',\n              'font-size':'14px',\n              'font-weight':'bold',\n              'display':'flex',\n              'justify-content':'center',\n              'align-items':'center',\n              'min-height':'60px',\n              'border-radius':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-shadow':'0 0 6px rgba(0,255,200,0.3)'\n        } || {\n              'background':'linear-gradient(135deg, #2c2c2c, #1a1a1a)',\n              'color':'#eee',\n              'border-radius':'5px',\n              'padding':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-align':'center',\n              'font-family':'Segoe UI, Arial, sans-serif'\n        }\">\n\n      <div ng-if=\"$index === 0\">\n        {{item.nombre}}\n      </div>\n\n      <div ng-if=\"$index !== 0\">\n        <div style=\"font-size:14px; color:#aaa; margin-bottom:10px;\">\n          {{item.nombre}}\n        </div>\n        <div style=\"font-size:20px; font-weight:bold; color:#ff5555;\">\n          {{item.valor}} {{item.unidadMedida}}\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "7a2545d8503898e8",
        "type": "function",
        "z": "51ba17f126c92501",
        "g": "cf42430cd711ab5d",
        "name": "function 160",
        "func": "\n//*** DESEMPEÑO MOTOR \n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo6\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nmediciones.push({\n        nombre:\"MOTOR\"\n    });\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreCortoAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 580,
        "wires": [
            [
                "51f4979abd971fef"
            ]
        ]
    },
    {
        "id": "51f4979abd971fef",
        "type": "ui_template",
        "z": "51ba17f126c92501",
        "g": "cf42430cd711ab5d",
        "group": "8adb2c35d5a31098",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display:flex; \n            justify-content:center; \n            align-items:normal; \n            width:100%; \n            height:100%;\n            flex-direction:column;\">\n\n  <div style=\"display: grid; \n              grid-template-columns: repeat(13, 1fr); \n              gap: 5px;\">\n\n    <div ng-repeat=\"item in msg.payload\" ng-style=\"($index === 0) && {\n              'background':'linear-gradient(135deg, #097479, #044043)',\n              'color':'#e0f7f4',\n              'font-size':'14px',\n              'font-weight':'bold',\n              'display':'flex',\n              'justify-content':'center',\n              'align-items':'center',\n              'min-height':'60px',\n              'border-radius':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-shadow':'0 0 6px rgba(0,255,200,0.3)'\n        } || {\n              'background':'linear-gradient(135deg, #2c2c2c, #1a1a1a)',\n              'color':'#eee',\n              'border-radius':'5px',\n              'padding':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-align':'center',\n              'font-family':'Segoe UI, Arial, sans-serif'\n        }\">\n\n      <div ng-if=\"$index === 0\">\n        {{item.nombre}}\n      </div>\n\n      <div ng-if=\"$index !== 0\">\n        <div style=\"font-size:14px; color:#aaa; margin-bottom:10px;\">\n          {{item.nombre}}\n        </div>\n        <div style=\"font-size:20px; font-weight:bold; color:#ff5555;\">\n          {{item.valor}} {{item.unidadMedida}}\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "341113adf0814795",
        "type": "function",
        "z": "51ba17f126c92501",
        "g": "0701cb08b8d94d3f",
        "name": "function 161",
        "func": "\n//*** VALORES ANÁLOGOS ALARMAS \n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo7\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nmediciones.push({\n        nombre:\"ANÁLOGOS\"\n    });\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreCortoAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 780,
        "wires": [
            [
                "ad4a5cef08a952d1"
            ]
        ]
    },
    {
        "id": "ad4a5cef08a952d1",
        "type": "ui_template",
        "z": "51ba17f126c92501",
        "g": "0701cb08b8d94d3f",
        "group": "6257442a7c582971",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display:flex; \n            justify-content:center; \n            align-items:normal; \n            width:100%; \n            height:100%;\n            flex-direction:column;\">\n\n  <div style=\"display: grid; \n              grid-template-columns: repeat(13, 1fr); \n              gap: 5px;\">\n\n    <div ng-repeat=\"item in msg.payload\" ng-style=\"($index === 0) && {\n              'background':'linear-gradient(135deg, #097479, #044043)',\n              'color':'#e0f7f4',\n              'font-size':'14px',\n              'font-weight':'bold',\n              'display':'flex',\n              'justify-content':'center',\n              'align-items':'center',\n              'min-height':'60px',\n              'border-radius':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-shadow':'0 0 6px rgba(0,255,200,0.3)'\n        } || {\n              'background':'linear-gradient(135deg, #2c2c2c, #1a1a1a)',\n              'color':'#eee',\n              'border-radius':'5px',\n              'padding':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-align':'center',\n              'font-family':'Segoe UI, Arial, sans-serif'\n        }\">\n\n      <div ng-if=\"$index === 0\">\n        {{item.nombre}}\n      </div>\n\n      <div ng-if=\"$index !== 0\">\n        <div style=\"font-size:14px; color:#aaa; margin-bottom:10px;\">\n          {{item.nombre}}\n        </div>\n        <div style=\"font-size:20px; font-weight:bold; color:#ff5555;\">\n          {{item.valor}} {{item.unidadMedida}}\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "b1911ff9575b672c",
        "type": "function",
        "z": "51ba17f126c92501",
        "g": "def9cbc59ff7be3a",
        "name": "function 47",
        "func": "\n//*** TEMPERATURA DE CILINDROS\n\nlet mediciones = [];\n\nlet horas_lo = global.get(\"valorAnalogo81\");  // palabra baja (16 bits)\nlet horas_hi = global.get(\"valorAnalogo82\");  // palabra alta (16 bits)\nlet horas = (horas_hi << 16) | horas_lo; // Recombinar a un entero de 32 bits\nlet minutos = global.get(\"valorAnalogo83\");\nlet segundos = global.get(\"valorAnalogo84\");\n\nmediciones.push({\n        nombre:\"HORÓMETRO\"\n    });\n\nmediciones.push({\n        nombre:\"HORAS\",\n        valor:horas,\n        unidadMedida:\"hrs\"\n    });\n\nmediciones.push({\n        nombre:\"MINUTOS\",\n        valor:minutos,\n        unidadMedida:\"min\"\n    });\n\nmediciones.push({\n        nombre:\"SEGUNDOS\",\n        valor:segundos,\n        unidadMedida:\"seg\"\n    });\n \n\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 80,
        "wires": [
            [
                "f008f0b68cc84037"
            ]
        ]
    },
    {
        "id": "f008f0b68cc84037",
        "type": "ui_template",
        "z": "51ba17f126c92501",
        "g": "def9cbc59ff7be3a",
        "group": "676dd2ed92cff478",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display:flex; \n            justify-content:center; \n            align-items:normal; \n            width:100%; \n            height:100%;\n            flex-direction:column;\">\n\n  <div style=\"display: grid; \n              grid-template-columns: repeat(13, 1fr); \n              gap: 5px;\">\n\n    <div ng-repeat=\"item in msg.payload\" ng-style=\"($index === 0) && {\n              'background':'linear-gradient(135deg, #097479, #044043)',\n              'color':'#e0f7f4',\n              'font-size':'14px',\n              'font-weight':'bold',\n              'display':'flex',\n              'justify-content':'center',\n              'align-items':'center',\n              'min-height':'60px',\n              'border-radius':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-shadow':'0 0 6px rgba(0,255,200,0.3)'\n        } || {\n              'background':'linear-gradient(135deg, #2c2c2c, #1a1a1a)',\n              'color':'#eee',\n              'border-radius':'5px',\n              'padding':'5px',\n              'box-shadow':'0px 4px 12px rgba(0,0,0,0.6)',\n              'text-align':'center',\n              'font-family':'Segoe UI, Arial, sans-serif'\n        }\">\n\n      <div ng-if=\"$index === 0\">\n        {{item.nombre}}\n      </div>\n\n      <div ng-if=\"$index !== 0\">\n        <div style=\"font-size:14px; color:#aaa; margin-bottom:10px;\">\n          {{item.nombre}}\n        </div>\n        <div style=\"font-size:20px; font-weight:bold; color:#ff5555;\">\n          {{item.valor}} {{item.unidadMedida}}\n        </div>\n      </div>\n\n    </div>\n  </div>\n\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "f4546d47ab60db13",
        "type": "inject",
        "z": "cfb22f95d8f87cd7",
        "name": "Reloj",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 310,
        "y": 820,
        "wires": [
            [
                "5dcd88752ab7b574",
                "1805f77a973f6a28",
                "27214594085f8847",
                "b9f3557f69972aa8",
                "eb192ab25a5f1664",
                "d3d454bafd00a994",
                "bf1ca30d84c14ed1",
                "72f68abb49a87df6",
                "39f08fc3253d1b01",
                "e13a40c206b1cf5c",
                "7a09b9f3df4888fa"
            ]
        ]
    },
    {
        "id": "5dcd88752ab7b574",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo1\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo1\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 100,
        "wires": [
            [
                "4e06d737abd9dcad"
            ]
        ]
    },
    {
        "id": "fc18f39b558cabf3",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "function 26",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\n\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 100,
        "wires": [
            [
                "3646b95cb5cee8d5"
            ]
        ]
    },
    {
        "id": "19cb7f9fd0f7fc54",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 60,
        "wires": [
            [
                "3646b95cb5cee8d5"
            ]
        ]
    },
    {
        "id": "7a8c954fe18a0970",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "function 27",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 60,
        "wires": [
            [
                "19cb7f9fd0f7fc54"
            ]
        ]
    },
    {
        "id": "32711843acd067ae",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "function 24",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 340,
        "wires": [
            [
                "7b1d3afd7d10d40f"
            ]
        ]
    },
    {
        "id": "c02b1c412902a73a",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 300,
        "wires": [
            [
                "7b1d3afd7d10d40f"
            ]
        ]
    },
    {
        "id": "31655012c0ea625e",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "function 25",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 300,
        "wires": [
            [
                "c02b1c412902a73a"
            ]
        ]
    },
    {
        "id": "69aa8be0fdbd7533",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "function 28",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 580,
        "wires": [
            [
                "4ac6fa9395df5436"
            ]
        ]
    },
    {
        "id": "9954ae034fe8a256",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 540,
        "wires": [
            [
                "4ac6fa9395df5436"
            ]
        ]
    },
    {
        "id": "43477d22df71832f",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "function 29",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 540,
        "wires": [
            [
                "9954ae034fe8a256"
            ]
        ]
    },
    {
        "id": "0af7e5c441c27cc1",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "function 30",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 820,
        "wires": [
            [
                "c2231f84b3c32712"
            ]
        ]
    },
    {
        "id": "ce7a986041465108",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 780,
        "wires": [
            [
                "c2231f84b3c32712"
            ]
        ]
    },
    {
        "id": "db3ff4caba611f03",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "function 31",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 780,
        "wires": [
            [
                "ce7a986041465108"
            ]
        ]
    },
    {
        "id": "98b85948c33f2a5c",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "function 32",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1060,
        "wires": [
            [
                "a5dfa4a0895ab0cd"
            ]
        ]
    },
    {
        "id": "e9d7794692c1d808",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1020,
        "wires": [
            [
                "a5dfa4a0895ab0cd"
            ]
        ]
    },
    {
        "id": "e6203fe05782028e",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "function 33",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1020,
        "wires": [
            [
                "e9d7794692c1d808"
            ]
        ]
    },
    {
        "id": "c2dd592d2e2e3720",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "function 8",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1540,
        "wires": [
            [
                "a3160f437f41ea68"
            ]
        ]
    },
    {
        "id": "02973a6a813434bc",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1500,
        "wires": [
            [
                "a3160f437f41ea68"
            ]
        ]
    },
    {
        "id": "bd83f799e82ef211",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "function 9",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1500,
        "wires": [
            [
                "02973a6a813434bc"
            ]
        ]
    },
    {
        "id": "46f2cc2016c915e2",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "function 14",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1780,
        "wires": [
            [
                "f2721a218d1c422c"
            ]
        ]
    },
    {
        "id": "336a35548b926e1b",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1740,
        "wires": [
            [
                "f2721a218d1c422c"
            ]
        ]
    },
    {
        "id": "b4ce4f48aac6361d",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "function 15",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1740,
        "wires": [
            [
                "336a35548b926e1b"
            ]
        ]
    },
    {
        "id": "c7ca3faf827c6369",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "function 35",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2020,
        "wires": [
            [
                "a4106b393ec2f777"
            ]
        ]
    },
    {
        "id": "9c4573110f2a7b1e",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1980,
        "wires": [
            [
                "a4106b393ec2f777"
            ]
        ]
    },
    {
        "id": "d442d7a01c40e440",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "function 36",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1980,
        "wires": [
            [
                "9c4573110f2a7b1e"
            ]
        ]
    },
    {
        "id": "9dc58635df9ae751",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "function 48",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2260,
        "wires": [
            [
                "3c92f4e6bf420da5"
            ]
        ]
    },
    {
        "id": "a53a4daed20c9c02",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 2220,
        "wires": [
            [
                "3c92f4e6bf420da5"
            ]
        ]
    },
    {
        "id": "4f6397c394d79b8a",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "function 49",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2220,
        "wires": [
            [
                "a53a4daed20c9c02"
            ]
        ]
    },
    {
        "id": "384e58a5f2510872",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "function 50",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2500,
        "wires": [
            [
                "d12b57ac021ed554"
            ]
        ]
    },
    {
        "id": "9e86976889c576ae",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 2460,
        "wires": [
            [
                "d12b57ac021ed554"
            ]
        ]
    },
    {
        "id": "cdf72a855bf1b199",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "function 51",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2460,
        "wires": [
            [
                "9e86976889c576ae"
            ]
        ]
    },
    {
        "id": "a2ce4b3a06433c7d",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "function 52",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1300,
        "wires": [
            [
                "04e6cbef10cc5f4f"
            ]
        ]
    },
    {
        "id": "8cb1e325e911148a",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1260,
        "wires": [
            [
                "04e6cbef10cc5f4f"
            ]
        ]
    },
    {
        "id": "1f8d69877c0ecfd3",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "function 53",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1260,
        "wires": [
            [
                "8cb1e325e911148a"
            ]
        ]
    },
    {
        "id": "140910463fb954da",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "function 55",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\n\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 200,
        "wires": [
            [
                "fdc6db8f890c9e30"
            ]
        ]
    },
    {
        "id": "0a6a5ecb128398d0",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 160,
        "wires": [
            [
                "fdc6db8f890c9e30"
            ]
        ]
    },
    {
        "id": "3de74c1f40a00ffc",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "function 56",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 160,
        "wires": [
            [
                "0a6a5ecb128398d0"
            ]
        ]
    },
    {
        "id": "8d98f7fd3a0d2a4f",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "function 57",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 440,
        "wires": [
            [
                "49e6c19e253270a6"
            ]
        ]
    },
    {
        "id": "2b45f02caef3c86c",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 400,
        "wires": [
            [
                "49e6c19e253270a6"
            ]
        ]
    },
    {
        "id": "4123270e4ddad19c",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "function 58",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 400,
        "wires": [
            [
                "2b45f02caef3c86c"
            ]
        ]
    },
    {
        "id": "6faef45b72ac84c4",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "function 59",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 680,
        "wires": [
            [
                "8b638264a68954be"
            ]
        ]
    },
    {
        "id": "db2c51fb15888232",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 640,
        "wires": [
            [
                "8b638264a68954be"
            ]
        ]
    },
    {
        "id": "e2dc1653a11b694f",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "function 60",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 640,
        "wires": [
            [
                "db2c51fb15888232"
            ]
        ]
    },
    {
        "id": "e792a90fac5d359b",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "function 61",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 920,
        "wires": [
            [
                "736bae57edbe6697"
            ]
        ]
    },
    {
        "id": "88404ddbdf3a6358",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 880,
        "wires": [
            [
                "736bae57edbe6697"
            ]
        ]
    },
    {
        "id": "c8632427a4b9eb4f",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "function 62",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 880,
        "wires": [
            [
                "88404ddbdf3a6358"
            ]
        ]
    },
    {
        "id": "0abded2cb619e51a",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "function 63",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1160,
        "wires": [
            [
                "deec9a16810d3a78"
            ]
        ]
    },
    {
        "id": "5bf44776d03578e2",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1120,
        "wires": [
            [
                "deec9a16810d3a78"
            ]
        ]
    },
    {
        "id": "8175cbaae90117f9",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "function 64",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1120,
        "wires": [
            [
                "5bf44776d03578e2"
            ]
        ]
    },
    {
        "id": "5c15ab92ddeb4ce3",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "function 65",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1400,
        "wires": [
            [
                "184c86f6d8e0f1d0"
            ]
        ]
    },
    {
        "id": "f92391e00c91d140",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1360,
        "wires": [
            [
                "184c86f6d8e0f1d0"
            ]
        ]
    },
    {
        "id": "8981091cfb1a40a8",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "function 66",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1360,
        "wires": [
            [
                "f92391e00c91d140"
            ]
        ]
    },
    {
        "id": "8277aae6afd0c680",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "function 67",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1640,
        "wires": [
            [
                "978268d29b907264"
            ]
        ]
    },
    {
        "id": "596713f0f90addc4",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1600,
        "wires": [
            [
                "978268d29b907264"
            ]
        ]
    },
    {
        "id": "95699bec420b320a",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "function 68",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1600,
        "wires": [
            [
                "596713f0f90addc4"
            ]
        ]
    },
    {
        "id": "26947267902d3f50",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "function 69",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1880,
        "wires": [
            [
                "26443391465b8eab"
            ]
        ]
    },
    {
        "id": "084380d9a1ba3c52",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 1840,
        "wires": [
            [
                "26443391465b8eab"
            ]
        ]
    },
    {
        "id": "096a158e2c629137",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "function 70",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 1840,
        "wires": [
            [
                "084380d9a1ba3c52"
            ]
        ]
    },
    {
        "id": "6b36d629dda093a2",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "function 71",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2120,
        "wires": [
            [
                "d66135cf65c12edc"
            ]
        ]
    },
    {
        "id": "b1651b45e90d3a14",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 2080,
        "wires": [
            [
                "d66135cf65c12edc"
            ]
        ]
    },
    {
        "id": "69a54ef9cfcf5b3f",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "function 72",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2080,
        "wires": [
            [
                "b1651b45e90d3a14"
            ]
        ]
    },
    {
        "id": "8fb4d1b6fb1851c1",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "function 73",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2360,
        "wires": [
            [
                "3cc0c60b0ae79544"
            ]
        ]
    },
    {
        "id": "5ba4850ad5dd7f7d",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 2320,
        "wires": [
            [
                "3cc0c60b0ae79544"
            ]
        ]
    },
    {
        "id": "df6d3086b1f89a74",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "function 74",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2320,
        "wires": [
            [
                "5ba4850ad5dd7f7d"
            ]
        ]
    },
    {
        "id": "1c4f70fb4e1b4566",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "function 75",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : true,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2600,
        "wires": [
            [
                "f89b10f76160a58d"
            ]
        ]
    },
    {
        "id": "4851d12d914693b1",
        "type": "delay",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1140,
        "y": 2560,
        "wires": [
            [
                "f89b10f76160a58d"
            ]
        ]
    },
    {
        "id": "863fdbe568ef3f5e",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "function 76",
        "func": "var mensajeEntrada = msg.payload;\nlet idAlarma = msg.index; //env.get(\"numeroAlarma\");\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirReconocerAlarma\" + idAlarma);\nmsg.payload = {\n    value : false,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n}\nif (mensajeEntrada === \"ack\") {\n    return msg;\n} else {\n    return null; // No envía nada\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 2560,
        "wires": [
            [
                "4851d12d914693b1"
            ]
        ]
    },
    {
        "id": "1805f77a973f6a28",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo2\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo2\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 340,
        "wires": [
            [
                "4dc22aedcb73ddda"
            ]
        ]
    },
    {
        "id": "27214594085f8847",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo3\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo3\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 580,
        "wires": [
            [
                "3307a1eca4b8188b"
            ]
        ]
    },
    {
        "id": "d3d454bafd00a994",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo4\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo4\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 820,
        "wires": [
            [
                "0ccba00b4938b3d4"
            ]
        ]
    },
    {
        "id": "eb192ab25a5f1664",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo5\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo5\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 1060,
        "wires": [
            [
                "bfe0211863865699"
            ]
        ]
    },
    {
        "id": "b9f3557f69972aa8",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo6\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo6\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 1300,
        "wires": [
            [
                "adb1b691a3e69821"
            ]
        ]
    },
    {
        "id": "bf1ca30d84c14ed1",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo7\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo7\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 1540,
        "wires": [
            [
                "4a7a54cfcbedab53"
            ]
        ]
    },
    {
        "id": "72f68abb49a87df6",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo8\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo8\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 1780,
        "wires": [
            [
                "99b4648935270ef0"
            ]
        ]
    },
    {
        "id": "39f08fc3253d1b01",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo9\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo9\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 2020,
        "wires": [
            [
                "94a43dc7444ac1c1"
            ]
        ]
    },
    {
        "id": "e13a40c206b1cf5c",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo10\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo10\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 2260,
        "wires": [
            [
                "4406babdcbbb48bb"
            ]
        ]
    },
    {
        "id": "7a09b9f3df4888fa",
        "type": "function",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotones\");\nlet estadoGrupo = null;\nlet boton = {};\n\nlet listado = global.get(\"numAlarmas_grupo11\");\nfor (let i of listado) {\n    let estado_alarma = global.get(\"global_alarma\" + i);\n    let estado_inhibicionAlarma = global.get(\"alarmaInhibida\" + i);\n    let titulo = global.get(\"nombreAlarma\" + i);\n\n    if (estado_inhibicionAlarma == \"noInhibida\") {\n        if (estado_alarma == \"activa_noReconocida\" || estado_alarma == \"inactiva_noReconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: true,\n                indice: i,\n                height: alturaBotones\n            };\n            estadoGrupo = \"noReconocida\";\n        } else if (estado_alarma == \"activa_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_alarma\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\")\n                estadoGrupo = \"activa_reconocida\";\n        } else if (estado_alarma == \"inactiva_reconocida\") {\n            boton = {\n                text: titulo,\n                color: global.get(\"global_color_normal\"),\n                blink: false,\n                indice: i,\n                height: alturaBotones\n            };\n            if (estadoGrupo != \"noReconocida\" && estadoGrupo != \"activa_reconocida\")\n                estadoGrupo = \"inactiva_reconocida\";\n        }\n    }\n    else if (estado_inhibicionAlarma == \"inhibida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_inhibida\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n\n    botones.push(boton);\n}\nglobal.set(\"global_estadoAlarmasGrupo11\", estadoGrupo);\n\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 590,
        "y": 2500,
        "wires": [
            [
                "fb54dcd210a0e5bf"
            ]
        ]
    },
    {
        "id": "4dc22aedcb73ddda",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "group": "e63cf1ae4e1d823b",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "11",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 340,
        "wires": [
            [
                "32711843acd067ae",
                "31655012c0ea625e",
                "4123270e4ddad19c",
                "8d98f7fd3a0d2a4f"
            ]
        ]
    },
    {
        "id": "3307a1eca4b8188b",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "group": "6b5965399fdebbaf",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "10",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 580,
        "wires": [
            [
                "69aa8be0fdbd7533",
                "43477d22df71832f",
                "e2dc1653a11b694f",
                "6faef45b72ac84c4"
            ]
        ]
    },
    {
        "id": "0ccba00b4938b3d4",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "group": "5b60b946729b98c8",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "14",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 820,
        "wires": [
            [
                "0af7e5c441c27cc1",
                "db3ff4caba611f03",
                "c8632427a4b9eb4f",
                "e792a90fac5d359b"
            ]
        ]
    },
    {
        "id": "bfe0211863865699",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "group": "d28a388a67fdf864",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "11",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 1060,
        "wires": [
            [
                "98b85948c33f2a5c",
                "e6203fe05782028e",
                "8175cbaae90117f9",
                "0abded2cb619e51a"
            ]
        ]
    },
    {
        "id": "4e06d737abd9dcad",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "group": "94b5b6cc08aae104",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "11",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 100,
        "wires": [
            [
                "fc18f39b558cabf3",
                "7a8c954fe18a0970",
                "3de74c1f40a00ffc",
                "140910463fb954da"
            ]
        ]
    },
    {
        "id": "4a7a54cfcbedab53",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "group": "f7d320467fb60b47",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "11",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 1540,
        "wires": [
            [
                "c2dd592d2e2e3720",
                "bd83f799e82ef211",
                "95699bec420b320a",
                "8277aae6afd0c680"
            ]
        ]
    },
    {
        "id": "99b4648935270ef0",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "group": "a6c5436f256ef7f0",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "11",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 1780,
        "wires": [
            [
                "46f2cc2016c915e2",
                "b4ce4f48aac6361d",
                "096a158e2c629137",
                "26947267902d3f50"
            ]
        ]
    },
    {
        "id": "94a43dc7444ac1c1",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "group": "2f696d36c80b1901",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "11",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 2020,
        "wires": [
            [
                "c7ca3faf827c6369",
                "d442d7a01c40e440",
                "69a54ef9cfcf5b3f",
                "6b36d629dda093a2"
            ]
        ]
    },
    {
        "id": "4406babdcbbb48bb",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "group": "9078ebf5eaab329c",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "11",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 2260,
        "wires": [
            [
                "9dc58635df9ae751",
                "4f6397c394d79b8a",
                "df6d3086b1f89a74",
                "8fb4d1b6fb1851c1"
            ]
        ]
    },
    {
        "id": "fb54dcd210a0e5bf",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "group": "24619f5607485066",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "11",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 2500,
        "wires": [
            [
                "384e58a5f2510872",
                "cdf72a855bf1b199",
                "863fdbe568ef3f5e",
                "1c4f70fb4e1b4566"
            ]
        ]
    },
    {
        "id": "adb1b691a3e69821",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "group": "c9cdb4137d96defa",
        "name": "",
        "order": 2,
        "width": "31",
        "height": "10",
        "format": "<div class=\"alarm-grid\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 780,
        "y": 1300,
        "wires": [
            [
                "a2ce4b3a06433c7d",
                "1f8d69877c0ecfd3",
                "8981091cfb1a40a8",
                "5c15ab92ddeb4ce3"
            ]
        ]
    },
    {
        "id": "41a8afddbe517cc5",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "94b5b6cc08aae104",
        "name": "Style para sacar el scroll vertical de este TAB",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n/*    body,\n    md-content,\n    .nr-dashboard-theme {\n        overflow-y: hidden !important;\n    }*/\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 190,
        "y": 40,
        "wires": [
            []
        ]
    },
    {
        "id": "c4b68bac0541ef17",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "6b5965399fdebbaf",
        "name": "Style para los botones AIRE DE CARGA",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 180,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "093ec4525185316c",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "5b60b946729b98c8",
        "name": "Style para los botones GASES DE ESCAPE",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 800px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 190,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "75d76d6f61db63c5",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "d28a388a67fdf864",
        "name": "Style para los botones CIGÜEÑAL",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 160,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "42a795bdd67cba76",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "c9cdb4137d96defa",
        "name": "Style para los botones CILINDROS",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 160,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "3f6f883cd9b366ed",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "f7d320467fb60b47",
        "name": "Style para los botones BLOQUEO PARADA",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 190,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "3b6c329b0a42d03e",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "a6c5436f256ef7f0",
        "name": "Style para los botones MISCELÁNEOS",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 170,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "fd30d8576dba15d0",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "2f696d36c80b1901",
        "name": "Style para los botones CAJA Y THRUSTER",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 190,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "ce9242a233a12c19",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "9078ebf5eaab329c",
        "name": "Style para los botones SENTINA",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 150,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "40f80e657fb897c6",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "24619f5607485066",
        "name": "Style para los botones ESTANQUES",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 170,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "0a08d62d579d5e26",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "e63cf1ae4e1d823b",
        "name": "Style para los botones AGUA ENFRIAMIENTO",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 200,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "1118a20a70d5f338",
        "type": "ui_template",
        "z": "cfb22f95d8f87cd7",
        "group": "94b5b6cc08aae104",
        "name": "Style para los botones COMBUSTIBLE / LUBRICACIÓN",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .alarm-grid {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n\n    \n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 230,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "3646b95cb5cee8d5",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 100,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7b1d3afd7d10d40f",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 340,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4ac6fa9395df5436",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 580,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c2231f84b3c32712",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 820,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a5dfa4a0895ab0cd",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 1060,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a3160f437f41ea68",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 1540,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f2721a218d1c422c",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 1780,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a4106b393ec2f777",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 2020,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3c92f4e6bf420da5",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 2260,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d12b57ac021ed554",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 2500,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "04e6cbef10cc5f4f",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 1300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "fdc6db8f890c9e30",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "d0812689b7e92b9c",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 200,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "49e6c19e253270a6",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "a187bd5f1659257a",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 440,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "8b638264a68954be",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "2d3dca03dea1e687",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 680,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "736bae57edbe6697",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "a4528126c4febae8",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 920,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "deec9a16810d3a78",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "214324b62065e36c",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 1160,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "184c86f6d8e0f1d0",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "a7665cdbd8e289a5",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 1400,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "978268d29b907264",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "64005ba74d97e46a",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 1640,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "26443391465b8eab",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "ba1765cc12a9c34d",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 1880,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d66135cf65c12edc",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "cb1dd633b6bec734",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 2120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3cc0c60b0ae79544",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "8eb09636907a3d22",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 2360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f89b10f76160a58d",
        "type": "modbus-flex-write",
        "z": "cfb22f95d8f87cd7",
        "g": "9005198e12692a07",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1330,
        "y": 2600,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2943326c4994c8e8",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Consulta personalizada",
        "func": "// Obtener los sensores seleccionados desde el flow context\nlet sensoresSeleccionados = flow.get(\"sensoresSeleccionados\");\nlet segundosAntes = msg.payload; // llega siempre en segundos\n\n// Validación básica\nif (!Array.isArray(sensoresSeleccionados) || sensoresSeleccionados.length === 0) {\n    msg.mensaje = \"No hay sensores seleccionados\";\n    msg.color = \"red\";\n    msg.borrarGrafico = true;\n    return msg;\n}\n\nconst maxPoints = 400;\nconst intervalMs = Math.floor(segundosAntes / maxPoints);\nconst intervalFlux = intervalMs + \"s\";\nlet segundosAntes_text = segundosAntes + \"s\";\n\n// Construir string para filtro de campos seleccionados\nconst filtroCampos = sensoresSeleccionados\n    .map(id => `r[\"tag\"] == \"${id}\"`)  // sin comillas para números\n    .join(\" or \");\n   \n    //.map(sensor => `r._field == \"${sensor}\"`)\n    //.join(\" or \");\n\n// Construir la consulta Flux\n\nmsg.query = `\nfrom(bucket: \"HistoricoAnalogos\")\n  |> range(start: -${segundosAntes_text})\n  |> filter(fn: (r) => r[\"_measurement\"] == \"Analogos\")\n  |> filter(fn: (r) => ${filtroCampos})\n  |> filter(fn: (r) => r[\"_field\"] == \"valor\")\n  |> aggregateWindow(every: ${intervalFlux}, fn: mean, createEmpty: false)\n`;\n\n\n/*\nmsg.query = `\nfrom(bucket: \"HistoricoAnalogos\")\n  |> range(start: -${segundosAntes_text})\n  |> filter(fn: (r) => r._measurement == \"Analogos\")\n  |> filter(fn: (r) => ${filtroCampos})\n  |> aggregateWindow(every: ${intervalFlux}, fn: mean, createEmpty: false)\n`;\n*/\nreturn msg;\n\n\n\n/*\n// Construir la consulta Flux\nlet segundosAntes = msg.payload; // llega siempre en segundos\nconst maxPoints = 400;\nconst intervalMs = Math.floor(segundosAntes / maxPoints);\nconst intervalFlux = intervalMs + \"s\";\nlet segundosAntes_text = segundosAntes + \"s\";\n\nmsg.query = `\nfrom(bucket: \"Analogos3\")\n  |> range(start: -${segundosAntes_text})\n  |> filter(fn: (r) => r._measurement == \"Analogos\")\n  |> filter(fn: (r) => r._field == \"sensor1\" or r[\"_field\"] == \"sensor2\")\n  |> aggregateWindow(every: ${intervalFlux}, fn: mean, createEmpty: false)\n`;\n\nreturn msg;\n*/\n\n\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 160,
        "wires": [
            [
                "9cc91a32c057d2f2",
                "87308ae25bbaab60",
                "ba89ce737e445f3c"
            ]
        ]
    },
    {
        "id": "1026405a873ee37b",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Guarda fecha inicio seleccionada",
        "func": "flow.set(\"fecha_inicio\", msg.payload-86400000);\nlet fecha = new Date(flow.get(\"fecha_inicial\"));\nmsg.payload = fecha;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 980,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "a8ef7dfe65ce71fd",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Guarda hora inicio seleccionada",
        "func": "flow.set(\"hora_inicio\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 520,
        "wires": [
            []
        ]
    },
    {
        "id": "8b016927253521db",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Prepara datos para graficarlos",
        "func": "const datosInflux = msg.payload;\n\nlet seriesMap = {}; \nlet outObj = [{\n    series: [],\n    data: [],\n    labels: [\"\"]\n}];\n\n// Obtener el desfase de zona horaria (ej: -4 o -3)\nlet zona = global.get(\"zonaHoraria\");     // número entero\nlet offsetMs = zona * 60 * 60 * 1000;     // convertir a milisegundos\n\nfor (let item of datosInflux) {\n    let tag = item.tag;\n\n    // Si el sensor aún no está registrado en la serie, lo agregamos\n    if (!(tag in seriesMap)) {\n        seriesMap[tag] = outObj[0].series.length;\n\n        let nombre = global.get(\"nombreAnalogo\" + tag);\n        outObj[0].series.push(nombre);\n        outObj[0].data.push([]);\n    }\n\n    let index = seriesMap[tag];\n\n    // Convertir el tiempo recibido (UTC 0) a la zona horaria definida\n    let fechaUTC = new Date(item._time);       // viene en UTC\n    let fechaLocal = new Date(fechaUTC.getTime() + offsetMs);\n\n    outObj[0].data[index].push({\n        x: fechaLocal,     // ahora está en UTC-3 o UTC-4 según la variable\n        y: item._value\n    });\n}\n\nmsg.payload = outObj;\nreturn msg;\n\n\n\n\n/*const datosInflux = msg.payload;\n\nlet seriesMap = {}; // Para mapear nombre del sensor a su índice en los arrays\nlet outObj = [{\n    series: [],\n    data: [],\n    labels: [\"\"]\n}];\n\nfor (let item of datosInflux) {\n    let tag = item.tag;\n\n    // Si el sensor aún no está registrado en la serie, lo agregamos\n    if (!(tag in seriesMap)) {\n        seriesMap[tag] = outObj[0].series.length; // índice actual\n        let nombre = global.get(\"nombreAnalogo\" + tag)\n        outObj[0].series.push(nombre);               // nombre del sensor\n        outObj[0].data.push([]);                    // array de datos vacío\n    }\n\n    let index = seriesMap[tag];\n    outObj[0].data[index].push({\n        x: item._time,\n        y: item._value\n    });\n}\n\nmsg.payload = outObj;\nreturn msg;\n*/",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 890,
        "y": 160,
        "wires": [
            [
                "466d12ce511d9ac0"
            ]
        ]
    },
    {
        "id": "71291e01536b63a8",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "genera consula entre fechas y horas seleccionadas",
        "func": "// Obtener fechas y horas desde el flow context\nlet fecha_inicio = flow.get(\"fecha_inicio\");\nlet hora_inicio = flow.get(\"hora_inicio\");\nlet fecha_final = flow.get(\"fecha_final\");\nlet hora_final = flow.get(\"hora_final\");\n\n// Obtener sensores seleccionados\nlet sensoresSeleccionados = flow.get(\"sensoresSeleccionados\");\n\n// Validar que todas las variables estén presentes\nif (!fecha_inicio || !hora_inicio || !fecha_final || !hora_final || !Array.isArray(sensoresSeleccionados) || sensoresSeleccionados.length === 0) {\n    node.error(\"Falta fecha, hora o sensores seleccionados en variables del flow.\");\n    return null;\n}\n\n// Combinar fecha y hora\nfunction combinarFechaHora(fechaMs, horaStr) {\n    let fecha = new Date(fechaMs);\n    let partes = horaStr.trim().split(\":\");\n    if (partes.length < 2) {\n        node.error(\"Formato de hora inválido: \" + horaStr);\n        return null;\n    }\n    let hora = parseInt(partes[0], 10);\n    let minuto = parseInt(partes[1], 10);\n    fecha.setHours(hora);\n    fecha.setMinutes(minuto);\n    fecha.setSeconds(0);\n    fecha.setMilliseconds(0);\n    return fecha;\n}\n\nlet fechaHoraInicio = combinarFechaHora(fecha_inicio, hora_inicio);\nlet fechaHoraFinal = combinarFechaHora(fecha_final, hora_final);\n\n// Verificación de que se hayan podido combinar bien\nif (!fechaHoraInicio || !fechaHoraFinal) return null;\n\n// Validar que la hora de inicio sea anterior a la final\nif (fechaHoraInicio >= fechaHoraFinal) {\n    node.error(\"La hora de inicio debe ser anterior a la hora final.\");\n    return null;\n}\n\n// Obtener desfase horario\nlet zona = global.get(\"zonaHoraria\");  // -3 o -4\nlet offsetMs = zona * 60 * 60 * 1000;\n\n// Convertir horas locales → UTC\nlet inicioUTC = new Date(fechaHoraInicio.getTime() - offsetMs);\nlet finalUTC  = new Date(fechaHoraFinal.getTime() - offsetMs);\n\n// Calcular intervalo para un máximo de 400 puntos\nconst maxPoints = 400;\nconst durationMs = finalUTC.getTime() - inicioUTC.getTime();\nconst intervalMs = Math.floor(durationMs / maxPoints);\nconst intervalFlux = intervalMs + \"ms\";\n\n// Convertir a formato ISO UTC\nlet startISO = inicioUTC.toISOString();\nlet stopISO = finalUTC.toISOString();\n\n// Construir filtro dinámico para los sensores\nconst filtroCampos = sensoresSeleccionados.map(s => `r[\"tag\"] == \"${s}\"`).join(\" or \");\n\n// Construir la consulta Flux\nmsg.query = `\nfrom(bucket: \"HistoricoAnalogos\")\n  |> range(start: ${startISO}, stop: ${stopISO})\n  |> filter(fn: (r) => r._measurement == \"Analogos\")\n  |> filter(fn: (r) => r[\"_field\"] == \"valor\")\n  |> filter(fn: (r) => ${filtroCampos})\n  |> aggregateWindow(every: ${intervalFlux}, fn: mean, createEmpty: false)\n`;\n\nreturn msg;\n\n\n\n/*\n// Obtener fechas y horas desde el flow context\nlet fecha_inicio = flow.get(\"fecha_inicio\");\nlet hora_inicio = flow.get(\"hora_inicio\");\nlet fecha_final = flow.get(\"fecha_final\");\nlet hora_final = flow.get(\"hora_final\");\n\n// Obtener sensores seleccionados\nlet sensoresSeleccionados = flow.get(\"sensoresSeleccionados\");\n\n// Validar que todas las variables estén presentes\nif (!fecha_inicio || !hora_inicio || !fecha_final || !hora_final || !Array.isArray(sensoresSeleccionados) || sensoresSeleccionados.length === 0) {\n    node.error(\"Falta fecha, hora o sensores seleccionados en variables del flow.\");\n    return null;\n}\n\n// Combinar fecha y hora\nfunction combinarFechaHora(fechaMs, horaStr) {\n    let fecha = new Date(fechaMs);\n    let partes = horaStr.trim().split(\":\");\n    if (partes.length < 2) {\n        node.error(\"Formato de hora inválido: \" + horaStr);\n        return null;\n    }\n    let hora = parseInt(partes[0], 10);\n    let minuto = parseInt(partes[1], 10);\n    fecha.setHours(hora);\n    fecha.setMinutes(minuto);\n    fecha.setSeconds(0);\n    fecha.setMilliseconds(0);\n    return fecha;\n}\n\nlet fechaHoraInicio = combinarFechaHora(fecha_inicio, hora_inicio);\nlet fechaHoraFinal = combinarFechaHora(fecha_final, hora_final);\n\n// Verificación de que se hayan podido combinar bien\nif (!fechaHoraInicio || !fechaHoraFinal) return null;\n\n// Validar que la hora de inicio sea anterior a la final\nif (fechaHoraInicio >= fechaHoraFinal) {\n    node.error(\"La hora de inicio debe ser anterior a la hora final.\");\n    return null;\n}\n\n// Calcular intervalo para un máximo de 400 puntos\nconst maxPoints = 400;\nconst durationMs = fechaHoraFinal.getTime() - fechaHoraInicio.getTime();\nconst intervalMs = Math.floor(durationMs / maxPoints);\nconst intervalFlux = intervalMs + \"ms\";\n\n// Convertir a formato ISO\nlet startISO = fechaHoraInicio.toISOString();\nlet stopISO = fechaHoraFinal.toISOString();\n\n// Construir filtro dinámico para los sensores\nconst filtroCampos = sensoresSeleccionados.map(s => `r[\"tag\"] == \"${s}\"`).join(\" or \");\n\n// Construir la consulta Flux\nmsg.query = `\nfrom(bucket: \"HistoricoAnalogos\")\n  |> range(start: ${startISO}, stop: ${stopISO})\n  |> filter(fn: (r) => r._measurement == \"Analogos\")\n  |> filter(fn: (r) => r[\"_field\"] == \"valor\")\n  |> filter(fn: (r) => ${filtroCampos})\n  |> aggregateWindow(every: ${intervalFlux}, fn: mean, createEmpty: false)\n`;\n/* ejemplo\n  |> range(start: 2025-07-28T18:00:00.000Z, stop: 2025-07-28T23:00:00.000Z)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"Analogos\")\n  |> filter(fn: (r) => r[\"_field\"] == \"valor\")\n  |> filter(fn: (r) => r[\"tag\"] == \"10\" or r[\"tag\"] == \"12\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")\n*/\n//return msg;\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 300,
        "wires": [
            [
                "9cc91a32c057d2f2"
            ]
        ]
    },
    {
        "id": "4dd2672ebed8d886",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Guarda fecha final seleccionada",
        "func": "flow.set(\"fecha_final\", msg.payload-86400000);\nlet fecha = new Date(msg.payload-86400000);\nmsg.payload = fecha;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "1ac542305ca0d90f",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Guarda hora final seleccionada",
        "func": "flow.set(\"hora_final\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 640,
        "wires": [
            []
        ]
    },
    {
        "id": "349b3f0477d1d231",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Prepara mensajes de validación de consultas",
        "func": "if (Array.isArray(msg.payload) && msg.payload.length === 0) {\n    msg.mensaje =\"No se tienen datos en el rango de tiempo seleccionado\"\n    msg.color = \"red\";\n    msg.borrarGrafico = true;\n}\nelse{\n    msg.mensaje = \"Datos encontrados\";\n    msg.color = \"green\";\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 930,
        "y": 200,
        "wires": [
            [
                "87308ae25bbaab60",
                "ba89ce737e445f3c"
            ]
        ]
    },
    {
        "id": "ae030a9db0242a5f",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Prepara mensajes de validación de consultas 2",
        "func": "// Obtener fechas y horas desde el flow context\nlet fecha_inicio = flow.get(\"fecha_inicio\");\nlet hora_inicio = flow.get(\"hora_inicio\");\nlet fecha_final = flow.get(\"fecha_final\");\nlet hora_final = flow.get(\"hora_final\");\n\n// Validar que todas las variables estén presentes\nif (!fecha_inicio || !hora_inicio || !fecha_final || !hora_final) {    \n    msg.mensaje = \"No se han seleccionado las fechas y horas correspondientes\";\n    msg.color = \"red\";\n    msg.borrarGrafico = true;\n    return msg;\n}\n\n// Obtener sensores seleccionados\nlet sensoresSeleccionados = flow.get(\"sensoresSeleccionados\");\nif(!Array.isArray(sensoresSeleccionados) || sensoresSeleccionados.length === 0){\n    msg.mensaje = \"No hay sensores seleccionados\";\n    msg.color = \"red\";\n    msg.borrarGrafico = true;\n    return msg;\n}\n\n// Combinar fecha y hora\nfunction combinarFechaHora(fechaMs, horaStr) {\n    let fecha = new Date(fechaMs);\n    let partes = horaStr.trim().split(\":\");\n    if (partes.length < 2) {\n        node.error(\"Formato de hora inválido: \" + horaStr);\n        return null;\n    }\n    let hora = parseInt(partes[0], 10);\n    let minuto = parseInt(partes[1], 10);\n    fecha.setHours(hora);\n    fecha.setMinutes(minuto);\n    fecha.setSeconds(0);\n    fecha.setMilliseconds(0);\n    return fecha;\n}\n\nlet fechaHoraInicio = combinarFechaHora(fecha_inicio, hora_inicio);\nlet fechaHoraFinal = combinarFechaHora(fecha_final, hora_final);\n\n\n// Verificación de que se hayan podido combinar bien\nif (!fechaHoraInicio || !fechaHoraFinal) return null;\n\n// Validar que la hora de inicio sea anterior a la final\nif (fechaHoraInicio >= fechaHoraFinal) {\n    msg.mensaje = \"La fecha y hora de inicio debe ser anterior a la fecha y hora final.\";    \n    msg.color = \"red\";\n    msg.borrarGrafico = true;\n    return msg;\n}\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 660,
        "y": 340,
        "wires": [
            [
                "87308ae25bbaab60",
                "ba89ce737e445f3c"
            ]
        ]
    },
    {
        "id": "f5a47150fa2e2f78",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "g": "6ee86910667a3881",
        "name": "function 10",
        "func": "let analogos = [];\nlet idAnalogos = global.get(\"idAnalogos\");\n\nfor(let i of idAnalogos) {\n    let nombre = global.get(\"nombreAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i);\n\n    if (valor !== undefined && nombre !== undefined) {\n        analogos.push([\n            {\n                nombre: nombre,\n                valor: valor,\n                identificador: i                \n            },\n            {\n                tag: i\n            }\n        ]);\n    }\n}\n\nif (analogos.length === 0) return null;\n\nmsg.payload = analogos;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 60,
        "wires": [
            [
                "3e0a105aecb18d65"
            ]
        ]
    },
    {
        "id": "63a974457e441062",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "inicia hora inicial guardada",
        "func": "let horaGuardada = flow.get(\"hora_inicio\"); // o global.get(...) si lo tienes como global\n\nif (horaGuardada) {\n    msg.payload = horaGuardada; // por ejemplo: \"17:05\"\n    return msg;\n}\n\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 520,
        "wires": [
            [
                "6c127370e80457b9"
            ]
        ]
    },
    {
        "id": "80cc29671f5e9b70",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "inicia hora final guardada",
        "func": "let horaGuardada = flow.get(\"hora_final\"); // o global.get(...) si lo tienes como global\n\nif (horaGuardada) {\n    msg.payload = horaGuardada; // por ejemplo: \"17:05\"\n    return msg;\n}\n\nreturn null;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 640,
        "wires": [
            [
                "a51beae7f6633746"
            ]
        ]
    },
    {
        "id": "7ef8246b6a05340b",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "genera nombres e identificadores",
        "func": "let sensores = [];\n\nlet idAnalogos = global.get(\"idAnalogos\");\n\nfor (let i of idAnalogos) {\n    let nombre_ = global.get(\"nombreAnalogo\" + i);\n    sensores.push({ nombre: nombre_, id:i});\n}\n\nmsg.options = sensores;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 740,
        "wires": [
            [
                "75521240edd1fbfa"
            ]
        ]
    },
    {
        "id": "d80eaf5ce129721c",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "function 17",
        "func": "let sensoresSeleccionados = msg.payload;\nflow.set(\"sensoresSeleccionados\", sensoresSeleccionados)\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "a40912b85a8df446",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "Mensaje en blanco al inicio",
        "func": "msg.mensaje = \"\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 440,
        "wires": [
            [
                "87308ae25bbaab60"
            ]
        ]
    },
    {
        "id": "ba89ce737e445f3c",
        "type": "function",
        "z": "5ca5ab6bbe6b937a",
        "name": "borrar gráfico actual",
        "func": "if(msg.borrarGrafico == true){\n    msg.payload = [];\n    return msg;\n}\nreturn null;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1240,
        "y": 80,
        "wires": [
            [
                "466d12ce511d9ac0"
            ]
        ]
    },
    {
        "id": "fc163a079c1dace3",
        "type": "inject",
        "z": "5ca5ab6bbe6b937a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 60,
        "wires": [
            [
                "f5a47150fa2e2f78"
            ]
        ]
    },
    {
        "id": "ad842e5436d61623",
        "type": "ui_button",
        "z": "5ca5ab6bbe6b937a",
        "name": "10 minutos",
        "group": "a22bf5d31c371dd0",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 10 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "600",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 110,
        "y": 160,
        "wires": [
            [
                "2943326c4994c8e8"
            ]
        ]
    },
    {
        "id": "9608323550385d90",
        "type": "ui_button",
        "z": "5ca5ab6bbe6b937a",
        "name": "30 minutos",
        "group": "a22bf5d31c371dd0",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 30 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "1800",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 110,
        "y": 200,
        "wires": [
            [
                "2943326c4994c8e8"
            ]
        ]
    },
    {
        "id": "279031a1acc9f971",
        "type": "ui_button",
        "z": "5ca5ab6bbe6b937a",
        "name": "1 hora",
        "group": "a22bf5d31c371dd0",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 1 hora",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "3600",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 130,
        "y": 240,
        "wires": [
            [
                "2943326c4994c8e8"
            ]
        ]
    },
    {
        "id": "d3ed468e7296b0fd",
        "type": "ui_button",
        "z": "5ca5ab6bbe6b937a",
        "name": "6 horas",
        "group": "a22bf5d31c371dd0",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 6 horas",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "21600",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 120,
        "y": 280,
        "wires": [
            [
                "2943326c4994c8e8"
            ]
        ]
    },
    {
        "id": "b5c72088f5e8a68c",
        "type": "ui_button",
        "z": "5ca5ab6bbe6b937a",
        "name": "1 día",
        "group": "a22bf5d31c371dd0",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 1 día",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "86400",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 130,
        "y": 320,
        "wires": [
            [
                "2943326c4994c8e8"
            ]
        ]
    },
    {
        "id": "2f217a4d2c7481e8",
        "type": "ui_button",
        "z": "5ca5ab6bbe6b937a",
        "name": "2 días",
        "group": "a22bf5d31c371dd0",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 2 días",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "172800",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 130,
        "y": 360,
        "wires": [
            [
                "2943326c4994c8e8"
            ]
        ]
    },
    {
        "id": "c189e31111ba293e",
        "type": "ui_button",
        "z": "5ca5ab6bbe6b937a",
        "name": "5 días",
        "group": "a22bf5d31c371dd0",
        "order": 7,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Ult. 5 días",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "432000",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 130,
        "y": 400,
        "wires": [
            [
                "2943326c4994c8e8"
            ]
        ]
    },
    {
        "id": "2a7b8712bced561d",
        "type": "ui_button",
        "z": "5ca5ab6bbe6b937a",
        "name": "",
        "group": "cbd92c8454a0288f",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Consultar",
        "tooltip": "",
        "color": "",
        "bgcolor": "celeste",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 340,
        "y": 300,
        "wires": [
            [
                "71291e01536b63a8",
                "ae030a9db0242a5f"
            ]
        ]
    },
    {
        "id": "1909799dd43d6d79",
        "type": "ui_date_picker",
        "z": "5ca5ab6bbe6b937a",
        "name": "Fecha inicial",
        "label": "",
        "group": "cbd92c8454a0288f",
        "order": 1,
        "width": "4",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 670,
        "y": 460,
        "wires": [
            [
                "1026405a873ee37b"
            ]
        ]
    },
    {
        "id": "f48919a28b65e18a",
        "type": "ui_date_picker",
        "z": "5ca5ab6bbe6b937a",
        "name": "Fecha final",
        "label": "",
        "group": "cbd92c8454a0288f",
        "order": 3,
        "width": "4",
        "height": "1",
        "passthru": true,
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 670,
        "y": 580,
        "wires": [
            [
                "4dd2672ebed8d886"
            ]
        ]
    },
    {
        "id": "87308ae25bbaab60",
        "type": "ui_text",
        "z": "5ca5ab6bbe6b937a",
        "group": "cbd92c8454a0288f",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Estado de la consulta:",
        "format": "<font color={{msg.color}}> {{msg.mensaje}} </font>",
        "layout": "row-left",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1280,
        "y": 360,
        "wires": []
    },
    {
        "id": "466d12ce511d9ac0",
        "type": "ui_chart",
        "z": "5ca5ab6bbe6b937a",
        "name": "",
        "group": "acef4e0116dba067",
        "order": 0,
        "width": "20",
        "height": "10",
        "label": "Mediciones de sensores analógicos",
        "chartType": "line",
        "legend": "true",
        "xformat": "DD-MM-YY  HH:mm:ss",
        "interpolate": "monotone",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "2",
        "removeOlderPoints": "450",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": true,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 1300,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "0bbfd1df823ef79e",
        "type": "ui_ui_control",
        "z": "5ca5ab6bbe6b937a",
        "name": "",
        "events": "all",
        "x": 100,
        "y": 580,
        "wires": [
            [
                "63a974457e441062",
                "80cc29671f5e9b70",
                "a40912b85a8df446",
                "7ef8246b6a05340b"
            ]
        ]
    },
    {
        "id": "6c127370e80457b9",
        "type": "ui_template",
        "z": "5ca5ab6bbe6b937a",
        "group": "cbd92c8454a0288f",
        "name": "Selector de hora de inicio",
        "order": 2,
        "width": "3",
        "height": "1",
        "format": "<div style=\"display: flex; align-items: center; height: 100%;\">\n  <label for=\"hora_inicio\" style=\"margin-right: 5px;\"></label>\n  <input type=\"time\" id=\"hora_inicio\" name=\"hora_inicio\" style=\"height: 36px; padding: 2px 6px; font-size: 16px; box-sizing: border-box;\">\n</div>\n\n<script>\n  (function(scope) {\n  // Enviar la nueva hora seleccionada\n  document.getElementById(\"hora_inicio\").addEventListener(\"change\", function() {\n    scope.send({ payload: this.value });\n  });\n\n  // Escuchar cambios en msg.payload (para inicializar el valor)\n  scope.$watch('msg.payload', function(value) {\n    if (value) {\n      document.getElementById(\"hora_inicio\").value = value;\n    }\n  });\n})(scope);\n</script>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 630,
        "y": 520,
        "wires": [
            [
                "a8ef7dfe65ce71fd"
            ]
        ]
    },
    {
        "id": "a51beae7f6633746",
        "type": "ui_template",
        "z": "5ca5ab6bbe6b937a",
        "group": "cbd92c8454a0288f",
        "name": "Selector de hora final",
        "order": 4,
        "width": "3",
        "height": 1,
        "format": "<div style=\"display: flex; align-items: center; height: 100%;\">\n  <label for=\"hora_final\" style=\"margin-right: 5px;\"></label>\n  <input type=\"time\" id=\"hora_final\" name=\"hora_final\" style=\"height: 36px; padding: 2px 6px; font-size: 16px; box-sizing: border-box;\">\n</div>\n\n<script>\n  (function(scope) {\n  // Enviar la nueva hora seleccionada\n  document.getElementById(\"hora_final\").addEventListener(\"change\", function() {\n    scope.send({ payload: this.value });\n  });\n\n  // Escuchar cambios en msg.payload (para inicializar el valor)\n  scope.$watch('msg.payload', function(value) {\n    if (value) {\n      document.getElementById(\"hora_final\").value = value;\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 640,
        "y": 640,
        "wires": [
            [
                "1ac542305ca0d90f"
            ]
        ]
    },
    {
        "id": "75521240edd1fbfa",
        "type": "ui_template",
        "z": "5ca5ab6bbe6b937a",
        "group": "b1e487adb314c2ff",
        "name": "Dropdown de selección de mediciones",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n  /* Forzar color blanco en el placeholder y texto del select */\n  md-select .md-select-placeholder,\n  md-select .md-select-value {\n    color: #fff !important;\n    opacity: 1 !important;\n    font-size: 14px;\n  }\n</style>\n\n<md-select ng-model=\"selectedItems\" placeholder=\"Selecciona opciones\" multiple md-on-close=\"sendSelectedItems()\">\n\n  <md-select-header style=\"padding: 8px; display:flex; justify-content:space-between; align-items:center;\">\n    <span ng-if=\"selectedItems.length > 0\" style=\"color:#fff; font-size:14px;\">\n      {{selectedItems.map(i => i.nombre).join(', ')}}\n    </span>\n    <button ng-click=\"closeDropdown($event)\"\n            style=\"color:#4cafef; background:none; border:none; cursor:pointer; font-size:14px;\">\n      Aceptar\n    </button>\n  </md-select-header>\n\n  <md-option ng-repeat=\"item in options\" ng-value=\"item\">\n    {{item.nombre}}\n  </md-option>\n</md-select>\n\n<script>\n  (function(scope) {\n    scope.selectedItems = [];\n    scope.options = [];\n\n    // Cerrar dropdown con el botón\n    scope.closeDropdown = function(ev) {\n        if (window.angular && angular.element(ev.target).injector()) {\n            var $mdSelect = angular.element(ev.target).injector().get('$mdSelect');\n            $mdSelect.hide();\n        }\n    };\n\n    // Enviar payload al cerrarse\n    scope.sendSelectedItems = function() {\n        const ids = (scope.selectedItems || []).map(item => item.id);\n        scope.send({ payload: ids });\n    };\n\n    // Actualizar opciones dinámicamente\n    scope.$watch('msg', function(msg) {\n        if (msg && msg.options) {\n            scope.options = msg.options;\n        }\n    });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 690,
        "y": 740,
        "wires": [
            [
                "d80eaf5ce129721c"
            ]
        ]
    },
    {
        "id": "3e0a105aecb18d65",
        "type": "influxdb out",
        "z": "5ca5ab6bbe6b937a",
        "g": "6ee86910667a3881",
        "influxdb": "c78118c6621bf129",
        "name": "HistorialDB",
        "measurement": "Analogos",
        "precision": "",
        "retentionPolicy": "",
        "database": "database",
        "precisionV18FluxV20": "ms",
        "retentionPolicyV18Flux": "",
        "org": "Xiriox",
        "bucket": "HistoricoAnalogos",
        "x": 630,
        "y": 60,
        "wires": []
    },
    {
        "id": "9cc91a32c057d2f2",
        "type": "influxdb in",
        "z": "5ca5ab6bbe6b937a",
        "influxdb": "c78118c6621bf129",
        "name": "consulta",
        "query": "",
        "rawOutput": false,
        "precision": "",
        "retentionPolicy": "",
        "org": "Xiriox",
        "x": 640,
        "y": 160,
        "wires": [
            [
                "8b016927253521db",
                "349b3f0477d1d231"
            ]
        ]
    },
    {
        "id": "95221c241e55367e",
        "type": "ui_template",
        "z": "5ca5ab6bbe6b937a",
        "group": "b1e487adb314c2ff",
        "name": "",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* Logo Xiriox */\n    .md-toolbar-tools {\n        position: relative;\n        background-image: none !important;\n        /* por si tenías un fondo previo */\n    }\n\n    /* Imagen fija a la derecha */\n    .md-toolbar-tools::after {\n        content: \"\";\n        position: absolute;\n        right: 10px;\n        /* separación del borde */\n        top: 50%;\n        transform: translateY(-50%);\n        width: 150px;\n        /* tamaño del logo */\n        height: 40px;\n        background: url(\"/xiriox.png\") no-repeat center center;\n        background-size: contain;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 120,
        "y": 820,
        "wires": [
            []
        ]
    },
    {
        "id": "d6475945b6ed00f0",
        "type": "ui_ui_control",
        "z": "d75a1bb19b0411c5",
        "name": "",
        "events": "all",
        "x": 100,
        "y": 460,
        "wires": [
            [
                "7be9977f4e7b7845",
                "b7b4bcc504e0e291",
                "fe391789424766fe",
                "02bbddfcc6916ce6",
                "74285b7cb930eb5e",
                "f8b7e9481cb1e050",
                "ab0ad7996eebcc8d"
            ]
        ]
    },
    {
        "id": "0e9305128dcae472",
        "type": "ui_template",
        "z": "d75a1bb19b0411c5",
        "group": "99aa54afc31c52a8",
        "name": "Estilos",
        "order": 0,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .compact-number {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 10px;\n        background-color: #1e1e1e;\n        border: 1px dashed #555;\n        padding: 10px;\n    }\n\n    .number-card {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        background-color: #2a2a2a;\n        border: 1px solid #444;\n        border-radius: 6px;\n        padding: 8px;\n    }\n\n    .number-label {\n        font-size: 15px;\n        margin-bottom: 4px;\n        color: #ccc;\n        text-align: center;\n    }\n\n    .number-horizontal {\n        display: flex;\n        align-items: center;\n        gap: 1ch;\n        justify-content: center;\n    }\n\n    input[type=\"number\"] {\n        width: 60px;\n        padding: 3px;\n        font-size: 13px;\n        background-color: #111;\n        border: 1px solid #666;\n        color: #eee;\n        border-radius: 4px;\n        text-align: center;\n    }\n\n    .number-unit {\n        font-size: 13px;\n        color: #aaa;\n    }\n</style>\n\n\n<style>\n    /* Logo Xiriox */\n    .md-toolbar-tools {\n        position: relative;\n        background-image: none !important;\n        /* por si tenías un fondo previo */\n    }\n\n    /* Imagen fija a la derecha */\n    .md-toolbar-tools::after {\n        content: \"\";\n        position: absolute;\n        right: 10px;\n        /* separación del borde */\n        top: 50%;\n        transform: translateY(-50%);\n        width: 150px;\n        /* tamaño del logo */\n        height: 40px;\n        background: url(\"/xiriox.png\") no-repeat center center;\n        background-size: contain;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 90,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "68bf94faeae4462f",
        "type": "ui_template",
        "z": "d75a1bb19b0411c5",
        "g": "22a696cb54ebfde0",
        "group": "99aa54afc31c52a8",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-number\">\n  <div class=\"number-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"number-label\">{{item.nombre}}</div>\n    <div class=\"number-horizontal\">\n      <input type=\"number\"\n        ng-model=\"numberValues[item.id]\"\n        min=\"{{item.min}}\"\n        max=\"{{item.max}}\"\n        ng-change=\"send({payload: {id: item.id, valor: numberValues[item.id]}})\" />\n      <div class=\"number-unit\">{{item.unidad}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.numberValues = scope.numberValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.numberValues[item.id] === 'undefined' ||\n          scope.numberValues[item.id] !== item.valor\n        ) {\n          scope.numberValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 260,
        "wires": [
            [
                "f2175f5e58f08294",
                "5c45ca4804217ffa"
            ]
        ]
    },
    {
        "id": "7be9977f4e7b7845",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "22a696cb54ebfde0",
        "name": "function 47",
        "func": "let magnitudAlarma = [];\n\nlet listado = global.get(\"idAnalogosConAlarmaGrupo1\");\nfor (let i of listado){\n  let valor_ = global.get(\"MagnitudAlarmaSensorAnalogo\" + i);  \n  let nombre_ = global.get(\"nombreAnalogo\" + i);\n  //let maximo_ = global.get(\"MagnitudMaxSensorAnalogo\" + i);  // valor máximo por defecto\n  let unidadMedida_ = global.get(\"unidadMedidaAnalogo\" + i);\n  magnitudAlarma.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    //max: maximo_,\n    unidad: unidadMedida_\n  });\n}\n\nmsg.payload = magnitudAlarma;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 260,
        "wires": [
            [
                "68bf94faeae4462f"
            ]
        ]
    },
    {
        "id": "f2175f5e58f08294",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "22a696cb54ebfde0",
        "name": "function 48",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 260,
        "wires": [
            [
                "24558c1965d44978"
            ]
        ]
    },
    {
        "id": "24558c1965d44978",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "22a696cb54ebfde0",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 260,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "5c45ca4804217ffa",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "22a696cb54ebfde0",
        "name": "function 49",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 300,
        "wires": [
            [
                "e09745f0e5a45eb6"
            ]
        ]
    },
    {
        "id": "e09745f0e5a45eb6",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "22a696cb54ebfde0",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e0f64f8f3ae911e5",
        "type": "ui_template",
        "z": "d75a1bb19b0411c5",
        "g": "45df333ac7e0546f",
        "group": "20a0dd1262b9cb8a",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-number\">\n  <div class=\"number-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"number-label\">{{item.nombre}}</div>\n    <div class=\"number-horizontal\">\n      <input type=\"number\"\n        ng-model=\"numberValues[item.id]\"\n        min=\"{{item.min}}\"\n        max=\"{{item.max}}\"\n        ng-change=\"send({payload: {id: item.id, valor: numberValues[item.id]}})\" />\n      <div class=\"number-unit\">{{item.unidad}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.numberValues = scope.numberValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.numberValues[item.id] === 'undefined' ||\n          scope.numberValues[item.id] !== item.valor\n        ) {\n          scope.numberValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 400,
        "wires": [
            [
                "936008b6b72f8aae",
                "e4d248aaf5358f41"
            ]
        ]
    },
    {
        "id": "b7b4bcc504e0e291",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "45df333ac7e0546f",
        "name": "function 50",
        "func": "let magnitudAlarma = [];\n\nlet listado = global.get(\"idAnalogosConAlarmaGrupo2\");\nfor (let i of listado){\n  let valor_ = global.get(\"MagnitudAlarmaSensorAnalogo\" + i);  \n  let nombre_ = global.get(\"nombreAnalogo\" + i);\n  //let maximo_ = global.get(\"MagnitudMaxSensorAnalogo\" + i);  // valor máximo por defecto\n  let unidadMedida_ = global.get(\"unidadMedidaAnalogo\" + i);\n  magnitudAlarma.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    //max: maximo_,\n    unidad: unidadMedida_\n  });\n}\n\nmsg.payload = magnitudAlarma;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 400,
        "wires": [
            [
                "e0f64f8f3ae911e5"
            ]
        ]
    },
    {
        "id": "936008b6b72f8aae",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "45df333ac7e0546f",
        "name": "function 51",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"idSetPointAlarmasAnalogosPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 400,
        "wires": [
            [
                "15942495e7640ce0"
            ]
        ]
    },
    {
        "id": "15942495e7640ce0",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "45df333ac7e0546f",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 400,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e4d248aaf5358f41",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "45df333ac7e0546f",
        "name": "function 52",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"idSetPointAlarmasAnalogosPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 440,
        "wires": [
            [
                "6cf88fb082f67e15"
            ]
        ]
    },
    {
        "id": "6cf88fb082f67e15",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "45df333ac7e0546f",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 440,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2e9edc43ad914ca6",
        "type": "ui_template",
        "z": "d75a1bb19b0411c5",
        "g": "7e601cf7793cddb0",
        "group": "116ec2966ba4d3ce",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-number\">\n  <div class=\"number-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"number-label\">{{item.nombre}}</div>\n    <div class=\"number-horizontal\">\n      <input type=\"number\"\n        ng-model=\"numberValues[item.id]\"\n        min=\"{{item.min}}\"\n        max=\"{{item.max}}\"\n        ng-change=\"send({payload: {id: item.id, valor: numberValues[item.id]}})\" />\n      <div class=\"number-unit\">{{item.unidad}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.numberValues = scope.numberValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.numberValues[item.id] === 'undefined' ||\n          scope.numberValues[item.id] !== item.valor\n        ) {\n          scope.numberValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 540,
        "wires": [
            [
                "27076c0ba25a5f65",
                "1daa3d5bb279519c"
            ]
        ]
    },
    {
        "id": "fe391789424766fe",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "7e601cf7793cddb0",
        "name": "function 53",
        "func": "let magnitudAlarma = [];\n\nlet listado = global.get(\"idAnalogosConAlarmaGrupo3\");\nfor (let i of listado){\n  let valor_ = global.get(\"MagnitudAlarmaSensorAnalogo\" + i);  \n  let nombre_ = global.get(\"nombreAnalogo\" + i);\n  //let maximo_ = global.get(\"MagnitudMaxSensorAnalogo\" + i);  // valor máximo por defecto\n  let unidadMedida_ = global.get(\"unidadMedidaAnalogo\" + i);\n  magnitudAlarma.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    //max: maximo_,\n    unidad: unidadMedida_\n  });\n}\n\nmsg.payload = magnitudAlarma;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 540,
        "wires": [
            [
                "2e9edc43ad914ca6"
            ]
        ]
    },
    {
        "id": "27076c0ba25a5f65",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "7e601cf7793cddb0",
        "name": "function 54",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"idSetPointAlarmasAnalogosPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 540,
        "wires": [
            [
                "eaf99a7e66137e91"
            ]
        ]
    },
    {
        "id": "eaf99a7e66137e91",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "7e601cf7793cddb0",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 540,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "1daa3d5bb279519c",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "7e601cf7793cddb0",
        "name": "function 55",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 580,
        "wires": [
            [
                "8ac02ce77dae4f6d"
            ]
        ]
    },
    {
        "id": "8ac02ce77dae4f6d",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "7e601cf7793cddb0",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 580,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "0b98373c03ae5993",
        "type": "ui_template",
        "z": "d75a1bb19b0411c5",
        "g": "d691a30b68ec28a2",
        "group": "327642d0f8eeb19c",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-number\">\n  <div class=\"number-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"number-label\">{{item.nombre}}</div>\n    <div class=\"number-horizontal\">\n      <input type=\"number\"\n        ng-model=\"numberValues[item.id]\"\n        min=\"{{item.min}}\"\n        max=\"{{item.max}}\"\n        ng-change=\"send({payload: {id: item.id, valor: numberValues[item.id]}})\" />\n      <div class=\"number-unit\">{{item.unidad}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.numberValues = scope.numberValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.numberValues[item.id] === 'undefined' ||\n          scope.numberValues[item.id] !== item.valor\n        ) {\n          scope.numberValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 680,
        "wires": [
            [
                "7cb255d520245e81",
                "3e11e9b8456343e1"
            ]
        ]
    },
    {
        "id": "02bbddfcc6916ce6",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "d691a30b68ec28a2",
        "name": "function 56",
        "func": "let magnitudAlarma = [];\n\nlet listado = global.get(\"idAnalogosConAlarmaGrupo4\");\nfor (let i of listado){\n  let valor_ = global.get(\"MagnitudAlarmaSensorAnalogo\" + i);  \n  let nombre_ = global.get(\"nombreAnalogo\" + i);\n  //let maximo_ = global.get(\"MagnitudMaxSensorAnalogo\" + i);  // valor máximo por defecto\n  let unidadMedida_ = global.get(\"unidadMedidaAnalogo\" + i);\n  magnitudAlarma.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    //max: maximo_,\n    unidad: unidadMedida_\n  });\n}\n\nmsg.payload = magnitudAlarma;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 680,
        "wires": [
            [
                "0b98373c03ae5993"
            ]
        ]
    },
    {
        "id": "7cb255d520245e81",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "d691a30b68ec28a2",
        "name": "function 57",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 680,
        "wires": [
            [
                "98c0cb9ae3597009"
            ]
        ]
    },
    {
        "id": "98c0cb9ae3597009",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "d691a30b68ec28a2",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 680,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3e11e9b8456343e1",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "d691a30b68ec28a2",
        "name": "function 58",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"idSetPointAlarmasAnalogosPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 720,
        "wires": [
            [
                "776911873d4920bd"
            ]
        ]
    },
    {
        "id": "776911873d4920bd",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "d691a30b68ec28a2",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 720,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "de4b66b863915491",
        "type": "ui_template",
        "z": "d75a1bb19b0411c5",
        "g": "86fb72486cff3df3",
        "group": "142544f864cb2faa",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-number\">\n  <div class=\"number-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"number-label\">{{item.nombre}}</div>\n    <div class=\"number-horizontal\">\n      <input type=\"number\"\n        ng-model=\"numberValues[item.id]\"\n        min=\"{{item.min}}\"\n        max=\"{{item.max}}\"\n        ng-change=\"send({payload: {id: item.id, valor: numberValues[item.id]}})\" />\n      <div class=\"number-unit\">{{item.unidad}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.numberValues = scope.numberValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.numberValues[item.id] === 'undefined' ||\n          scope.numberValues[item.id] !== item.valor\n        ) {\n          scope.numberValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 820,
        "wires": [
            [
                "2c236be2d72d231a",
                "b359e4394f2b996b"
            ]
        ]
    },
    {
        "id": "74285b7cb930eb5e",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "86fb72486cff3df3",
        "name": "function 59",
        "func": "let magnitudAlarma = [];\n\nlet listado = global.get(\"idAnalogosConAlarmaGrupo5\");\nfor (let i of listado){\n  let valor_ = global.get(\"MagnitudAlarmaSensorAnalogo\" + i);  \n  let nombre_ = global.get(\"nombreAnalogo\" + i);\n  //let maximo_ = global.get(\"MagnitudMaxSensorAnalogo\" + i);  // valor máximo por defecto\n  let unidadMedida_ = global.get(\"unidadMedidaAnalogo\" + i);\n  magnitudAlarma.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    //max: maximo_,\n    unidad: unidadMedida_\n  });\n}\n\nmsg.payload = magnitudAlarma;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 820,
        "wires": [
            [
                "de4b66b863915491"
            ]
        ]
    },
    {
        "id": "2c236be2d72d231a",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "86fb72486cff3df3",
        "name": "function 60",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 820,
        "wires": [
            [
                "1ddc56d3b9cccc34"
            ]
        ]
    },
    {
        "id": "1ddc56d3b9cccc34",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "86fb72486cff3df3",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 820,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b359e4394f2b996b",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "86fb72486cff3df3",
        "name": "function 61",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 860,
        "wires": [
            [
                "cfe89f5c5fd17bd4"
            ]
        ]
    },
    {
        "id": "cfe89f5c5fd17bd4",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "86fb72486cff3df3",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 860,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f2538964015403e5",
        "type": "ui_template",
        "z": "d75a1bb19b0411c5",
        "g": "ed15a5bc3ae1b8ae",
        "group": "2173d4ec7cf7da70",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-number\">\n  <div class=\"number-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"number-label\">{{item.nombre}}</div>\n    <div class=\"number-horizontal\">\n      <input type=\"number\"\n        ng-model=\"numberValues[item.id]\"\n        min=\"{{item.min}}\"\n        max=\"{{item.max}}\"\n        ng-change=\"send({payload: {id: item.id, valor: numberValues[item.id]}})\" />\n      <div class=\"number-unit\">{{item.unidad}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.numberValues = scope.numberValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.numberValues[item.id] === 'undefined' ||\n          scope.numberValues[item.id] !== item.valor\n        ) {\n          scope.numberValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 960,
        "wires": [
            [
                "29b6fb2119d3059a",
                "b99f7228d0622801"
            ]
        ]
    },
    {
        "id": "f8b7e9481cb1e050",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "ed15a5bc3ae1b8ae",
        "name": "function 62",
        "func": "let magnitudAlarma = [];\n\nlet listado = global.get(\"idAnalogosConAlarmaGrupo6\");\nfor (let i of listado){\n  let valor_ = global.get(\"MagnitudAlarmaSensorAnalogo\" + i);  \n  let nombre_ = global.get(\"nombreAnalogo\" + i);\n  //let maximo_ = global.get(\"MagnitudMaxSensorAnalogo\" + i);  // valor máximo por defecto\n  let unidadMedida_ = global.get(\"unidadMedidaAnalogo\" + i);\n  magnitudAlarma.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    //max: maximo_,\n    unidad: unidadMedida_\n  });\n}\n\nmsg.payload = magnitudAlarma;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 960,
        "wires": [
            [
                "f2538964015403e5"
            ]
        ]
    },
    {
        "id": "29b6fb2119d3059a",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "ed15a5bc3ae1b8ae",
        "name": "function 63",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"idSetPointAlarmasAnalogosPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 960,
        "wires": [
            [
                "b58eb0010dc44319"
            ]
        ]
    },
    {
        "id": "b58eb0010dc44319",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "ed15a5bc3ae1b8ae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 960,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b99f7228d0622801",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "ed15a5bc3ae1b8ae",
        "name": "function 64",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1000,
        "wires": [
            [
                "49dd0e0aa8c6dcea"
            ]
        ]
    },
    {
        "id": "49dd0e0aa8c6dcea",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "ed15a5bc3ae1b8ae",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 1000,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "da06fe307221cf3d",
        "type": "ui_template",
        "z": "d75a1bb19b0411c5",
        "g": "284bd515dfaa765a",
        "group": "4f2b4e669a2af82e",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-number\">\n  <div class=\"number-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"number-label\">{{item.nombre}}</div>\n    <div class=\"number-horizontal\">\n      <input type=\"number\"\n        ng-model=\"numberValues[item.id]\"\n        min=\"{{item.min}}\"\n        max=\"{{item.max}}\"\n        ng-change=\"send({payload: {id: item.id, valor: numberValues[item.id]}})\" />\n      <div class=\"number-unit\">{{item.unidad}}</div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.numberValues = scope.numberValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.numberValues[item.id] === 'undefined' ||\n          scope.numberValues[item.id] !== item.valor\n        ) {\n          scope.numberValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 1100,
        "wires": [
            [
                "0dbe2c54f0d9b233",
                "30dfea14d2c0a1d2"
            ]
        ]
    },
    {
        "id": "ab0ad7996eebcc8d",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "284bd515dfaa765a",
        "name": "function 65",
        "func": "let magnitudAlarma = [];\n\nlet listado = global.get(\"idAnalogosConAlarmaGrupo7\");\nfor (let i of listado){\n  let valor_ = global.get(\"MagnitudAlarmaSensorAnalogo\" + i);  \n  let nombre_ = global.get(\"nombreAnalogo\" + i);\n  //let maximo_ = global.get(\"MagnitudMaxSensorAnalogo\" + i);  // valor máximo por defecto\n  let unidadMedida_ = global.get(\"unidadMedidaAnalogo\" + i);\n  magnitudAlarma.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    //max: maximo_,\n    unidad: unidadMedida_\n  });\n}\n\nmsg.payload = magnitudAlarma;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1100,
        "wires": [
            [
                "da06fe307221cf3d"
            ]
        ]
    },
    {
        "id": "0dbe2c54f0d9b233",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "284bd515dfaa765a",
        "name": "function 66",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1100,
        "wires": [
            [
                "b851a18aa7e55c85"
            ]
        ]
    },
    {
        "id": "b851a18aa7e55c85",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "284bd515dfaa765a",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 1100,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "30dfea14d2c0a1d2",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "284bd515dfaa765a",
        "name": "function 67",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif(!global.get(\"idSetPointAlarmasAnalogosPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"DireccionMagnitudAlarmaSensorAnalogo\" + idAlarma);\n\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1140,
        "wires": [
            [
                "33486a078306f3b2"
            ]
        ]
    },
    {
        "id": "33486a078306f3b2",
        "type": "modbus-flex-write",
        "z": "d75a1bb19b0411c5",
        "g": "284bd515dfaa765a",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 950,
        "y": 1140,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "6492b5073b2ccf94",
        "type": "ui_text_input",
        "z": "d75a1bb19b0411c5",
        "g": "27e2dd96b0ca886f",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "11ecd32181e8c6c8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "password",
        "delay": "0",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 560,
        "y": 80,
        "wires": [
            [
                "a877cc6b451b0fd0"
            ]
        ]
    },
    {
        "id": "12965059435a6781",
        "type": "ui_button",
        "z": "d75a1bb19b0411c5",
        "g": "27e2dd96b0ca886f",
        "name": "",
        "group": "11ecd32181e8c6c8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Ingresar",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "login",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 540,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "76316b90704e1a0e",
        "type": "ui_ui_control",
        "z": "d75a1bb19b0411c5",
        "g": "27e2dd96b0ca886f",
        "name": "",
        "events": "all",
        "x": 120,
        "y": 80,
        "wires": [
            [
                "84c820a401424ecb"
            ]
        ]
    },
    {
        "id": "84c820a401424ecb",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "27e2dd96b0ca886f",
        "name": "function 68",
        "func": "msg.payload = \"\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 80,
        "wires": [
            [
                "6492b5073b2ccf94"
            ]
        ]
    },
    {
        "id": "a877cc6b451b0fd0",
        "type": "function",
        "z": "d75a1bb19b0411c5",
        "g": "27e2dd96b0ca886f",
        "name": "function 69",
        "func": "let claveConfig = global.get(\"claveDeConfiguración\");\n\nif(msg.payload == claveConfig){\n    msg.payload = {\n    \"tab\": \"Magnitudes alarma dashboard\"   // Nombre EXACTO del tab\n    };\n}\nelse{\n    msg.topic = \"\";\n    msg.payload = null;\n}    \n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 80,
        "wires": [
            [
                "7f6bbcf628044354",
                "6492b5073b2ccf94"
            ]
        ]
    },
    {
        "id": "7f6bbcf628044354",
        "type": "ui_ui_control",
        "z": "d75a1bb19b0411c5",
        "g": "27e2dd96b0ca886f",
        "name": "",
        "events": "change",
        "x": 1020,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "270401e60fc1b091",
        "type": "inject",
        "z": "6abaa9a193681e8a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 80,
        "wires": [
            [
                "6c4cb88fd9495bfb",
                "18cdc8c5b55737d8",
                "26d11b07b876c853",
                "66576e6a4fc9b51c",
                "8a1453a9e93396f6",
                "fc72a6685667cc39",
                "5443fa2c413ecfe4"
            ]
        ]
    },
    {
        "id": "18cdc8c5b55737d8",
        "type": "function",
        "z": "6abaa9a193681e8a",
        "g": "35b66488e44a4285",
        "name": "function 126",
        "func": "\n//*** TEMPERATURA GASES DE ESCAPE\n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo2\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 180,
        "wires": [
            [
                "f2f1fbc3baba4a6c"
            ]
        ]
    },
    {
        "id": "26d11b07b876c853",
        "type": "function",
        "z": "6abaa9a193681e8a",
        "g": "2a0cc416539ec146",
        "name": "function 127",
        "func": "\n//*** SISTEMA AGUA ENFRIAMIENTO \n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo3\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 280,
        "wires": [
            [
                "4f82dfd06e0ff8cc"
            ]
        ]
    },
    {
        "id": "66576e6a4fc9b51c",
        "type": "function",
        "z": "6abaa9a193681e8a",
        "g": "8917af49ccf6abe5",
        "name": "function 130",
        "func": "\n//*** TEMPERATURA DE CILINDROS\n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo4\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 380,
        "wires": [
            [
                "a15cb879c4b12ae4"
            ]
        ]
    },
    {
        "id": "8a1453a9e93396f6",
        "type": "function",
        "z": "6abaa9a193681e8a",
        "g": "afd5d1a4f3c9df93",
        "name": "function 131",
        "func": "\n//*** COMBUSTIBLE Y LUBRICANTE\n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo5\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 480,
        "wires": [
            [
                "f5b51defb0b79bda"
            ]
        ]
    },
    {
        "id": "fc72a6685667cc39",
        "type": "function",
        "z": "6abaa9a193681e8a",
        "g": "4f942fb7e1e2b895",
        "name": "function 132",
        "func": "\n//*** DESEMPEÑO MOTOR \n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo6\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 580,
        "wires": [
            [
                "a0bf12656a8d84df"
            ]
        ]
    },
    {
        "id": "5443fa2c413ecfe4",
        "type": "function",
        "z": "6abaa9a193681e8a",
        "g": "dcf2eeac0f48a3c7",
        "name": "function 133",
        "func": "\n//*** VALORES ANÁLOGOS ALARMAS \n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo7\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 680,
        "wires": [
            [
                "58f9096f8370a4c3"
            ]
        ]
    },
    {
        "id": "6c4cb88fd9495bfb",
        "type": "function",
        "z": "6abaa9a193681e8a",
        "g": "05ed3acac790581d",
        "name": "function 123",
        "func": "//*** TEMPERATURAS CIGÜEÑAL\n//*** TEMPERATURA GASES DE ESCAPE\n//*** SISTEMA AGUA ENFRIAMIENTO \n//*** TEMPERATURA DE CILINDROS\n//*** COMBUSTIBLE Y LUBRICANTE\n//*** DESEMPEÑO MOTOR \n//*** VALORES ANÁLOGOS ALARMAS \n\nlet mediciones = [];\nlet listado = global.get(\"idAnalogosGrupo1\");\n\n// Mapeo de iconos según unidad de medida\nlet iconos = {\n    \"°C\": \"🌡️\",\n    \"Bar\": \"⬆️\",\n    \"RPM\": \"⚙️\",\n    \"%\": \"💧\",\n    \"V\": \"🔋\",\n    \"A\": \"⚡\"\n};\n\nfor (let i of listado) {\n    let nombre = global.get(\"nombreAnalogo\" + i);\n    let valor = global.get(\"valorAnalogo\" + i); \n    let unidadMedida = global.get(\"unidadMedidaAnalogo\" + i);\n\n    let icono = iconos[unidadMedida] || \"📟\";\n\n    mediciones.push({\n        nombre,\n        valor,\n        unidadMedida,\n        icono\n    });\n}\n\nmsg.payload = mediciones;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 80,
        "wires": [
            [
                "d4a030452e920221"
            ]
        ]
    },
    {
        "id": "d4a030452e920221",
        "type": "ui_template",
        "z": "6abaa9a193681e8a",
        "g": "05ed3acac790581d",
        "group": "adc57ed5eaed0b32",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: grid; \n            grid-template-columns: repeat(3, 1fr); \n            gap: 15px;\">\n\n  <div ng-repeat=\"item in msg.payload\" \n       style=\"background: linear-gradient(135deg, #2c2c2c, #1a1a1a);\n              border-radius: 20px;\n              padding: 20px;\n              box-shadow: 0px 4px 12px rgba(0,0,0,0.6);\n              text-align:center;\n              font-family: 'Segoe UI', Arial, sans-serif;\n              color:#eee;\">\n    \n    <div style=\"font-size:18px; color:#aaa; margin-bottom:10px;\">\n      {{item.icono}} {{item.nombre}}\n    </div>\n    \n    <div style=\"font-size:42px; font-weight:bold; color:#ff5555;\">\n      {{item.valor}} {{item.unidadMedida}}\n    </div>\n  </div>\n\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "f2f1fbc3baba4a6c",
        "type": "ui_template",
        "z": "6abaa9a193681e8a",
        "g": "35b66488e44a4285",
        "group": "67e2bb6ac86aea02",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: grid; \n            grid-template-columns: repeat(3, 1fr); \n            gap: 15px;\">\n\n  <div ng-repeat=\"item in msg.payload\" \n       style=\"background: linear-gradient(135deg, #2c2c2c, #1a1a1a);\n              border-radius: 20px;\n              padding: 20px;\n              box-shadow: 0px 4px 12px rgba(0,0,0,0.6);\n              text-align:center;\n              font-family: 'Segoe UI', Arial, sans-serif;\n              color:#eee;\">\n    \n    <div style=\"font-size:18px; color:#aaa; margin-bottom:10px;\">\n      {{item.icono}} {{item.nombre}}\n    </div>\n    \n    <div style=\"font-size:42px; font-weight:bold; color:#ff5555;\">\n      {{item.valor}} {{item.unidadMedida}}\n    </div>\n  </div>\n\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "4f82dfd06e0ff8cc",
        "type": "ui_template",
        "z": "6abaa9a193681e8a",
        "g": "2a0cc416539ec146",
        "group": "9d82c5180b67c8f8",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: grid; \n            grid-template-columns: repeat(3, 1fr); \n            gap: 15px;\">\n\n  <div ng-repeat=\"item in msg.payload\" \n       style=\"background: linear-gradient(135deg, #2c2c2c, #1a1a1a);\n              border-radius: 20px;\n              padding: 20px;\n              box-shadow: 0px 4px 12px rgba(0,0,0,0.6);\n              text-align:center;\n              font-family: 'Segoe UI', Arial, sans-serif;\n              color:#eee;\">\n    \n    <div style=\"font-size:18px; color:#aaa; margin-bottom:10px;\">\n      {{item.icono}} {{item.nombre}}\n    </div>\n    \n    <div style=\"font-size:42px; font-weight:bold; color:#ff5555;\">\n      {{item.valor}} {{item.unidadMedida}}\n    </div>\n  </div>\n\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "a15cb879c4b12ae4",
        "type": "ui_template",
        "z": "6abaa9a193681e8a",
        "g": "8917af49ccf6abe5",
        "group": "078730e96132fafb",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: grid; \n            grid-template-columns: repeat(3, 1fr); \n            gap: 15px;\">\n\n  <div ng-repeat=\"item in msg.payload\" \n       style=\"background: linear-gradient(135deg, #2c2c2c, #1a1a1a);\n              border-radius: 20px;\n              padding: 20px;\n              box-shadow: 0px 4px 12px rgba(0,0,0,0.6);\n              text-align:center;\n              font-family: 'Segoe UI', Arial, sans-serif;\n              color:#eee;\">\n    \n    <div style=\"font-size:18px; color:#aaa; margin-bottom:10px;\">\n      {{item.icono}} {{item.nombre}}\n    </div>\n    \n    <div style=\"font-size:42px; font-weight:bold; color:#ff5555;\">\n      {{item.valor}} {{item.unidadMedida}}\n    </div>\n  </div>\n\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "f5b51defb0b79bda",
        "type": "ui_template",
        "z": "6abaa9a193681e8a",
        "g": "afd5d1a4f3c9df93",
        "group": "56b86f0939e898cc",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: grid; \n            grid-template-columns: repeat(3, 1fr); \n            gap: 15px;\">\n\n  <div ng-repeat=\"item in msg.payload\" \n       style=\"background: linear-gradient(135deg, #2c2c2c, #1a1a1a);\n              border-radius: 20px;\n              padding: 20px;\n              box-shadow: 0px 4px 12px rgba(0,0,0,0.6);\n              text-align:center;\n              font-family: 'Segoe UI', Arial, sans-serif;\n              color:#eee;\">\n    \n    <div style=\"font-size:18px; color:#aaa; margin-bottom:10px;\">\n      {{item.icono}} {{item.nombre}}\n    </div>\n    \n    <div style=\"font-size:42px; font-weight:bold; color:#ff5555;\">\n      {{item.valor}} {{item.unidadMedida}}\n    </div>\n  </div>\n\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "a0bf12656a8d84df",
        "type": "ui_template",
        "z": "6abaa9a193681e8a",
        "g": "4f942fb7e1e2b895",
        "group": "79ac6eebc4f951a5",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: grid; \n            grid-template-columns: repeat(3, 1fr); \n            gap: 15px;\">\n\n  <div ng-repeat=\"item in msg.payload\" \n       style=\"background: linear-gradient(135deg, #2c2c2c, #1a1a1a);\n              border-radius: 20px;\n              padding: 20px;\n              box-shadow: 0px 4px 12px rgba(0,0,0,0.6);\n              text-align:center;\n              font-family: 'Segoe UI', Arial, sans-serif;\n              color:#eee;\">\n    \n    <div style=\"font-size:18px; color:#aaa; margin-bottom:10px;\">\n      {{item.icono}} {{item.nombre}}\n    </div>\n    \n    <div style=\"font-size:42px; font-weight:bold; color:#ff5555;\">\n      {{item.valor}} {{item.unidadMedida}}\n    </div>\n  </div>\n\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "58f9096f8370a4c3",
        "type": "ui_template",
        "z": "6abaa9a193681e8a",
        "g": "dcf2eeac0f48a3c7",
        "group": "5a035e033c5b1aad",
        "name": "",
        "order": 4,
        "width": "0",
        "height": "0",
        "format": "<div style=\"display: grid; \n            grid-template-columns: repeat(3, 1fr); \n            gap: 15px;\">\n\n  <div ng-repeat=\"item in msg.payload\" \n       style=\"background: linear-gradient(135deg, #2c2c2c, #1a1a1a);\n              border-radius: 20px;\n              padding: 20px;\n              box-shadow: 0px 4px 12px rgba(0,0,0,0.6);\n              text-align:center;\n              font-family: 'Segoe UI', Arial, sans-serif;\n              color:#eee;\">\n    \n    <div style=\"font-size:18px; color:#aaa; margin-bottom:10px;\">\n      {{item.icono}} {{item.nombre}}\n    </div>\n    \n    <div style=\"font-size:42px; font-weight:bold; color:#ff5555;\">\n      {{item.valor}} {{item.unidadMedida}}\n    </div>\n  </div>\n\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "9bbd605882f26522",
        "type": "ui_template",
        "z": "6abaa9a193681e8a",
        "group": "c34634162ffbe80a",
        "name": "",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<style>\n    /* Logo Xiriox */\n    .md-toolbar-tools {\n        position: relative;\n        background-image: none !important;\n        /* por si tenías un fondo previo */\n    }\n\n    /* Imagen fija a la derecha */\n    .md-toolbar-tools::after {\n        content: \"\";\n        position: absolute;\n        right: 10px;\n        /* separación del borde */\n        top: 50%;\n        transform: translateY(-50%);\n        width: 150px;\n        /* tamaño del logo */\n        height: 40px;\n        background: url(\"/xiriox.png\") no-repeat center center;\n        background-size: contain;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 140,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "a139aef0fa8936f0",
        "type": "comment",
        "z": "c864711c6896ecb1",
        "name": "Indice de mediciones analógicas",
        "info": "",
        "x": 190,
        "y": 60,
        "wires": []
    },
    {
        "id": "900da4f6e19d13ad",
        "type": "function",
        "z": "c864711c6896ecb1",
        "name": "function 129",
        "func": "// Temperaturas cigüeñal\n// Temperatura gases de escape\n// Sistema agua enfriamiento\n// Temperatura de cilindros\n// Combustible y lubricante\n// Desempeño motor\n// Valores análogos alarmas",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "0bcb37e97dc77169",
        "type": "ui_button",
        "z": "c864711c6896ecb1",
        "name": "",
        "group": "c34634162ffbe80a",
        "order": 1,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Temperaturas cigüeñal",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Análogos_Análogos\",\"Análogos_Temperatura_gases_de_escape\",\"Análogos_Sistema_agua_enfriamiento\",\"Análogos_Temperatura_de_cilindros\",\"Análogos_Combustible_y_lubricante\",\"Análogos_Motor\"],\"show\":[\"Análogos_Temperaturas_cigüeñal\"]}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 320,
        "y": 120,
        "wires": [
            [
                "3e5902dcd28f1cfd"
            ]
        ]
    },
    {
        "id": "8c519a7edccb1ca5",
        "type": "ui_button",
        "z": "c864711c6896ecb1",
        "name": "",
        "group": "c34634162ffbe80a",
        "order": 2,
        "width": "5",
        "height": "1",
        "passthru": false,
        "label": "Temperatura gases de escape",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Análogos_Análogos\",\"Análogos_Temperaturas_cigüeñal\",\"Análogos_Sistema_agua_enfriamiento\",\"Análogos_Temperatura_de_cilindros\",\"Análogos_Combustible_y_lubricante\",\"Análogos_Motor\"],\"show\":[\"Análogos_Temperatura_gases_de_escape\"]}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 290,
        "y": 160,
        "wires": [
            [
                "3e5902dcd28f1cfd"
            ]
        ]
    },
    {
        "id": "551c32da912bb01a",
        "type": "ui_button",
        "z": "c864711c6896ecb1",
        "name": "",
        "group": "c34634162ffbe80a",
        "order": 3,
        "width": "5",
        "height": "1",
        "passthru": false,
        "label": "Sistema agua enfriamiento",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Análogos_Análogos\",\"Análogos_Temperatura_gases_de_escape\",\"Análogos_Temperaturas_cigüeñal\",\"Análogos_Temperatura_de_cilindros\",\"Análogos_Combustible_y_lubricante\",\"Análogos_Motor\"],\"show\":[\"Análogos_Sistema_agua_enfriamiento\"]}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 300,
        "y": 200,
        "wires": [
            [
                "3e5902dcd28f1cfd"
            ]
        ]
    },
    {
        "id": "a169d2fce985a6a9",
        "type": "ui_button",
        "z": "c864711c6896ecb1",
        "name": "",
        "group": "c34634162ffbe80a",
        "order": 4,
        "width": "5",
        "height": "1",
        "passthru": false,
        "label": "Temperatura de cilindros",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Análogos_Análogos\",\"Análogos_Temperatura_gases_de_escape\",\"Análogos_Sistema_agua_enfriamiento\",\"Análogos_Temperaturas_cigüeñal\",\"Análogos_Combustible_y_lubricante\",\"Análogos_Motor\"],\"show\":[\"Análogos_Temperatura_de_cilindros\"]}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 310,
        "y": 240,
        "wires": [
            [
                "3e5902dcd28f1cfd"
            ]
        ]
    },
    {
        "id": "e8dc8fdb89bd2a89",
        "type": "ui_button",
        "z": "c864711c6896ecb1",
        "name": "",
        "group": "c34634162ffbe80a",
        "order": 5,
        "width": "5",
        "height": "1",
        "passthru": false,
        "label": "Combustible y lubricante",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Análogos_Análogos\",\"Análogos_Temperatura_gases_de_escape\",\"Análogos_Sistema_agua_enfriamiento\",\"Análogos_Temperaturas_cigüeñal\",\"Análogos_Temperatura_de_cilindros\",\"Análogos_Motor\"],\"show\":[\"Análogos_Combustible_y_lubricante\"]}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 310,
        "y": 280,
        "wires": [
            [
                "3e5902dcd28f1cfd"
            ]
        ]
    },
    {
        "id": "4833c20290dfbbe9",
        "type": "ui_button",
        "z": "c864711c6896ecb1",
        "name": "",
        "group": "c34634162ffbe80a",
        "order": 6,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Desempeño motor",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Análogos_Análogos\",\"Análogos_Temperatura_gases_de_escape\",\"Análogos_Sistema_agua_enfriamiento\",\"Análogos_Temperatura_de_cilindros\",\"Análogos_Combustible_y_lubricante\",\"Análogos_Temperaturas_cigüeñal\"],\"show\":[\"Análogos_Motor\"]}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 330,
        "y": 320,
        "wires": [
            [
                "3e5902dcd28f1cfd"
            ]
        ]
    },
    {
        "id": "9e0638b4df414d23",
        "type": "ui_button",
        "z": "c864711c6896ecb1",
        "name": "",
        "group": "c34634162ffbe80a",
        "order": 7,
        "width": "5",
        "height": "1",
        "passthru": false,
        "label": "Análogos",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "{\"group\":{\"hide\":[\"Análogos_Temperaturas_cigüeñal\",\"Análogos_Temperatura_gases_de_escape\",\"Análogos_Sistema_agua_enfriamiento\",\"Análogos_Temperatura_de_cilindros\",\"Análogos_Combustible_y_lubricante\",\"Análogos_Motor\"],\"show\":[\"Análogos_Análogos\"]}}",
        "payloadType": "json",
        "topic": "topic",
        "topicType": "msg",
        "x": 360,
        "y": 360,
        "wires": [
            [
                "3e5902dcd28f1cfd"
            ]
        ]
    },
    {
        "id": "3e5902dcd28f1cfd",
        "type": "ui_ui_control",
        "z": "c864711c6896ecb1",
        "name": "",
        "events": "all",
        "x": 660,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5ff24e5a290c6156",
        "type": "ui_ui_control",
        "z": "2878a8012f437808",
        "name": "",
        "events": "all",
        "x": 120,
        "y": 440,
        "wires": [
            [
                "6ba4b0c9bd999d98",
                "3f8f09c70aa95ab4",
                "0410c90241966fb8",
                "db1410d3bd19b296",
                "ef0afa55bf732843",
                "09b96f9ceaca3d95",
                "bce462a25a890422",
                "768b28da110ccbe4",
                "3fed4ae2e6c168d6",
                "731789840c95b238",
                "bda105dc85bdb6d6"
            ]
        ]
    },
    {
        "id": "0412016ff0a609fb",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "group": "8608b53550c65f87",
        "name": "Estilo",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .compact-switch {\n        display: grid;\n        grid-template-columns: repeat(3, 1fr);\n        gap: 10px;\n        overflow-y: hidden;\n        background-color: #1e1e1e;\n        /* fondo oscuro */\n        border: 1px dashed #555;\n        /* borde general para ver la grilla */\n        padding: 10px;\n    }\n\n    .compact-switch md-switch {\n        font-size: 13px;\n        margin: 0;\n        padding: 8px;\n        line-height: 1.2em;\n        border: 1px solid #444;\n        border-radius: 6px;\n        background-color: #2a2a2a;\n        color: #ccc;\n        display: block;\n        text-align: center;\n    }\n\n    .compact-switch md-switch .md-label {\n        color: #ccc !important;\n    }\n</style>\n\n<style>\n    /* Logo Xiriox */\n    .md-toolbar-tools {\n        position: relative;\n        background-image: none !important;\n        /* por si tenías un fondo previo */\n    }\n\n    /* Imagen fija a la derecha */\n    .md-toolbar-tools::after {\n        content: \"\";\n        position: absolute;\n        right: 10px;\n        /* separación del borde */\n        top: 50%;\n        transform: translateY(-50%);\n        width: 150px;\n        /* tamaño del logo */\n        height: 40px;\n        background: url(\"/xiriox.png\") no-repeat center center;\n        background-size: contain;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 110,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "f1a544fe7e848f40",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "87a95b8a9fa0c789",
        "group": "8608b53550c65f87",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 240,
        "wires": [
            [
                "2a840db536d3ef46",
                "7637732a1c3be6a7"
            ]
        ]
    },
    {
        "id": "6ba4b0c9bd999d98",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "87a95b8a9fa0c789",
        "name": "function 12",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo1\");\nfor(let i of listado){\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 240,
        "wires": [
            [
                "f1a544fe7e848f40"
            ]
        ]
    },
    {
        "id": "2a840db536d3ef46",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "87a95b8a9fa0c789",
        "name": "function 13",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 240,
        "wires": [
            [
                "928e748ee9bd46aa"
            ]
        ]
    },
    {
        "id": "928e748ee9bd46aa",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "87a95b8a9fa0c789",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 240,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7637732a1c3be6a7",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "87a95b8a9fa0c789",
        "name": "function 14",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 300,
        "wires": [
            [
                "dfc4226b7804da72"
            ]
        ]
    },
    {
        "id": "dfc4226b7804da72",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "87a95b8a9fa0c789",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 300,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f1294e644499ad38",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "2944a2cf9903dd38",
        "group": "ab5ac17bd0078074",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 400,
        "wires": [
            [
                "aaac9a152500d9af",
                "d429e5b588bcb6ed"
            ]
        ]
    },
    {
        "id": "3f8f09c70aa95ab4",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "2944a2cf9903dd38",
        "name": "function 15",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo2\");\nfor(let i of listado){\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 400,
        "wires": [
            [
                "f1294e644499ad38"
            ]
        ]
    },
    {
        "id": "aaac9a152500d9af",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "2944a2cf9903dd38",
        "name": "function 16",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 400,
        "wires": [
            [
                "2d3375058d183238"
            ]
        ]
    },
    {
        "id": "2d3375058d183238",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "2944a2cf9903dd38",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 400,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d429e5b588bcb6ed",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "2944a2cf9903dd38",
        "name": "function 17",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 460,
        "wires": [
            [
                "fbeb57359aa84850"
            ]
        ]
    },
    {
        "id": "fbeb57359aa84850",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "2944a2cf9903dd38",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 460,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "0d1f7134669b2aa9",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "df5e8c8146061a7b",
        "group": "72244bb7cc3234f8",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 560,
        "wires": [
            [
                "52a1147c0bf188ed",
                "3f242516aab2f4af"
            ]
        ]
    },
    {
        "id": "0410c90241966fb8",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "df5e8c8146061a7b",
        "name": "function 18",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo3\");\nfor(let i of listado){\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 560,
        "wires": [
            [
                "0d1f7134669b2aa9"
            ]
        ]
    },
    {
        "id": "52a1147c0bf188ed",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "df5e8c8146061a7b",
        "name": "function 19",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 560,
        "wires": [
            [
                "3afe2f23c1aeca8d"
            ]
        ]
    },
    {
        "id": "3afe2f23c1aeca8d",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "df5e8c8146061a7b",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 560,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3f242516aab2f4af",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "df5e8c8146061a7b",
        "name": "function 20",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 620,
        "wires": [
            [
                "534a8640c0ae6379"
            ]
        ]
    },
    {
        "id": "534a8640c0ae6379",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "df5e8c8146061a7b",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 620,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d4e28a15a65fc006",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "90e7b7cf9377e783",
        "group": "e415d25fe68f8225",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 720,
        "wires": [
            [
                "cab1dbdbcfa04feb",
                "04e6d0f97353a513"
            ]
        ]
    },
    {
        "id": "db1410d3bd19b296",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "90e7b7cf9377e783",
        "name": "function 21",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo4\");\nfor(let i of listado){\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 720,
        "wires": [
            [
                "d4e28a15a65fc006"
            ]
        ]
    },
    {
        "id": "cab1dbdbcfa04feb",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "90e7b7cf9377e783",
        "name": "function 22",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 720,
        "wires": [
            [
                "0474199877d3352a"
            ]
        ]
    },
    {
        "id": "0474199877d3352a",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "90e7b7cf9377e783",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 720,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "04e6d0f97353a513",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "90e7b7cf9377e783",
        "name": "function 23",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 780,
        "wires": [
            [
                "51040507497f2c46"
            ]
        ]
    },
    {
        "id": "51040507497f2c46",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "90e7b7cf9377e783",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 780,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "ab9a98c97b01e4f6",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "ef52eddae808c7f9",
        "group": "1cd6550702f29059",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 880,
        "wires": [
            [
                "3acd220afdb73fa4",
                "12b45d0ee11ba8a8"
            ]
        ]
    },
    {
        "id": "ef0afa55bf732843",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "ef52eddae808c7f9",
        "name": "function 24",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo5\");\nfor(let i of listado){\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 880,
        "wires": [
            [
                "ab9a98c97b01e4f6"
            ]
        ]
    },
    {
        "id": "3acd220afdb73fa4",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "ef52eddae808c7f9",
        "name": "function 25",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 880,
        "wires": [
            [
                "482d46316fe6e2a7"
            ]
        ]
    },
    {
        "id": "482d46316fe6e2a7",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "ef52eddae808c7f9",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 880,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "12b45d0ee11ba8a8",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "ef52eddae808c7f9",
        "name": "function 26",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 940,
        "wires": [
            [
                "7a7b636afa2695b4"
            ]
        ]
    },
    {
        "id": "7a7b636afa2695b4",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "ef52eddae808c7f9",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 940,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e587a0230b75ec3a",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "c572b35755ff0be1",
        "group": "4eddf6fdd9ff6b53",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 1040,
        "wires": [
            [
                "2edf5175f8531dbf",
                "39069a6f41304cb4"
            ]
        ]
    },
    {
        "id": "09b96f9ceaca3d95",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "c572b35755ff0be1",
        "name": "function 27",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo6\");\nfor (let i of listado) {\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1040,
        "wires": [
            [
                "e587a0230b75ec3a"
            ]
        ]
    },
    {
        "id": "2edf5175f8531dbf",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "c572b35755ff0be1",
        "name": "function 28",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1040,
        "wires": [
            [
                "2330c5292735455a"
            ]
        ]
    },
    {
        "id": "2330c5292735455a",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "c572b35755ff0be1",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1040,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "39069a6f41304cb4",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "c572b35755ff0be1",
        "name": "function 29",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1100,
        "wires": [
            [
                "16e7df0db101b38c"
            ]
        ]
    },
    {
        "id": "16e7df0db101b38c",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "c572b35755ff0be1",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1100,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "056742762f4476f4",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "496828fb8140a206",
        "group": "11d3e2e8c1534301",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 1200,
        "wires": [
            [
                "df46686712d61e7c",
                "6f3d6ab08041fae3"
            ]
        ]
    },
    {
        "id": "bce462a25a890422",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "496828fb8140a206",
        "name": "function 30",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo7\");\nfor(let i of listado){\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1200,
        "wires": [
            [
                "056742762f4476f4"
            ]
        ]
    },
    {
        "id": "df46686712d61e7c",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "496828fb8140a206",
        "name": "function 31",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1200,
        "wires": [
            [
                "2118cf1659c3b390"
            ]
        ]
    },
    {
        "id": "2118cf1659c3b390",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "496828fb8140a206",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1200,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "6f3d6ab08041fae3",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "496828fb8140a206",
        "name": "function 32",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1260,
        "wires": [
            [
                "06925a0f4e0b3b84"
            ]
        ]
    },
    {
        "id": "06925a0f4e0b3b84",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "496828fb8140a206",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1260,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f82828e2baa3e9e1",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "dba8e624ea6340cf",
        "group": "2d17c75545a66962",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 1360,
        "wires": [
            [
                "904816d5b980f74c",
                "62bd6ffed1770e90"
            ]
        ]
    },
    {
        "id": "768b28da110ccbe4",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "dba8e624ea6340cf",
        "name": "function 33",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo8\");\nfor (let i of listado) {\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1360,
        "wires": [
            [
                "f82828e2baa3e9e1"
            ]
        ]
    },
    {
        "id": "904816d5b980f74c",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "dba8e624ea6340cf",
        "name": "function 34",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1360,
        "wires": [
            [
                "ab1a7d227acfaf96"
            ]
        ]
    },
    {
        "id": "ab1a7d227acfaf96",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "dba8e624ea6340cf",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1360,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "62bd6ffed1770e90",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "dba8e624ea6340cf",
        "name": "function 35",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1420,
        "wires": [
            [
                "a3c7b80822e44f04"
            ]
        ]
    },
    {
        "id": "a3c7b80822e44f04",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "dba8e624ea6340cf",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "3614076b30df76b0",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "11efa6e9ff5a39e1",
        "group": "082c2d150878f725",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 1520,
        "wires": [
            [
                "71d93ec4e7464e10",
                "a1326768fe5c879f"
            ]
        ]
    },
    {
        "id": "3fed4ae2e6c168d6",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "11efa6e9ff5a39e1",
        "name": "function 36",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo9\");\nfor (let i of listado) {\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1520,
        "wires": [
            [
                "3614076b30df76b0"
            ]
        ]
    },
    {
        "id": "71d93ec4e7464e10",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "11efa6e9ff5a39e1",
        "name": "function 37",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1520,
        "wires": [
            [
                "a538a3ebc425682a"
            ]
        ]
    },
    {
        "id": "a538a3ebc425682a",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "11efa6e9ff5a39e1",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1520,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a1326768fe5c879f",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "11efa6e9ff5a39e1",
        "name": "function 38",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1580,
        "wires": [
            [
                "57ec83d9c98a59ab"
            ]
        ]
    },
    {
        "id": "57ec83d9c98a59ab",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "11efa6e9ff5a39e1",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1580,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b79fbbfd8e2e87b3",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "00c1c2c1f9c41935",
        "group": "75bbc83f421cba83",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 1680,
        "wires": [
            [
                "c4a3a586d485438c",
                "c705c8a0ead2cf38"
            ]
        ]
    },
    {
        "id": "731789840c95b238",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "00c1c2c1f9c41935",
        "name": "function 39",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo10\");\nfor(let i of listado){\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1680,
        "wires": [
            [
                "b79fbbfd8e2e87b3"
            ]
        ]
    },
    {
        "id": "c4a3a586d485438c",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "00c1c2c1f9c41935",
        "name": "function 40",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1680,
        "wires": [
            [
                "cffd6d6a75be2ebc"
            ]
        ]
    },
    {
        "id": "cffd6d6a75be2ebc",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "00c1c2c1f9c41935",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1680,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c705c8a0ead2cf38",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "00c1c2c1f9c41935",
        "name": "function 41",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1740,
        "wires": [
            [
                "0db1a964483ecd39"
            ]
        ]
    },
    {
        "id": "0db1a964483ecd39",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "00c1c2c1f9c41935",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1740,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4bad1dd52fbaad64",
        "type": "ui_template",
        "z": "2878a8012f437808",
        "g": "23cf907dd11064c0",
        "group": "f210dcae47c3fa91",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-switch\" style=\"display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; overflow-y: hidden;\">\n  <div ng-repeat=\"item in items track by $index\">\n    <md-switch ng-model=\"switchValues[item.id]\"\n      ng-change=\"send({payload: {id: item.id, valor: switchValues[item.id]}})\">\n      {{item.nombre}}\n    </md-switch>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.switchValues = scope.switchValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n\n      payload.forEach(function(item) {\n        if (typeof scope.switchValues[item.id] === 'undefined' || scope.switchValues[item.id] !== item.estado) {\n          scope.switchValues[item.id] = item.estado;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 560,
        "y": 1840,
        "wires": [
            [
                "34634f2c19f6e807",
                "085bd6e30ae9706b"
            ]
        ]
    },
    {
        "id": "bda105dc85bdb6d6",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "23cf907dd11064c0",
        "name": "function 42",
        "func": "let interruptoresInhibir = [];\n\nlet listado = global.get(\"numAlarmas_grupo11\");\nfor(let i of listado){\n  let estado_ = \"inhibida\" == global.get(\"alarmaInhibida\" + i);\n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  interruptoresInhibir.push({ id: i, nombre: nombre_, estado: estado_ });\n}\n\nmsg.payload = interruptoresInhibir;\nmsg.noEnviar = true;\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 1840,
        "wires": [
            [
                "4bad1dd52fbaad64"
            ]
        ]
    },
    {
        "id": "34634f2c19f6e807",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "23cf907dd11064c0",
        "name": "function 43",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1840,
        "wires": [
            [
                "82ae7fa2f376b5a2"
            ]
        ]
    },
    {
        "id": "82ae7fa2f376b5a2",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "23cf907dd11064c0",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1840,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "085bd6e30ae9706b",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "23cf907dd11064c0",
        "name": "function 44",
        "func": "if(msg.noEnviar)\n    return null;\n\nlet valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"dirInhibidoAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 5,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 1900,
        "wires": [
            [
                "403766296c61d80b"
            ]
        ]
    },
    {
        "id": "403766296c61d80b",
        "type": "modbus-flex-write",
        "z": "2878a8012f437808",
        "g": "23cf907dd11064c0",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1070,
        "y": 1900,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a4d2c7686c7dde09",
        "type": "ui_text_input",
        "z": "2878a8012f437808",
        "g": "d484039333dba38d",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "94f1b7f9f6ffd90e",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "password",
        "delay": "0",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 600,
        "y": 80,
        "wires": [
            [
                "e3fd539aecd9b0b0"
            ]
        ]
    },
    {
        "id": "7f3adf89deb11373",
        "type": "ui_button",
        "z": "2878a8012f437808",
        "g": "d484039333dba38d",
        "name": "",
        "group": "94f1b7f9f6ffd90e",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Ingresar",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "login",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 560,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "e01b9a4ef4d482f4",
        "type": "ui_ui_control",
        "z": "2878a8012f437808",
        "g": "d484039333dba38d",
        "name": "",
        "events": "all",
        "x": 140,
        "y": 80,
        "wires": [
            [
                "9128d2dc95e7e1b1"
            ]
        ]
    },
    {
        "id": "9128d2dc95e7e1b1",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "d484039333dba38d",
        "name": "function 45",
        "func": "msg.payload = \"\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 80,
        "wires": [
            [
                "a4d2c7686c7dde09"
            ]
        ]
    },
    {
        "id": "e3fd539aecd9b0b0",
        "type": "function",
        "z": "2878a8012f437808",
        "g": "d484039333dba38d",
        "name": "function 46",
        "func": "let claveConfig = global.get(\"claveDeConfiguración\");\n\nif(msg.payload == claveConfig){\n    msg.payload = {\n    \"tab\": \"Inhibir alarmas dashboard\"   // Nombre EXACTO del tab\n    };\n}\nelse{\n    msg.topic = \"\";\n    msg.payload = null;\n}    \n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 80,
        "wires": [
            [
                "475a1a4ac275dbe9",
                "a4d2c7686c7dde09"
            ]
        ]
    },
    {
        "id": "475a1a4ac275dbe9",
        "type": "ui_ui_control",
        "z": "2878a8012f437808",
        "g": "d484039333dba38d",
        "name": "",
        "events": "change",
        "x": 1060,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "244ee31f82b3d905",
        "type": "ui_ui_control",
        "z": "3c0951fce832df0e",
        "name": "",
        "events": "all",
        "x": 100,
        "y": 680,
        "wires": [
            [
                "fdd4a657f8b883e4",
                "52ad4d023dfb917b",
                "bd877cc88bc1cba0",
                "bc799aa5a9be84a2",
                "7f2edf43a3894587",
                "b8b8c039e67b2c24",
                "4a3cc2ca8e90a92b",
                "d05379a09afd3bd6",
                "16144c3822c87fa1",
                "de6d0da7b48fbab9",
                "9966f464b53c5817"
            ]
        ]
    },
    {
        "id": "95cb25d11677c5dc",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "group": "192bcfb8fb527a2e",
        "name": "Estilo",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\n  .compact-slider {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: 10px;\n    overflow-y: hidden;\n    background-color: #1e1e1e;\n    border: 1px dashed #555;\n    padding: 10px;\n  }\n\n  .slider-card {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border: 1px solid #444;\n    background-color: #2a2a2a;\n    padding: 8px;\n    border-radius: 6px;\n  }\n\n  .slider-label {\n    font-size: 13px;\n    margin-bottom: 4px;\n    text-align: center;\n    color: #ccc;\n  }\n\n  .slider-horizontal {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    width: 100%;\n    max-width: 300px;\n    justify-content: center;\n  }\n\n  md-slider {\n    flex: 1;\n    max-width: 200px;\n    color: #2196F3;\n  }\n\n  .slider-value {\n  font-size: 13px;\n  color: #eee;\n  display: flex;\n  align-items: center;\n  gap: 1ch; /* espacio fijo de 1 carácter */\n  background-color: #111;\n  border: 1px solid #666;\n  padding: 2px 6px;\n  border-radius: 4px;\n  white-space: nowrap;\n  }\n\n  .slider-unit {\n    font-size: 12px;\n    color: #aaa;\n  }\n</style>\n\n\n<style>\n    /* Logo Xiriox */\n    .md-toolbar-tools {\n        position: relative;\n        background-image: none !important;\n        /* por si tenías un fondo previo */\n    }\n\n    /* Imagen fija a la derecha */\n    .md-toolbar-tools::after {\n        content: \"\";\n        position: absolute;\n        right: 10px;\n        /* separación del borde */\n        top: 50%;\n        transform: translateY(-50%);\n        width: 150px;\n        /* tamaño del logo */\n        height: 40px;\n        background: url(\"/xiriox.png\") no-repeat center center;\n        background-size: contain;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 90,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "3ad1cda190d7bacd",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "126813add0aa1ca5",
        "group": "192bcfb8fb527a2e",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 280,
        "wires": [
            [
                "5adf8ffea4c9df99",
                "2fc1a147e765d3b2"
            ]
        ]
    },
    {
        "id": "fdd4a657f8b883e4",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "126813add0aa1ca5",
        "name": "function 11",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo1\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 280,
        "wires": [
            [
                "3ad1cda190d7bacd"
            ]
        ]
    },
    {
        "id": "5adf8ffea4c9df99",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "126813add0aa1ca5",
        "name": "function 12",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 260,
        "wires": [
            [
                "ed8964dd42f73e47"
            ]
        ]
    },
    {
        "id": "ed8964dd42f73e47",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "126813add0aa1ca5",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 260,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2fc1a147e765d3b2",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "126813add0aa1ca5",
        "name": "function 13",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 320,
        "wires": [
            [
                "a2a09ffb8f7e68d3"
            ]
        ]
    },
    {
        "id": "a2a09ffb8f7e68d3",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "126813add0aa1ca5",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 320,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a4b980df006bacd1",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "53ab384629c7fde6",
        "group": "d8de786542e0aec2",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 440,
        "wires": [
            [
                "05e635f323077e2d",
                "b0366bec4332c247"
            ]
        ]
    },
    {
        "id": "52ad4d023dfb917b",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "53ab384629c7fde6",
        "name": "function 14",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo2\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 440,
        "wires": [
            [
                "a4b980df006bacd1"
            ]
        ]
    },
    {
        "id": "05e635f323077e2d",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "53ab384629c7fde6",
        "name": "function 15",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 420,
        "wires": [
            [
                "f1b24b5a4f779c82"
            ]
        ]
    },
    {
        "id": "f1b24b5a4f779c82",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "53ab384629c7fde6",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 420,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b0366bec4332c247",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "53ab384629c7fde6",
        "name": "function 16",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 480,
        "wires": [
            [
                "f8230e58bc6d2e58"
            ]
        ]
    },
    {
        "id": "f8230e58bc6d2e58",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "53ab384629c7fde6",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 480,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "32911524885e7ea2",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "aef27e39183d185e",
        "group": "6f8567cf467da09e",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 600,
        "wires": [
            [
                "5181f51f72b6915c",
                "c915017c74817fd5"
            ]
        ]
    },
    {
        "id": "bd877cc88bc1cba0",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "aef27e39183d185e",
        "name": "function 17",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo3\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 600,
        "wires": [
            [
                "32911524885e7ea2"
            ]
        ]
    },
    {
        "id": "5181f51f72b6915c",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "aef27e39183d185e",
        "name": "function 18",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 580,
        "wires": [
            [
                "473a1d2134e40289"
            ]
        ]
    },
    {
        "id": "473a1d2134e40289",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "aef27e39183d185e",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 580,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c915017c74817fd5",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "aef27e39183d185e",
        "name": "function 19",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 640,
        "wires": [
            [
                "e5c3d977223ef5a5"
            ]
        ]
    },
    {
        "id": "e5c3d977223ef5a5",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "aef27e39183d185e",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 640,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a578e8270a984a7d",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "b20c57dd3ce506a4",
        "group": "50fcc47d284d2d6a",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 760,
        "wires": [
            [
                "2394fbd67ff49e89",
                "f86251cad1696ba6"
            ]
        ]
    },
    {
        "id": "bc799aa5a9be84a2",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "b20c57dd3ce506a4",
        "name": "function 20",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo4\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 760,
        "wires": [
            [
                "a578e8270a984a7d"
            ]
        ]
    },
    {
        "id": "2394fbd67ff49e89",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "b20c57dd3ce506a4",
        "name": "function 21",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 740,
        "wires": [
            [
                "d23c4dd0776dd4b4"
            ]
        ]
    },
    {
        "id": "d23c4dd0776dd4b4",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "b20c57dd3ce506a4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 740,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f86251cad1696ba6",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "b20c57dd3ce506a4",
        "name": "function 22",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 800,
        "wires": [
            [
                "9fd2aeb492137e6c"
            ]
        ]
    },
    {
        "id": "9fd2aeb492137e6c",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "b20c57dd3ce506a4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 800,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "96bcdf2ad91c6aa4",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "21ea7059c9368c6b",
        "group": "41f428f239d312dd",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 920,
        "wires": [
            [
                "1d4796e6ab15a78e",
                "d52155f82967e139"
            ]
        ]
    },
    {
        "id": "7f2edf43a3894587",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "21ea7059c9368c6b",
        "name": "function 23",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo5\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 920,
        "wires": [
            [
                "96bcdf2ad91c6aa4"
            ]
        ]
    },
    {
        "id": "1d4796e6ab15a78e",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "21ea7059c9368c6b",
        "name": "function 24",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 900,
        "wires": [
            [
                "a908d1bf93685135"
            ]
        ]
    },
    {
        "id": "a908d1bf93685135",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "21ea7059c9368c6b",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 900,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d52155f82967e139",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "21ea7059c9368c6b",
        "name": "function 25",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 960,
        "wires": [
            [
                "6c1e56b547646740"
            ]
        ]
    },
    {
        "id": "6c1e56b547646740",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "21ea7059c9368c6b",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 960,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "704c719a36f94304",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "a7eacc767a850ac7",
        "group": "da1a9127c3fee288",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 1080,
        "wires": [
            [
                "db05faf55602d28a",
                "e173d1ad1d25b86a"
            ]
        ]
    },
    {
        "id": "b8b8c039e67b2c24",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "a7eacc767a850ac7",
        "name": "function 26",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo6\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1080,
        "wires": [
            [
                "704c719a36f94304"
            ]
        ]
    },
    {
        "id": "db05faf55602d28a",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "a7eacc767a850ac7",
        "name": "function 27",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1060,
        "wires": [
            [
                "bfddb396ce29e03f"
            ]
        ]
    },
    {
        "id": "bfddb396ce29e03f",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "a7eacc767a850ac7",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1060,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e173d1ad1d25b86a",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "a7eacc767a850ac7",
        "name": "function 28",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1120,
        "wires": [
            [
                "13df28bdb2f846fb"
            ]
        ]
    },
    {
        "id": "13df28bdb2f846fb",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "a7eacc767a850ac7",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1120,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4c9848e87184cfe3",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "170552724c50f5a4",
        "group": "98585b6553cef28f",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 1240,
        "wires": [
            [
                "f1e4fbd0e4b10bc2",
                "c619b366fdabd2ad"
            ]
        ]
    },
    {
        "id": "4a3cc2ca8e90a92b",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "170552724c50f5a4",
        "name": "function 29",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo7\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1240,
        "wires": [
            [
                "4c9848e87184cfe3"
            ]
        ]
    },
    {
        "id": "f1e4fbd0e4b10bc2",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "170552724c50f5a4",
        "name": "function 30",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1220,
        "wires": [
            [
                "2c6ecf33b26fd462"
            ]
        ]
    },
    {
        "id": "2c6ecf33b26fd462",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "170552724c50f5a4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1220,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "c619b366fdabd2ad",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "170552724c50f5a4",
        "name": "function 31",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1280,
        "wires": [
            [
                "d2cc84ddf6e0143c"
            ]
        ]
    },
    {
        "id": "d2cc84ddf6e0143c",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "170552724c50f5a4",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1280,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "b0a98f8d4bf3b9ae",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "21ef378f49526b77",
        "group": "08cc1d255b153d6e",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 1400,
        "wires": [
            [
                "d9c69b0f2018da72",
                "e63d3e28da11d951"
            ]
        ]
    },
    {
        "id": "d05379a09afd3bd6",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "21ef378f49526b77",
        "name": "function 32",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo8\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1400,
        "wires": [
            [
                "b0a98f8d4bf3b9ae"
            ]
        ]
    },
    {
        "id": "d9c69b0f2018da72",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "21ef378f49526b77",
        "name": "function 33",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1380,
        "wires": [
            [
                "18f2e15268a21016"
            ]
        ]
    },
    {
        "id": "18f2e15268a21016",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "21ef378f49526b77",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1380,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "e63d3e28da11d951",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "21ef378f49526b77",
        "name": "function 34",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1440,
        "wires": [
            [
                "fd5f1cc0d19eebf5"
            ]
        ]
    },
    {
        "id": "fd5f1cc0d19eebf5",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "21ef378f49526b77",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1440,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "09e3b215b96a88aa",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "a290d777da0e6e16",
        "group": "62e7023ba6d597ac",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 1560,
        "wires": [
            [
                "bdc80718965f0c81",
                "a8b26a28a53f25fc"
            ]
        ]
    },
    {
        "id": "16144c3822c87fa1",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "a290d777da0e6e16",
        "name": "function 35",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo9\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1560,
        "wires": [
            [
                "09e3b215b96a88aa"
            ]
        ]
    },
    {
        "id": "bdc80718965f0c81",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "a290d777da0e6e16",
        "name": "function 36",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1540,
        "wires": [
            [
                "b54dad2b1ede46d8"
            ]
        ]
    },
    {
        "id": "b54dad2b1ede46d8",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "a290d777da0e6e16",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1540,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a8b26a28a53f25fc",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "a290d777da0e6e16",
        "name": "function 37",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1600,
        "wires": [
            [
                "dbe35f087c490911"
            ]
        ]
    },
    {
        "id": "dbe35f087c490911",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "a290d777da0e6e16",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1600,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f2ca6699df9c3b31",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "86052139343311da",
        "group": "3bca7cb0fa9a4f49",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 1720,
        "wires": [
            [
                "7bdf4f457f6d11e6",
                "09ad9bf571cd95ec"
            ]
        ]
    },
    {
        "id": "de6d0da7b48fbab9",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "86052139343311da",
        "name": "function 38",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo10\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1720,
        "wires": [
            [
                "f2ca6699df9c3b31"
            ]
        ]
    },
    {
        "id": "7bdf4f457f6d11e6",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "86052139343311da",
        "name": "function 39",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1700,
        "wires": [
            [
                "4bb5d8b3ddcfdd8f"
            ]
        ]
    },
    {
        "id": "4bb5d8b3ddcfdd8f",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "86052139343311da",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1700,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "09ad9bf571cd95ec",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "86052139343311da",
        "name": "function 40",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1760,
        "wires": [
            [
                "503f06152c85fd16"
            ]
        ]
    },
    {
        "id": "503f06152c85fd16",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "86052139343311da",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1760,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4da568eb6ccdab3f",
        "type": "ui_template",
        "z": "3c0951fce832df0e",
        "g": "750854aa72820d38",
        "group": "7ae441413e1211fb",
        "name": "",
        "order": 20,
        "width": 0,
        "height": 0,
        "format": "<div class=\"compact-slider\">\n  <div class=\"slider-card\" ng-repeat=\"item in items track by $index\">\n    <div class=\"slider-label\">{{item.nombre}}</div>\n    <div class=\"slider-horizontal\">\n      <md-slider ng-model=\"sliderValues[item.id]\" min=\"0\" max=\"{{item.max}}\" step=\"1\"\n        ng-change=\"send({payload: {id: item.id, valor: sliderValues[item.id]}})\">\n      </md-slider>\n      <div class=\"slider-value\">\n        {{sliderValues[item.id]}} <span class=\"slider-unit\"> seg</span>\n      </div>\n    </div>\n  </div>\n</div>\n\n<script>\n  (function(scope) {\n  scope.items = [];\n  scope.sliderValues = scope.sliderValues || {};\n\n  scope.$watch('msg.payload', function(payload) {\n    if (Array.isArray(payload)) {\n      scope.items = payload;\n      payload.forEach(function(item) {\n        if (\n          typeof scope.sliderValues[item.id] === 'undefined' ||\n          scope.sliderValues[item.id] !== item.valor\n        ) {\n          scope.sliderValues[item.id] = item.valor;\n        }\n      });\n    }\n  });\n})(scope);\n</script>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 580,
        "y": 1880,
        "wires": [
            [
                "bcb1705ae8216680",
                "802afe4a48ef0cdd"
            ]
        ]
    },
    {
        "id": "9966f464b53c5817",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "750854aa72820d38",
        "name": "function 41",
        "func": "let sliderDelay = [];\nlet delayMaximo = global.get(\"delayMaximoAlarmas\");\n\nlet listado = global.get(\"numAlarmas_grupo11\");\n\nfor(let i of listado){\n  let valor_ = global.get(\"delayAlarma\" + i);  \n  let nombre_ = global.get(\"nombreAlarma\" + i);\n  let maximo_ = delayMaximo;  // valor máximo por defecto\n\n  sliderDelay.push({\n    id: i,\n    nombre: nombre_,\n    valor: valor_,\n    max: maximo_\n  });\n}\n\nmsg.payload = sliderDelay;\nmsg.noEnviar = true;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 1880,
        "wires": [
            [
                "4da568eb6ccdab3f"
            ]
        ]
    },
    {
        "id": "bcb1705ae8216680",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "750854aa72820d38",
        "name": "function 42",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC39\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1860,
        "wires": [
            [
                "c565468488314c1d"
            ]
        ]
    },
    {
        "id": "c565468488314c1d",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "750854aa72820d38",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1860,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "802afe4a48ef0cdd",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "750854aa72820d38",
        "name": "function 43",
        "func": "let valor = msg.payload.valor;\nlet idAlarma = msg.payload.id;\n\nif (!global.get(\"numAlarmasPLC40\").includes(idAlarma))\n    return null;\n\nlet direccion_PLC = global.get(\"direccionDelayAlarma\" + idAlarma);\nmsg.payload = {\n    value : valor,\n    \"fc\": 6,\n    \"address\": direccion_PLC,\n    \"quantity\": 1\n};\n\nreturn msg;\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 770,
        "y": 1920,
        "wires": [
            [
                "7d8d79fd2adf4f76"
            ]
        ]
    },
    {
        "id": "7d8d79fd2adf4f76",
        "type": "modbus-flex-write",
        "z": "3c0951fce832df0e",
        "g": "750854aa72820d38",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 970,
        "y": 1920,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7c39084dfd17b599",
        "type": "ui_text_input",
        "z": "3c0951fce832df0e",
        "g": "910b17b0febffb79",
        "name": "",
        "label": "",
        "tooltip": "",
        "group": "4e2eccf43d683b89",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "mode": "password",
        "delay": "0",
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 580,
        "y": 80,
        "wires": [
            [
                "d9616dc40250bd6c"
            ]
        ]
    },
    {
        "id": "51c8649802f559e9",
        "type": "ui_button",
        "z": "3c0951fce832df0e",
        "g": "910b17b0febffb79",
        "name": "",
        "group": "4e2eccf43d683b89",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Ingresar",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "login",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 560,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "6754a9cbba6874a2",
        "type": "ui_ui_control",
        "z": "3c0951fce832df0e",
        "g": "910b17b0febffb79",
        "name": "",
        "events": "all",
        "x": 140,
        "y": 80,
        "wires": [
            [
                "d131ed53443edeea"
            ]
        ]
    },
    {
        "id": "d131ed53443edeea",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "910b17b0febffb79",
        "name": "function 44",
        "func": "msg.payload = \"\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 370,
        "y": 80,
        "wires": [
            [
                "7c39084dfd17b599"
            ]
        ]
    },
    {
        "id": "d9616dc40250bd6c",
        "type": "function",
        "z": "3c0951fce832df0e",
        "g": "910b17b0febffb79",
        "name": "function 45",
        "func": "let claveConfig = global.get(\"claveDeConfiguración\");\n\nif(msg.payload == claveConfig){\n    msg.payload = {\n    \"tab\": \"Tiempos retardo dashboard\"   // Nombre EXACTO del tab\n    };\n}\nelse{\n    msg.topic = \"\";\n    msg.payload = null;\n}    \n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 80,
        "wires": [
            [
                "e9c8cbd51c4063cf",
                "7c39084dfd17b599"
            ]
        ]
    },
    {
        "id": "e9c8cbd51c4063cf",
        "type": "ui_ui_control",
        "z": "3c0951fce832df0e",
        "g": "910b17b0febffb79",
        "name": "",
        "events": "change",
        "x": 1060,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "a94a676cebd7d0f6",
        "type": "comment",
        "z": "43ab60b9bd18089a",
        "name": "Indice de grupos de alarmas",
        "info": "",
        "x": 140,
        "y": 40,
        "wires": []
    },
    {
        "id": "8cea39b44159d9a5",
        "type": "function",
        "z": "43ab60b9bd18089a",
        "g": "a7396a5bdff36c60",
        "name": "Estado de botones",
        "func": "let botones = [];\nlet alturaBotones = global.get(\"alturaBotonesIndiceAlarmas\");\n\nlet boton = {};\nfor (let i = 1; i <= 11; i++) {    \n    let estado_alarma = global.get(\"global_estadoAlarmasGrupo\" + i);    \n    let titulo = global.get(\"nombreGrupoAlarmas\" + i);   \n\n    if (estado_alarma == \"noReconocida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_alarma\"),\n            blink: true,\n            indice: i,\n            height: alturaBotones\n        };\n    } \n    else if (estado_alarma == \"activa_reconocida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_alarma\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    } \n    else if (estado_alarma == \"inactiva_reconocida\") {\n        boton = {\n            text: titulo,\n            color: global.get(\"global_color_normal\"),\n            blink: false,\n            indice: i,\n            height: alturaBotones\n        };\n    }\n    \n    botones.push(boton);    \n}\nmsg.payload = botones;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 350,
        "y": 140,
        "wires": [
            [
                "1ffd5fa67c91024b"
            ]
        ]
    },
    {
        "id": "eecfa5b1862ea559",
        "type": "function",
        "z": "43ab60b9bd18089a",
        "g": "a7396a5bdff36c60",
        "name": "function 54",
        "func": "var mensajeEntrada = msg.payload;\nlet idGrupo = msg.index;\n\n//let hide = [];\n\nmsg.payload = \n{    \n    \"group\": {\n        \"hide\": [],\n        \"show\": []       \n    }\n}\n\nmsg.payload.group.show.push(\"Alarmas_\" + global.get(\"nombreGrupoAlarmas\" + idGrupo));\n\nfor(let i=1; i<=11; i++){\n    if(idGrupo != i) msg.payload.group.hide.push(\"Alarmas_\" + global.get(\"nombreGrupoAlarmas\" + i));   \n}\n\nreturn msg;\n/*\nmsg.payload = \n{    \n    \"group\": {\n        \"hide\": hide,\n        \"show\": [\n            \"Alarmas_COMBUSTIBLE_/_LUBRICACIÓN\"\n        ]\n    }\n}*/\n/*\nmsg.payload = \n{    \n    \"group\": {\n        \"hide\": [\n            \"Alarmas_ESTANQUES\",\n            \"Alarmas_AIRE_DE_CARGA\",\n            \"Alarmas_GASES_DE_ESCAPE\",\n            \"Alarmas_CIGÜEÑAL\",\n            \"Alarmas_AGUA_ENFRIAMIENTO\",\n            \"Alarmas_CILINDROS\",\n            \"Alarmas_CAJA_Y_THRUSTER\",\n            \"Alarmas_BLOQUEO_PARADA\",\n            \"Alarmas_SENTINA\",\n            \"Alarmas_MISCELÁNEOS\"\n        ],\n        \"show\": [\n            \"Alarmas_COMBUSTIBLE_/_LUBRICACIÓN\"\n        ]\n    }\n}*/",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 140,
        "wires": [
            [
                "207081c238748223"
            ]
        ]
    },
    {
        "id": "ef7a77377b2a1b97",
        "type": "inject",
        "z": "43ab60b9bd18089a",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 140,
        "wires": [
            [
                "8cea39b44159d9a5"
            ]
        ]
    },
    {
        "id": "207081c238748223",
        "type": "ui_ui_control",
        "z": "43ab60b9bd18089a",
        "name": "",
        "events": "all",
        "x": 1000,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "1ffd5fa67c91024b",
        "type": "ui_template",
        "z": "43ab60b9bd18089a",
        "g": "a7396a5bdff36c60",
        "group": "4b90d7d19055fe04",
        "name": "",
        "order": 2,
        "width": "0",
        "height": "0",
        "format": "<div class=\"botonesIndiceDeAlarmas\">\n    <div ng-repeat=\"item in msg.payload track by $index\" class=\"alarm-button\">\n        <button class=\"alarm-btn\"\n                style=\"background-color: {{item.color}}; height: {{item.height}}px;\"\n                ng-class=\"{'blinking': item.blink}\"\n                ng-click=\"send({payload: 'ack', index: item.indice})\">\n            {{item.text}}\n        </button>\n    </div>\n</div>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "prueba",
        "x": 540,
        "y": 140,
        "wires": [
            [
                "eecfa5b1862ea559"
            ]
        ]
    },
    {
        "id": "4caa4434d2596d7c",
        "type": "ui_template",
        "z": "43ab60b9bd18089a",
        "group": "4b90d7d19055fe04",
        "name": "Estilo para los botones del índice de alarmas",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .botonesIndiceDeAlarmas {\n        display: grid;\n        grid-template-columns: repeat(6, 1fr);\n        gap: 3px;\n        /* espacio entre botones (horizontal y vertical) */\n        overflow-y: hidden !important;\n        max-height: 500px;\n        /* o el que prefieras */\n        padding: 0;\n        margin: 0;\n    }\n\n    .alarm-button {\n        margin: 0;\n        padding: 0;\n        height: auto;\n    }\n\n    .botonesIndiceDeAlarmas .alarm-btn {\n        width: 100%;\n        height: 30px;\n        /* 👈 altura fija */\n        line-height: 30px;\n        /* 👈 centra el texto verticalmente */\n        padding: 0;\n        /* evita que el padding aumente la altura */\n        font-size: 16px;\n        font-weight: bold; /* texto en negrita */\n        border: none;\n        color: white;\n        border-radius: 4px;\n        box-sizing: border-box;\n        margin: 0;\n        text-align: center;\n        white-space: nowrap;\n        /* evita salto de línea */\n        overflow: hidden;\n        text-overflow: ellipsis;\n        /* puntos suspensivos si el texto es largo */\n    }\n\n    .blinking {\n        animation: blink 1s linear infinite;\n    }\n\n    @keyframes blink {\n        50% {\n            opacity: 0;\n        }\n    }\n\n    \n</style>\n<style>\n/* Cambia el fondo del grupo que tenga la clase \"hola\" */\n.nr-dashboard-cardpanel.hola {\n    background-color: #e0e0e0 !important; /* gris claro */\n    border-radius: 10px; /* opcional: esquinas redondeadas */\n    padding: 5px;        /* opcional: margen interno */\n}\n\n/* Opcional: también puedes modificar el título del grupo */\n.nr-dashboard-cardpanel.hola .nr-dashboard-cardtitle {\n    background-color: #d6d6d6 !important;\n    color: #000 !important;\n    font-weight: bold;\n}\n</style>\n\n<style>\n.nr-dashboard-cardpanel.indiceAlarmas md-card {\nbackground-color: transparent !important;\nbox-shadow: none !important; /* si no quieres la sombra */\n//border-radius: 0 !important;\n}\n\n.nr-dashboard-cardpanel.indiceAlarmas {\nbackground-color: black !important;\n//border-radius: 0 !important;\n}\n</style>\n\n\n<style>\n    /* Logo Xiriox */\n    .md-toolbar-tools {\n        position: relative;\n        background-image: none !important;\n        /* por si tenías un fondo previo */\n    }\n\n    /* Imagen fija a la derecha */\n    .md-toolbar-tools::after {\n        content: \"\";\n        position: absolute;\n        right: 10px;\n        /* separación del borde */\n        top: 50%;\n        transform: translateY(-50%);\n        width: 150px;\n        /* tamaño del logo */\n        height: 40px;\n        background: url(\"/xiriox.png\") no-repeat center center;\n        background-size: contain;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 190,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "7e3aee90d1e07a8e",
        "type": "inject",
        "z": "8894d7148034cca1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 200,
        "wires": [
            [
                "4c44a5707693a62a"
            ]
        ]
    },
    {
        "id": "71d55baa47cbf69a",
        "type": "function",
        "z": "8894d7148034cca1",
        "name": "Inicializa tabla",
        "func": "let tabla = [];\nglobal.set(\"tabla_listadoAlarmasActivas\", tabla); \n\nfor(let i of global.get(\"numAlarmasPLC39\"))\n    global.set(\"global_alarma_ea\" + i, \"null\")\n\nfor(let i of global.get(\"numAlarmasPLC40\"))\n    global.set(\"global_alarma_ea\" + i, \"null\")\n    \n\n\nmsg.payload = [];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 120,
        "wires": [
            [
                "2c916460aa181240"
            ]
        ]
    },
    {
        "id": "c06e37688032cfb3",
        "type": "function",
        "z": "8894d7148034cca1",
        "name": "function 3",
        "func": "let id = msg.payload.id;\n\nif(!global.get(\"numAlarmasPLC39\").includes(id))\nreturn null;\n\nif(id > 0){\n    let direccion_PLC = global.get(\"dirReconocerAlarma\" + id);\n    msg.payload = {\n        value : true,\n        \"fc\": 5,\n        \"address\": direccion_PLC,\n        \"quantity\": 1\n    }\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 80,
        "wires": [
            [
                "01589dea11852bbe"
            ]
        ]
    },
    {
        "id": "1a25244099071c84",
        "type": "delay",
        "z": "8894d7148034cca1",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 990,
        "y": 120,
        "wires": [
            [
                "01589dea11852bbe"
            ]
        ]
    },
    {
        "id": "b48bddbbc2db6321",
        "type": "function",
        "z": "8894d7148034cca1",
        "name": "function 4",
        "func": "let id = msg.payload.id;\n\nif(!global.get(\"numAlarmasPLC39\").includes(id))\nreturn null;\n\nif(id > 0){\n    let direccion_PLC = global.get(\"dirReconocerAlarma\" + id);\n    msg.payload = {\n        value : false,\n        \"fc\": 5,\n        \"address\": direccion_PLC,\n        \"quantity\": 1\n    }\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 120,
        "wires": [
            [
                "1a25244099071c84"
            ]
        ]
    },
    {
        "id": "4c44a5707693a62a",
        "type": "function",
        "z": "8894d7148034cca1",
        "name": "Revisa estado de alarmas",
        "func": "let tabla = global.get(\"tabla_listadoAlarmasActivas\") || []; \nlet soloReemplazarDatos = true;\n\nlet elementosConCambio = [];\n\nfor (let i of global.get(\"numAlarmasPLC_general\")){\n    var numeroAlarma = i;\n    var nombreAlarma = global.get(\"nombreAlarma\" + numeroAlarma);\n    var estadoAnteriorAlarma = global.get(\"global_alarma_ea\" + numeroAlarma) || \"no\";\n    var estadoAlarma = global.get(\"global_alarma\" + numeroAlarma);\n    var estado_inhibicionAlarma = global.get(\"alarmaInhibida\"  + numeroAlarma);\n    let soloReemplazarDatos_individual = false;\n    \n    if (estadoAlarma != estadoAnteriorAlarma){\n        msg.payload = estadoAlarma + \"  \" + estadoAnteriorAlarma;\n        \n        elementosConCambio.unshift({\n            numeroAlarma: i,\n            estadoAlarma: estadoAlarma\n        });\n        \n        // Buscar si ya existe una alarma con ese ID\n        let index = tabla.findIndex(item => item.id === numeroAlarma);\n        \n        // --- GUARDAR TIMESTAMP en milisegundos (UTC+0) ---\n        let ahora = new Date();\n        let timestamp = ahora.getTime(); // guardar como número\n        // -------------------------------------------------\n\n        if (estadoAlarma == \"activa_noReconocida\" || estadoAlarma == \"inactiva_noReconocida\"){ \n            let color = global.get(\"global_color_alarma\"); \n            if (estadoAlarma == \"inactiva_noReconocida\")\n                color = global.get(\"global_color_inactivaNoReconocida\");\n            let blink = true;\n            let alarmaHtml = `<div class=\"alarm-cell ${color} ${blink ? 'blinking' : ''}\">${nombreAlarma}</div>`;\n    \n            let elemento = {\n                \"id\": numeroAlarma,\n                \"alarma\": alarmaHtml,            \n                \"timestamp\": timestamp  // Guardar timestamp en lugar de fecha formateada\n            };\n            if (index !== -1) {               \n                tabla[index] = elemento;\n                soloReemplazarDatos_individual = true;    \n            }\n            else \n                tabla.unshift(elemento);            \n        }\n        else if (estadoAlarma == \"activa_reconocida\"){\n            let color = global.get(\"global_color_alarma\");\n            let blink = false;        \n            let alarmaHtml = `<div class=\"alarm-cell ${color} ${blink ? 'blinking' : ''}\">${nombreAlarma}</div>`;\n            let elemento = {\n                \"id\": numeroAlarma,\n                \"alarma\": alarmaHtml,            \n                \"timestamp\": timestamp  // Guardar timestamp en lugar de fecha formateada\n            };\n            if (index !== -1){\n                tabla[index] = elemento; \n                soloReemplazarDatos_individual = true;\n            }\n            else\n                tabla.unshift(elemento);              \n        }\n        else if (estadoAlarma == \"inactiva_reconocida\"){\n            if (index !== -1) \n                tabla.splice(index, 1);   \n            soloReemplazarDatos_individual = true;                     \n        }\n        if(!soloReemplazarDatos_individual){\n            soloReemplazarDatos = false;\n        }\n    }   \n}    \n\n// Guardar con timestamps UTC+0\nglobal.set(\"tabla_listadoAlarmasActivas\", tabla); \n\n// --- Convertir timestamps a fechas legibles con zona horaria ---\nlet zona = global.get(\"zonaHoraria\") || -4;\nlet offsetMs = zona * 60 * 60 * 1000;\n\nlet tablaParaMostrar = tabla.map(item => {\n    let itemCopia = {...item};  // copiar para no modificar el original\n    \n    if (item.timestamp) {\n        // Ajustar el timestamp según zona horaria\n        let fechaAjustada = new Date(item.timestamp + offsetMs);\n        \n        // Formatear como fecha legible\n        itemCopia.fecha = fechaAjustada.toLocaleString(\"es-CL\", {\n            timeZone: \"UTC\",  // importante: usar UTC porque ya ajustamos manualmente\n            day: \"2-digit\",\n            month: \"2-digit\",\n            year: \"numeric\",\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n            second: \"2-digit\"\n        });\n        \n        // Eliminar timestamp de lo que se muestra\n        delete itemCopia.timestamp;\n    }\n    \n    return itemCopia;\n});\n// ----------------------------------------------------------------\n\n// Limitar la tabla a solo los primeros 15 elementos\nlet tablaLimitada = tablaParaMostrar.slice(0, 15);\n\nif (soloReemplazarDatos) {\n    msg.payload = {\n        command: \"replaceData\",\n        arguments: [tablaLimitada]\n    };\n}\nelse {\n    msg.payload = [...tablaLimitada];\n}\n\n// Actualizar estados anteriores\nfor (let i of elementosConCambio) {\n    global.set(\"global_alarma_ea\" + i.numeroAlarma, i.estadoAlarma);   \n}\n\nreturn msg;\n\n\n\n/*let tabla = global.get(\"tabla_listadoAlarmasActivas\") || []; \nlet soloReemplazarDatos = true; //cuando no es necesario recontruir y evitamos que la tablase vaya a la posición inicial visualmente\n\nlet elementosConCambio = [];\n\nfor (let i of global.get(\"numAlarmasPLC_general\")){\n    var numeroAlarma = i;\n    var nombreAlarma = global.get(\"nombreAlarma\" + numeroAlarma);\n    var estadoAnteriorAlarma = global.get(\"global_alarma_ea\" + numeroAlarma) || \"no\";\n    var estadoAlarma = global.get(\"global_alarma\" + numeroAlarma);\n    var estado_inhibicionAlarma = global.get(\"alarmaInhibida\"  + numeroAlarma);\n    let soloReemplazarDatos_individual = false;\n    \n    if (estadoAlarma != estadoAnteriorAlarma){\n\n        elementosConCambio.unshift({\n            numeroAlarma: i,\n            estadoAlarma: estadoAlarma\n            });\n        \n        // Buscar si ya existe una alarma con ese ID\n        let index = tabla.findIndex(item => item.id === numeroAlarma);\n        let ahora = new Date();\n        //let fechaLegible = ahora.toLocaleString(\"es-CL\");  // formato local: dd/mm/yyyy hh:mm:ss\n\n        let fechaLegible = ahora.toLocaleString(\"es-CL\", {\n    timeZone: \"UTC\",\n    day: \"2-digit\",\n    month: \"2-digit\",\n    year: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n    second: \"2-digit\"\n});\n\n        if (estadoAlarma == \"activa_noReconocida\" || estadoAlarma == \"inactiva_noReconocida\"){ \n            let color = global.get(\"global_color_alarma\"); \n            if (estadoAlarma == \"inactiva_noReconocida\")\n                color = global.get(\"global_color_inactivaNoReconocida\");\n            let blink = true;\n            let alarmaHtml = `<div class=\"alarm-cell ${color} ${blink ? 'blinking' : ''}\">${nombreAlarma}</div>`;\n    \n            let elemento = {\n                \"id\": numeroAlarma,\n                \"alarma\": alarmaHtml,            \n                \"fecha\": fechaLegible\n            }\n            if (index !== -1) {               \n                // Ya existe → reemplazar\n                tabla[index] = elemento;\n                soloReemplazarDatos_individual = true;    \n            }\n            else \n                tabla.unshift(elemento);            \n        }\n        else if (estadoAlarma == \"activa_reconocida\"){\n            let color = global.get(\"global_color_alarma\");\n            let blink = false;        \n            let alarmaHtml = `<div class=\"alarm-cell ${color} ${blink ? 'blinking' : ''}\">${nombreAlarma}</div>`;\n            let elemento = {\n                \"id\": numeroAlarma,\n                \"alarma\": alarmaHtml,            \n                \"fecha\": fechaLegible\n            }\n            if (index !== -1){\n                // Ya existe → reemplazar\n                tabla[index] = elemento; \n                soloReemplazarDatos_individual = true;\n                }\n            else\n                tabla.unshift(elemento);              \n        }\n        else if (estadoAlarma == \"inactiva_reconocida\"){ //se saca de la tabla\n            if (index !== -1) \n                // Ya existe → eliminar            \n                tabla.splice(index, 1);   \n                soloReemplazarDatos_individual = true;                     \n        }\n        if(!soloReemplazarDatos_individual){\n            soloReemplazarDatos = false;\n        }\n    }   \n}    \n\nglobal.set(\"tabla_listadoAlarmasActivas\", tabla); \n\n// ---- NUEVO: limitar la tabla a solo los primeros 15 elementos ----\nlet tablaLimitada = tabla.slice(0, 15);\n// ------------------------------------------------------------------\n\nif (soloReemplazarDatos) {\n    msg.payload = {\n        command: \"replaceData\",\n        arguments: [tablaLimitada]  // limitado a 15\n    };\n}\nelse {\n    msg.payload = [...tablaLimitada];\n}\n\n// Actualizar estados anteriores\nfor (let i of elementosConCambio) {\n    global.set(\"global_alarma_ea\" + i.numeroAlarma, i.estadoAlarma);   \n}\n\nmsg.payload = [...tablaLimitada];\nreturn msg;\n*/\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 200,
        "wires": [
            [
                "2c916460aa181240"
            ]
        ]
    },
    {
        "id": "771e9b6e540c46f1",
        "type": "function",
        "z": "8894d7148034cca1",
        "name": "function 5",
        "func": "let id = msg.payload.id;\n\nif(!global.get(\"numAlarmasPLC40\").includes(id))\nreturn null;\n\nif(id > 0){\n    let direccion_PLC = global.get(\"dirReconocerAlarma\" + id);\n    msg.payload = {\n        value : true,\n        \"fc\": 5,\n        \"address\": direccion_PLC,\n        \"quantity\": 1\n    }\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 200,
        "wires": [
            [
                "275b193b85d13ae2"
            ]
        ]
    },
    {
        "id": "e2532394a062d894",
        "type": "delay",
        "z": "8894d7148034cca1",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1000,
        "y": 240,
        "wires": [
            [
                "275b193b85d13ae2"
            ]
        ]
    },
    {
        "id": "423b76df4227bd01",
        "type": "function",
        "z": "8894d7148034cca1",
        "name": "function 6",
        "func": "let id = msg.payload.id;\n\nif(!global.get(\"numAlarmasPLC40\").includes(id))\nreturn null;\n\nif(id > 0){\n    let direccion_PLC = global.get(\"dirReconocerAlarma\" + id);\n    msg.payload = {\n        value : false,\n        \"fc\": 5,\n        \"address\": direccion_PLC,\n        \"quantity\": 1\n    }\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 840,
        "y": 240,
        "wires": [
            [
                "e2532394a062d894"
            ]
        ]
    },
    {
        "id": "eaba8f7a22dff98b",
        "type": "ui_template",
        "z": "8894d7148034cca1",
        "group": "93d1106f796f2a20",
        "name": "Estilos",
        "order": 4,
        "width": 0,
        "height": 0,
        "format": "<style>\n    .tabulator-row {\n    height: 100px !important;\n    }\n    \n    .tabulator-cell {\n    vertical-align: middle !important;\n    line-height: 100px !important;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    padding: 0 !important;\n    /* Evita que el contenido se desborde */\n    }\n    \n    .alarm-cell {\n        width: 99%;\n        height: 85%;\n        display: block;\n        text-align: center;        \n        color: white;\n        border-radius: 5px;\n        margin: 2px auto;\n        padding: 0px;\n        box-sizing: border-box;\n        font-size: 20px;\n    }\n\n    .red {\n        background-color: red;\n    }\n\n    .orange {\n        background-color: orange;\n    }\n\n    .green {\n        background-color: green;\n    }\n\n    .gray {\n        background-color: gray;\n    }\n\n    .blinking {\n        animation: blink-bg 1s infinite;\n    }\n\n    @keyframes blink-bg {\n        0% {\n            opacity: 1;\n        }\n\n        50% {\n            opacity: 0.4;\n        }\n\n        100% {\n            opacity: 1;\n        }\n    }\n</style>\n\n<style>\n    .tabulator-row {\n        height: 50px !important;\n    }\n\n    .tabulator-cell {\n        vertical-align: middle !important;\n        line-height: 50px !important;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        font-size: 20px !important; /* Ajusta el tamaño según necesites */\n    }\n</style>\n\n<style>\n    .tabulator-col .tabulator-col-title {\n        text-align: center;\n        justify-content: center;\n        display: flex;\n        align-items: center;\n        height: 100%;        \n    }\n</style>\n\n\n<style>\n    /* Logo Xiriox */\n    .md-toolbar-tools {\n        position: relative;\n        background-image: none !important;\n        /* por si tenías un fondo previo */\n    }\n\n    /* Imagen fija a la derecha */\n    .md-toolbar-tools::after {\n        content: \"\";\n        position: absolute;\n        right: 10px;\n        /* separación del borde */\n        top: 50%;\n        transform: translateY(-50%);\n        width: 150px;\n        /* tamaño del logo */\n        height: 40px;\n        background: url(\"/xiriox.png\") no-repeat center center;\n        background-size: contain;\n    }\n</style>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 150,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "01589dea11852bbe",
        "type": "modbus-flex-write",
        "z": "8894d7148034cca1",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "88dbad058767608a",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1180,
        "y": 80,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "275b193b85d13ae2",
        "type": "modbus-flex-write",
        "z": "8894d7148034cca1",
        "name": "",
        "showStatusActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "server": "e1f0f7d4395cef65",
        "emptyMsgOnFail": false,
        "keepMsgProperties": false,
        "delayOnStart": false,
        "startDelayTime": "",
        "x": 1190,
        "y": 200,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2c916460aa181240",
        "type": "ui_table",
        "z": "8894d7148034cca1",
        "group": "93d1106f796f2a20",
        "name": "",
        "order": 5,
        "width": "24",
        "height": "16",
        "columns": [
            {
                "field": "fecha",
                "title": "Fecha",
                "width": "300",
                "align": "center",
                "formatter": "plaintext",
                "formatterParams": {
                    "target": "_blank"
                }
            },
            {
                "field": "alarma",
                "title": "Alarma",
                "width": "980",
                "align": "center",
                "formatter": "html",
                "formatterParams": {
                    "target": "_blank"
                }
            }
        ],
        "outputs": 1,
        "cts": true,
        "x": 630,
        "y": 160,
        "wires": [
            [
                "c06e37688032cfb3",
                "b48bddbbc2db6321",
                "771e9b6e540c46f1",
                "423b76df4227bd01"
            ]
        ]
    },
    {
        "id": "7006e71b337a44ff",
        "type": "ui_ui_control",
        "z": "8894d7148034cca1",
        "name": "",
        "events": "all",
        "x": 160,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "b1d37523c8c7121a",
        "type": "ui_button",
        "z": "8894d7148034cca1",
        "d": true,
        "name": "",
        "group": "93d1106f796f2a20",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Reiniciar listado",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 160,
        "y": 120,
        "wires": [
            [
                "71d55baa47cbf69a"
            ]
        ]
    },
    {
        "id": "3e0e153bb42f38c5",
        "type": "inject",
        "z": "a10ed2923bad1111",
        "name": "Simular temperaturas",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "once": true,
        "onceDelay": "1",
        "payloadType": "none",
        "x": 180,
        "y": 120,
        "wires": [
            [
                "dca625e79fbbf841"
            ]
        ]
    },
    {
        "id": "abc8f5f671d8a7e4",
        "type": "ui_template",
        "z": "a10ed2923bad1111",
        "group": "1b45975c904a214e",
        "name": "Barras con valores",
        "order": 2,
        "width": "30",
        "height": "17",
        "format": "<style>\n  body,\n  .nr-dashboard-theme {\n    background-color: #1e1e1e !important;\n    /* Fondo oscuro general */\n    color: #f0f0f0 !important;\n  }\n\n  .bar-container {\n    display: flex;\n    justify-content: space-around;\n    align-items: flex-end;\n    height: 800px;\n    margin-top: 20px;\n    background-color: #2b2b2b;\n    /* Fondo del área de gráfico */\n    border-radius: 3px;\n    padding: 20px;\n    box-shadow: inset 0 0 10px #000;\n  }\n\n  .bar-wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-right: 3px;\n  }\n\n  /* Separación cada dos barras */\n  .bar-wrapper:nth-child(2n) {\n    margin-right: 30px;\n  }\n\n  .bar {\n    width: 110px;\n    border-radius: 2px 2px 0 0;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    transition: height 0.5s, background-color 0.5s, box-shadow 0.3s;\n    position: relative;\n    box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);\n  }\n\n  .bar-value {\n    position: absolute;\n    top: -30px;\n    font-size: 22px;\n    font-weight: bold;\n    color: #f0f0f0;\n    /* Texto claro */\n  }\n\n  .bar-label {\n    text-align: center;\n    font-weight: bold;\n    margin-top: 8px;\n    color: #ccc;\n    font-size: 20px;\n  }\n\n  /* Opcional: efecto hover */\n  .bar:hover {\n    box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);\n    transform: scale(1.05);\n  }\n</style>\n\n<div class=\"bar-container\">\n  <div ng-repeat=\"c in msg.payload\" class=\"bar-wrapper\">\n    <div class=\"bar\" ng-style=\"{\n           'height': (c.valor/1)+'px',\n           'background-color': (c.valor>=300?'#e60000':'#33cc33')\n         }\">\n      <div class=\"bar-value\">{{c.valor}}</div>\n    </div>\n    <div class=\"bar-label\">{{c.nombre}}</div>\n  </div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 830,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "3d6ae81e7266b970",
        "type": "function",
        "z": "a10ed2923bad1111",
        "name": "Test - Generar temperaturas cilindros",
        "func": "let cilindros = [];\n\nfor (let i = 1; i <= 6; i++) {   // 6 pares\n    let tempA = Math.floor(250 + Math.random() * 150);\n    let tempB = Math.floor(250 + Math.random() * 150);\n    cilindros.push({nombre: 'C' + i + 'A', valor: tempA});\n    cilindros.push({nombre: 'C' + i + 'B', valor: tempB});\n}\n\nmsg.payload = cilindros;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "dca625e79fbbf841",
        "type": "function",
        "z": "a10ed2923bad1111",
        "name": "Generar temperaturas cilindros",
        "func": "let cilindros = [];\nlet vAlarma = 300;\nlet maximo = 400;\nlet minimo = 0;\n\nfor (let i = 0; i < 6; i++) {   // 6 pares\n    let tempA = global.get(\"valorAnalogo\" + (41 + i*2)) ;\n    let tempB = global.get(\"valorAnalogo\" + (42 + i*2));\n    if (tempA > maximo)\n        tempA = maximo;\n    if (tempA < minimo)\n        tempA = minimo;\n    if (tempB > maximo)\n        tempB = maximo;\n    if (tempB < minimo)\n        tempB = minimo;\n    \n    cilindros.push({nombre: 'C' + (i+1) + 'A', valor: tempA, valorAlarma:vAlarma});\n    cilindros.push({ nombre: 'C' + (i+1) + 'B', valor: tempB, valorAlarma: vAlarma });\n}\n\nmsg.payload = cilindros;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 120,
        "wires": [
            [
                "abc8f5f671d8a7e4"
            ]
        ]
    },
    {
        "id": "125a5d5e2b7ad924",
        "type": "inject",
        "z": "85254ca2957d3066",
        "name": "Simular temperaturas",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "5",
        "once": true,
        "onceDelay": "1",
        "payloadType": "none",
        "x": 220,
        "y": 120,
        "wires": [
            [
                "ae5f06b86296d578"
            ]
        ]
    },
    {
        "id": "881bc7870f9e6f19",
        "type": "ui_template",
        "z": "85254ca2957d3066",
        "group": "grp1",
        "name": "Barras con valores",
        "order": 2,
        "width": "30",
        "height": "17",
        "format": "<style>\n  body,\n  .nr-dashboard-theme {\n    background-color: #1e1e1e !important;\n    /* Fondo oscuro general */\n    color: #f0f0f0 !important;\n  }\n\n  .bar-container {\n    display: flex;\n    justify-content: space-around;\n    align-items: flex-end;\n    height: 800px;\n    margin-top: 20px;\n    background-color: #2b2b2b;\n    /* Fondo del área de gráfico */\n    border-radius: 3px;\n    padding: 20px;\n    box-shadow: inset 0 0 10px #000;\n  }\n\n  .bar-wrapper {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-right: 3px;\n  }\n\n  /* Separación cada dos barras */\n  .bar-wrapper:nth-child(2n) {\n    margin-right: 30px;\n  }\n\n  .bar {\n    width: 110px;\n    border-radius: 2px 2px 0 0;\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    transition: height 0.5s, background-color 0.5s, box-shadow 0.3s;\n    position: relative;\n    box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);\n  }\n\n  .bar-value {\n    position: absolute;\n    top: -30px;\n    font-size: 22px;\n    font-weight: bold;\n    color: #f0f0f0;\n    /* Texto claro */\n  }\n\n  .bar-label {\n    text-align: center;\n    font-weight: bold;\n    margin-top: 8px;\n    color: #ccc;\n    font-size: 20px;\n  }\n\n  /* Opcional: efecto hover */\n  .bar:hover {\n    box-shadow: 0 0 15px rgba(255, 255, 255, 0.3);\n    transform: scale(1.05);\n  }\n</style>\n\n<div class=\"bar-container\">\n  <div ng-repeat=\"c in msg.payload\" class=\"bar-wrapper\">\n    <div class=\"bar\" ng-style=\"{\n           'height': (c.valor/1)+'px',\n           'background-color': (c.valor>=c.valorAlarma?'#e60000':'#33cc33')\n         }\">\n      <div class=\"bar-value\">{{c.valor}}</div>\n    </div>\n    <div class=\"bar-label\">{{c.nombre}}</div>\n  </div>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 870,
        "y": 120,
        "wires": [
            []
        ]
    },
    {
        "id": "5a9329938eab1403",
        "type": "function",
        "z": "85254ca2957d3066",
        "name": "Test - Generar temperaturas gases de escape",
        "func": "let cilindros = [];\n\nfor (let i = 1; i <= 6; i++) {   // 6 pares\n    let tempA = Math.floor(400 + Math.random() * 250);\n    let tempB = Math.floor(400 + Math.random() * 250);\n    cilindros.push({nombre: 'C' + i + 'A', valor: tempA});\n    cilindros.push({nombre: 'C' + i + 'B', valor: tempB});\n}\n\nmsg.payload = cilindros;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "ae5f06b86296d578",
        "type": "function",
        "z": "85254ca2957d3066",
        "name": "Generar temperaturas gases de escape",
        "func": "let cilindros = [];\nlet vAlarma = 500;\nlet maximo = 800;\nlet minimo = 0;\n\nfor (let i = 0; i < 6; i++) {   // 6 pares\n    let tempA = global.get(\"valorAnalogo\" + (9 + i*2)) ;\n    let tempB = global.get(\"valorAnalogo\" + (10 + i*2));\n    if (tempA > maximo)\n        tempA = maximo;\n    if (tempA < minimo)\n        tempA = minimo;\n    if (tempB > maximo)\n        tempB = maximo;\n    if (tempB < minimo)\n        tempB = minimo;\n    cilindros.push({nombre: 'C' + (i+1) + 'A', valor: tempA, valorAlarma:vAlarma});\n    cilindros.push({ nombre: 'C' + (i+1) + 'B', valor: tempB, valorAlarma: vAlarma });\n}\n\nmsg.payload = cilindros;\nreturn msg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 120,
        "wires": [
            [
                "881bc7870f9e6f19"
            ]
        ]
    },
    {
        "id": "938582954261822a",
        "type": "modbus-read",
        "z": "697a83d4f066a91e",
        "name": "Modbus - Alarmas - PLC 39",
        "topic": "",
        "showStatusActivities": false,
        "logIOActivities": false,
        "showErrors": false,
        "showWarnings": true,
        "unitid": "1",
        "dataType": "Coil",
        "adr": "409",
        "quantity": "5",
        "rate": "1",
        "rateUnit": "s",
        "delayOnStart": false,
        "startDelayTime": "",
        "server": "e3c28e6efb0403e9",
        "useIOFile": false,
        "ioFile": "",
        "useIOForPayload": false,
        "emptyMsgOnFail": false,
        "x": 260,
        "y": 140,
        "wires": [
            [
                "86c816a4fdcd55b6"
            ],
            []
        ]
    },
    {
        "id": "86c816a4fdcd55b6",
        "type": "function",
        "z": "697a83d4f066a91e",
        "name": "Variables globales",
        "func": "var msgOut = [];\nlet listoParaPartir = true;\nfor(var i=0; i<5; i++){\n    if(msg.payload[i])\n        msgOut.push({payload: true})\n    else{    \n        msgOut.push({payload: false})\n        listoParaPartir = false;\n    }\n}   \n\nif(listoParaPartir)\n    msgOut.push({payload: true})\nelse    \n    msgOut.push({payload: false})\n    \n\nreturn msgOut;",
        "outputs": 6,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 140,
        "wires": [
            [
                "4f45a0f0abcfea19"
            ],
            [
                "7748baa6fdb3a953"
            ],
            [
                "28c713ad174e2ad2"
            ],
            [
                "aa085afa046f8650"
            ],
            [
                "91b808992b021f03"
            ],
            [
                "b9db93e29cd7aff7"
            ]
        ]
    },
    {
        "id": "f9cea1caa18b20bf",
        "type": "comment",
        "z": "697a83d4f066a91e",
        "name": "Quizas el M0 comienza en 8192",
        "info": "",
        "x": 290,
        "y": 80,
        "wires": []
    },
    {
        "id": "4f45a0f0abcfea19",
        "type": "ui_led",
        "z": "697a83d4f066a91e",
        "order": 5,
        "group": "91aee51fc459fee6",
        "width": 0,
        "height": 0,
        "label": "PRESIÓN DE ACEITE DE LUBRICACIÓN DEL MOTOR PRINCIPAL",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 850,
        "y": 120,
        "wires": []
    },
    {
        "id": "7748baa6fdb3a953",
        "type": "ui_led",
        "z": "697a83d4f066a91e",
        "order": 1,
        "group": "91aee51fc459fee6",
        "width": 0,
        "height": 0,
        "label": "VIRADOR DEL EJE",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 850,
        "y": 160,
        "wires": []
    },
    {
        "id": "28c713ad174e2ad2",
        "type": "ui_led",
        "z": "697a83d4f066a91e",
        "order": 2,
        "group": "91aee51fc459fee6",
        "width": 0,
        "height": 0,
        "label": "PALANCA POSICIÓN",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 850,
        "y": 200,
        "wires": []
    },
    {
        "id": "aa085afa046f8650",
        "type": "ui_led",
        "z": "697a83d4f066a91e",
        "order": 3,
        "group": "91aee51fc459fee6",
        "width": 0,
        "height": 0,
        "label": "MOTOR DETENIDO",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 850,
        "y": 240,
        "wires": []
    },
    {
        "id": "91b808992b021f03",
        "type": "ui_led",
        "z": "697a83d4f066a91e",
        "order": 4,
        "group": "91aee51fc459fee6",
        "width": 0,
        "height": 0,
        "label": "PRESIÓN DE ACEITE DE LUBRICACIÓN DE LA CAJA REDUCTORA",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "square",
        "showGlow": true,
        "name": "",
        "x": 850,
        "y": 280,
        "wires": []
    },
    {
        "id": "b9db93e29cd7aff7",
        "type": "ui_led",
        "z": "697a83d4f066a91e",
        "order": 1,
        "group": "aa12e198a4d8718e",
        "width": 0,
        "height": 0,
        "label": "LISTO PARA PARTIR",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "false",
                "valueType": "bool"
            },
            {
                "color": "#008000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "LISTO PARA PARTIR",
        "x": 900,
        "y": 340,
        "wires": []
    }
]